apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: jenkins
    namespace: jenkins
spec:
    interval: 1h
    releaseName: jenkins
    chart:
        spec:
            chart: jenkins
            sourceRef:
                kind: HelmRepository
                name: jenkins
    values:
        controller:
            admin:
                username: admin
                password: ENC[AES256_GCM,data:CaXg0OwhZ8cCDI07ZYeLyKftcVGnFQ==,iv:3OqL4n9IBiUinlOf9JpIv5TX+1aNRkbUlOu/lZRMyIw=,tag:1KhDENoO9ZQ/mj5fo5ktPA==,type:str]
            jenkinsAdminEmail: ENC[AES256_GCM,data:Bc+Yab+cGRsX4fBkDCZwkOhrXPugNmPC,iv:4krusI9a4dHWVGHDFxTSY6Ki5eV+csbQwp482Y+SblE=,tag:sQoISj1VnNnyMXFNKLph0A==,type:str]
            installPlugins:
                - kubernetes:4306.vc91e951ea_eb_d
                - workflow-aggregator:600.vb_57cdd26fdd7
                - git:5.6.0
                - configuration-as-code:1903.v004d55388f30
                - oic-auth:4.438.v6e62f6782770
                - gerrit-trigger:2.42.0
            JCasC:
                securityRealm: ENC[AES256_GCM,data:HOCDIx0b9Q9TPFDFWBpbkkQeYF2wwgav/lOPx4Y6gyd/pGpnlhLxESTE/yuUVhSba+OsRSX92mQNOvPuQcFZnEF9W8PumVlEp2EUcGEXn1EifvA44c74Vq71/VI4PlimtLSWo5Kgiv9qrwn7UF7fmn40GaJteCv2YWbPZo6c5mcM7Qenbuf8oD4jZ8pluaZGBkmstgoKduNF/kOYk6QS60GpiGPOb4VVBtdAW+wXDjj5d0GSE3Fu2ouZWOKiSpbJDfRUgNfsOKhzTrVDreVU6qIohz/a6EDNsdTlB3bI33wJdsiWcV3iBfSs329PZGtnTefFTd0/ZJ3n2I6p3qt2bZCYZabD96ysTMKeZa+LuQyGIY08aiWWXRoOHxSqLwLociWlUHGRNg6qj0mMAGeL0HI44Q9BwOQ2xlpHLRTAhRQNOli/CDFFxB8rtdfuid6S2ROGvNfH4pQ+fdJrgIvi18JocPSZNcnzyHffJ9pVKdcJY0SpY+G3kuBIZASFN5ETZMWPbetVeHBmgj8jEqjgTbC3mXvPe6oPEdzeVhbsplwelHaZ6o5AFhl9I0nkUqZVd51c+eUZZrhRxrJxa814gD+8uet4RHittMGhYoMvdPWL4z1D4zqH7pLBLfoeG4K5qNIK9IURfq9FBHofvLSj/vsswa6BOSh9KSQEObpdI6Tzl3n/raltG0wqoTF+5fFq+I1Bi0rVJxfwVfgq+Q05BNq7fpC/yVHUBsmi4rltevAo9uE0rpB+AM8vpGgStowTzl7JrxzP0gvYl5LyjQdymgIT/czY9QbU8OMdRn6fU63YiAP9zvo6tWHlxplAw0Za/xEq5xkGpDgGqxbs4xnzKUe+1ZW/Yq9t6dxkuTOG,iv:KOVAEe0jb0qRHJg03u4ohqovk/lsNmie9QOJ95DsALs=,tag:aSyz+zyaK5/wpf5QkXqgrQ==,type:str]
                authorizationStrategy: |-
                    loggedInUsersCanDoAnything:
                        allowAnonymousRead: true
            ingress:
                enabled: true
                apiVersion: networking.k8s.io/v1beta1
                annotations:
                    external-dns.alpha.kubernetes.io/hostname: midnightthoughts.space
                    cert-manager.io/cluster-issuer: letsencrypt-dns
                hostName: jenkins.midnightthoughts.space
                tls:
                    - secretName: jenkins.midnightthoughts.space-tls
                      hosts:
                        - jenkins.midnightthoughts.space
        persistence:
            enabled: true
            size: 8Gi
            accessMode: ReadWriteMany
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUYSsxTmRCdzlEU3VOWmxV
            QkNseHR6TG9ob1BVUFZjcHZpZ20ralJPVVI0CmllWERnUXBVZDc1bkUzMXNHby9y
            ZjlRZGNtaUJMMWdIQnlyMVJ1OFVoaDAKLS0tIEd0NjFCNnZwTS8vdXQvZk5vQVJi
            RGxRMzZNQ0dqSDJYU3QzaXllaG1GanMK5eJbDMGc8qu8eodbX8qNG+hlkZadCO7h
            AZibGNBM1O6W1LUMRd0GomrEt4cv8NcM4hDjwTWB1KzQw3KT1YgMCA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-12-21T23:53:59Z"
    mac: ENC[AES256_GCM,data:IL13r6A8YjLgK8fcSF0si7a0L8Y+w4fm+iOKSMRZI7GCb5r7Iw7lNFiApJ6MxTcfJquADIlnNDtrXhzfE6o3pWp70nHqNyvZLbeR9c9MBC9lW7NwkAjdiwij6nJf/lUsn4Nq5tciJ9eoSQIYsLmbdGJTja2LbxBqHMWUhDX83BE=,iv:aNVNbaP+dPX/3qi2A1QB9Y7jTYXDzAmDweZEwYmUEA4=,tag:MdnScHoTt6RMyQdBJ2/4Qg==,type:str]
    pgp: []
    encrypted_regex: ^(jenkinsAdminEmail|securityRealm|gerrit.config|routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.9.1
