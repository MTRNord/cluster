apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: jenkins
    namespace: jenkins
spec:
    interval: 1h
    releaseName: jenkins
    chart:
        spec:
            chart: jenkins
            sourceRef:
                kind: HelmRepository
                name: jenkins
    values:
        controller:
            admin:
                username: admin
                password: ENC[AES256_GCM,data:+WoZz2komc4c2Ov2ZwdxztQsU5xqxg==,iv:pDTSx7bweLQhDD0PH+okfTnF5yS7eOWWFYqKTeOV4qQ=,tag:Ob+H359QJF9yyMILBSaf3Q==,type:str]
            jenkinsAdminEmail: ENC[AES256_GCM,data:nUtVqRCpfa/gc2HaBL3NBedhLuvITcNA,iv:wlmuXtkxvZXBFeKN0XkeqeWEXXffSSWnfcRLl9O0iJ4=,tag:dAV5HYg6E2b+/8QVePJv1g==,type:str]
            installPlugins:
                - kubernetes:4306.vc91e951ea_eb_d
                - workflow-aggregator:600.vb_57cdd26fdd7
                - git:5.6.0
                - configuration-as-code:1903.v004d55388f30
                - oic-auth:4.438.v6e62f6782770
                - gerrit-trigger:2.42.0
            JCasC:
                securityRealm: ENC[AES256_GCM,data:EThHmKlppaUzR93oS1/DCYzgyByt6UiiCy5PpVTj6SufEKqJeoxAWi69gyS/wNMBcvwdcPCN2Jq+NBtcY6jpwqC6PajUKRvQgU3lZ2aUqPiC/ByEFfb5Zp401Na42eD1N3SOeqKH5M3c68FBO/qOMZNN60EbYpB0L6BYNSnRoFQurkxI0rjJ5cAADTUkDkJkZXNU1Ee+h1argqYfWZS+hi0q9N59ulDAJZJ1NDLafjBxXQaYgMkt/0Gn1M0E5zpyCnfqnXk1LwFGNMPZsiehU17Q6wl+Vjzo5DCyJ9W+Mq3gfIbx1xWv19fNDBzgDp6HggWnR1srXqNHTQwUUT3EuyDcJZhlr9LpBTPS+KP2V+shKporXnP7Z9pvn045ogKziNSX0xHwnu8CPD1V5R8VBFtVE3zNsJxwkpcjQlJZlMR8Reu3CTPBizMVy/Ld7xxsde1IkGbk5202AS9nQ2aJ6RZga6ixL+Ra7Kkp+WSsuUWF2W9D9/jGiei8ynCQpm9JDOFWrkT0YM5G+R+B2Zb/0xYYNl1qQWlIYTbF806iIcE66z2jePmWl079K3I+Z9GJ+8XUbMmKfGLmVG1okMpCQPwxQZCrjZsmiwU/TGfoOy7DU1RrhUhqfK18mu3mfIatR3n1eORvUCVN02ywTZ5RI8JFLLnxDbsapmOK1rXsGJE+NeFrLWYqHi0wcjkAVaYUME+WFdK8p2PxvVtysZcY4U94eDg5rFIZEn3QGFD/gERUBdTHiAuuyFOVKxIG5lXfGfO9/si4LaJJCheSjGYqkYnUvrOOiOUj4Q==,iv:/rnvTV9GWjuygpNQJwhPitE3WIgUyyDWn16ipqpwYj0=,tag:7Tgely93tkfajg9AHLQjdA==,type:str]
                authorizationStrategy: |-
                    loggedInUsersCanDoAnything:
                        allowAnonymousRead: true
            ingress:
                enabled: true
                apiVersion: networking.k8s.io/v1beta1
                annotations:
                    external-dns.alpha.kubernetes.io/hostname: midnightthoughts.space
                    cert-manager.io/cluster-issuer: letsencrypt-dns
                hostName: jenkins.midnightthoughts.space
                tls:
                    - secretName: jenkins.midnightthoughts.space-tls
                      hosts:
                        - jenkins.midnightthoughts.space
        persistence:
            enabled: true
            size: 8Gi
            accessMode: ReadWriteMany
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWRC9ZeFRRSWpyb2g4anBt
            dnNmNmVwSVY2ZGUxcWg0NWNVWDQvdWhyM1VvCmZrUEFjYU5lVzlIRnBHbjdPdFF6
            d2xlTTNJRzc0K0ZqRE1Qa0RscjhVY3cKLS0tIGd5QWJuUkxmNVJGQU9vcUwyWFZ1
            RmlhV0Z0TGFDd3hWS1o0RDNRclpLbTgKy6bCpaq6Ty8EakkXNsRtxLLQ3YZfvJDv
            vx/4FwV7UufQ/lgkJMOaehwzqYiUmaXTXC0rH++EYyJPc5YexuzHsA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-12-21T23:47:31Z"
    mac: ENC[AES256_GCM,data:9tvqbMMqDNI5+mda4MLqFWAT/h9lbasZmdFoA3EGszU/db6u27aLWjLoAogAz4nONzXLj3Cu/MC1yRPMSp2v8lXPDuC8kPs7132JGGkTJSNXJO8c+PCKUAAS4iA2WGxIST2A64sPBWLnKCDpwfEOy+foCA8Canbplr88BqTMbls=,iv:YECU1khR1d1BB/1gV2qFBpDA1qO5EJTMESSZZ7J0KDg=,tag:MUVj/FX1zi2D2ShaUcw0Wg==,type:str]
    pgp: []
    encrypted_regex: ^(jenkinsAdminEmail|securityRealm|gerrit.config|routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.9.1
