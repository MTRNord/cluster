apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: plane
    namespace: plane
spec:
    releaseName: plane
    chart:
        spec:
            chart: plane-enterprise
            version: 1.1.9
            sourceRef:
                kind: HelmRepository
                name: plane
    interval: 60m
    values:
        license:
            licenseDoamin: plane.midnightthoughts.space
        ingress:
            enabled: false
        services:
            minio:
                root_password: ENC[AES256_GCM,data:yGhemK/SzFLBz17GBAhH+sIwzQbfoT/9AI0IsOAwaR6prwCkA/OFUbSp7I/56Dpwy+06oKsLwxJUeVE8ljHeyg==,iv:QO1do/mLIoLzYv/r2q2SpVR0MtFO3WxXfv3xMcITDLU=,tag:aBDcjl3s6NTbKHCeTqODjw==,type:str]
            postgres:
                local_setup: false
            silo:
                connectors:
                    github:
                        enabled: true
                        client_id: ENC[AES256_GCM,data:GMyY8qPVws55GtCiRCkZriL5ugk=,iv:sJrG/89lP+j9oaQ16FmOKur+CK0HlbYf9T7A8aAlzig=,tag:glGNYUF5aMo0zS1zz6UPZQ==,type:str]
                        client_secret: ENC[AES256_GCM,data:ZBMgq6mKQtVqDiiAsvKhmlj3VZ7AaozDExVPNDAyQOFr93ySrohXNQ==,iv:U9iiGEu8eTgxY/U8s6SBlAe6iisZzRzRqtjqSG62ATk=,tag:RELtiDfKSJrxAyheBy042A==,type:str]
                        app_name: Plane Midnightthoughts
                        app_id: "1242151"
                        private_key: ENC[AES256_GCM,data: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,iv:W4bHLpNDApk0fjQymfRhQXOLiRLXVtpK9boUjtfJmZs=,tag:DuR4cNMXpm69FEdOc+ie8w==,type:str]
        env:
            storageClass: ceph-filesystem
            pgdb_username: plane
            pgdb_password: ENC[AES256_GCM,data:+Ts2PGNJIqn3Q5UK5GEwsW0BLpMZmgnbZvlPqlrVfJqi37F7rj7ZBfblvbIQvMAY04XUcxJVa3D7lzbhgByExw==,iv:FB+SZpIOPJgoTLe+4ii1lBSnGbVEu/ZH5J2kr40Z7eI=,tag:rcXESlKBGts6l8k4EDn9lw==,type:str]
            pgdb_name: plane
            pgdb_remote_url: ENC[AES256_GCM,data:gHCxSAPWiGeu3Uom5e7pwHsbIssVOeEtHlz2csslBmXVyOgQo4oSNjc1A2dKNouODj9C4sLqpuJVF8TkfcLvJAYLCLYpF+nI1h/+e54w016ITXYwfvvW8OBkZzc/9h1v0MNJxnuWojJyKbwc6Cz/CRJ3ShTJ5U0JopB6pGSGbFMqk++5n/UOCpP799ky,iv:UTRHIkE0dHY0x22mN/YCwRbag0k3qj5dIdZJQWwrzz4=,tag:7CptM3TfK9HpmTLeONCq0Q==,type:str]
            secret_key: ENC[AES256_GCM,data:smD5xf5w8bNDhkVUdV8FUuzx/uugeuNfVC29eZkfHFFLRwAmoLcSkcrCg0QKWGYhrdIFZeWAe06XRAX/HhilpA==,iv:4mIy18/JcoVG/0XYTqQxXpUDR5aaxh8Q8iWFyTYu89M=,tag:b75q9EKvoOgM2hhGjjlNdg==,type:str]
            hmac_secret_key: ENC[AES256_GCM,data:ABpzW6wrvEonV23e98gZTN2F8+e2FDXbzIp2LmZmZHAXzWb0OgqHttw3pUOm+yTnIKpBm1Ub5yKGD65ooCguGA==,iv:0cFYnIwrJiUw4acdanVduMa9Ekxc8dqlwKr6KQ8PGCk=,tag:yWFOtP6PwSFYC9NX324npQ==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBCa1JjSlM4a1pxaGk5TElR
            eW5sT1lTcFZXQ3AramNEanpxak1pd2RtZFE4CjBVb1NiVHlNME5peGdxRU15RTRo
            Ui9zQXZ5WFpyYkNBekRKZ0xza0pPRWMKLS0tIDVycWU4OVcyVTM1OUxyekQxdTNK
            MlRweVRMOUJ1MHNBNlFtOWhuUlJvWHMKmwp6C3AHrNDutLEog1HoomjBU6aXqNmE
            wfR9dk6RmRBJuojqNN1Dno8dhhmMoZNrcpGjxUs63JJ2OlRJhDBZhQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-05-05T19:37:20Z"
    mac: ENC[AES256_GCM,data:PNJiDx+VWpqjq3CzV3udbb/pocGo1i7aCQdQEtz41nbdZLd8sKixuEnjkOsiesiZzZKIPvBn3PUXXicdX0/3Dapjs3DU++j0MDri9XOfnFP0lc9QnRIgR6a6ysv0YZDtPlIJtCNMLpfdVLEYlofP1cGTDxMRLNvh+n/Htu23PcY=,iv:Rv4QsbI8wtdZ1oRAUAn9fIpcnhP2FNAYjpFocX4A8LM=,tag:b0pEWT1EecD/tKjBLtJn0g==,type:str]
    pgp: []
    encrypted_regex: ^(woosh|root_password|rspamd_password|pgdb_password|matrix_access_token|pgdb_remote_url|hmac_secret_key|adminPassword|adminEmail|jenkinsAdminEmail|securityRealm|gerrit.config|routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.9.1
---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
    name: plane
    namespace: plane
spec:
    parentRefs:
        - name: envoy-gateway
          namespace: envoy-gateway
    hostnames:
        - plane.midnightthoughts.space
    rules:
        - backendRefs:
            - name: plane-web
              port: 3000
          matches:
            - path:
                type: PathPrefix
                value: /
        - backendRefs:
            - name: plane-api
              port: 8000
          matches:
            - path:
                type: PathPrefix
                value: /api
        - backendRefs:
            - name: plane-api
              port: 8000
          matches:
            - path:
                type: PathPrefix
                value: /auth
        - backendRefs:
            - name: plane-live
              port: 3000
          matches:
            - path:
                type: PathPrefix
                value: /live
        - backendRefs:
            - name: plane-space
              port: 3000
          matches:
            - path:
                type: PathPrefix
                value: /spaces
        - backendRefs:
            - name: plane-admin
              port: 3000
          matches:
            - path:
                type: PathPrefix
                value: /god-mode
        - backendRefs:
            - name: plane-minio
              port: 9000
          matches:
            - path:
                type: PathPrefix
                value: /uploads
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBCa1JjSlM4a1pxaGk5TElR
            eW5sT1lTcFZXQ3AramNEanpxak1pd2RtZFE4CjBVb1NiVHlNME5peGdxRU15RTRo
            Ui9zQXZ5WFpyYkNBekRKZ0xza0pPRWMKLS0tIDVycWU4OVcyVTM1OUxyekQxdTNK
            MlRweVRMOUJ1MHNBNlFtOWhuUlJvWHMKmwp6C3AHrNDutLEog1HoomjBU6aXqNmE
            wfR9dk6RmRBJuojqNN1Dno8dhhmMoZNrcpGjxUs63JJ2OlRJhDBZhQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-05-05T19:37:20Z"
    mac: ENC[AES256_GCM,data:PNJiDx+VWpqjq3CzV3udbb/pocGo1i7aCQdQEtz41nbdZLd8sKixuEnjkOsiesiZzZKIPvBn3PUXXicdX0/3Dapjs3DU++j0MDri9XOfnFP0lc9QnRIgR6a6ysv0YZDtPlIJtCNMLpfdVLEYlofP1cGTDxMRLNvh+n/Htu23PcY=,iv:Rv4QsbI8wtdZ1oRAUAn9fIpcnhP2FNAYjpFocX4A8LM=,tag:b0pEWT1EecD/tKjBLtJn0g==,type:str]
    pgp: []
    encrypted_regex: ^(woosh|root_password|rspamd_password|pgdb_password|matrix_access_token|pgdb_remote_url|hmac_secret_key|adminPassword|adminEmail|jenkinsAdminEmail|securityRealm|gerrit.config|routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.9.1
