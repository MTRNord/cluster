apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: vm
    namespace: monitoring
spec:
    interval: 5m
    chart:
        spec:
            version: 0.20.1
            chart: victoria-metrics-k8s-stack
            sourceRef:
                kind: HelmRepository
                name: vm
            interval: 60m
    install:
        crds: CreateReplace
    upgrade:
        crds: CreateReplace
        # Force recreation due to Helm not properly patching Deployment with e.g. added port,
        # causing spurious drift detection
        force: true
    # https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/values.yaml
    values:
        vmsingle:
            spec:
                extraArgs:
                    search.maxSeries: "3000000"
        victoria-metrics-operator:
            operator:
                disable_prometheus_converter: false
        grafana:
            adminPassword: ENC[AES256_GCM,data:WKE2T+3DC14AnjYmhftSnFfyWdfgIOUoVHC+H3DImlDng+RQ77ekfhiCUKThx/W7Hyvz1CzCMEPNYdFomvwpJA==,iv:hh1opoqYfokMABldgfYURlmmOO8aseZBE3EAIFvQTrM=,tag:CSoIkJBnr8/HCR6fWC6mzw==,type:str]
            alerting:
                rules.yaml:
                    apiVersion: 1
                    groups:
                        - orgId: 1
                          name: Draupnir4All
                          folder: Matrix
                          interval: 1m
                          rules:
                            - uid: fdz35yf78i8lcd
                              title: Draupnir4All Synapse online
                              condition: B
                              data:
                                - refId: ENC[AES256_GCM,data:yA==,iv:cPckassfqkxDx6RCCZ4w+IrPTn9Cltk3CAyWgwYTNJw=,tag:14NFaIbYqzyDbuMf5AuMhw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:O2Nv,iv:cU36wDc+wm9zQXxLVi7Jp/5cAMDzkLGxczGSBCo1Ah4=,tag:rYviS8gxSj0+wVE77agM0w==,type:int]
                                    to: ENC[AES256_GCM,data:Gw==,iv:fzfUX6t1TlFUI0sBcyGRSCBpDXimSp59oiM235JB8HA=,tag:+HrWhwf+nrwGng+NvMMUTg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:LsUEeUv8KIU5pw==,iv:GSSGE3FN0OkD0OuK0gSsUuE5KZYtc/5dedpXuyj41aI=,tag:m0CyHdxr3AUaw5gsBw+QAA==,type:str]
                                  model:
                                    editorMode: ENC[AES256_GCM,data:nmxLxA==,iv:36rzHLRepl9y0vxp/1GeNlzCJcTbkTFP7PpK91bHvEY=,tag:zkP2fIe+i2nw381eG4u5gA==,type:str]
                                    expr: ENC[AES256_GCM,data:ABvjPBYXB91N4PQkKn6DyQ0YzuXO9ocJUGgc5sIeqoBIzJVdlpJK0h+usDuH1LZWpSSaOv9BWQbJfIdmv7O7xDMTOeJGiXeyuEBNel4naR6GbIJ8kL5QVTbQa3+r3k7Y2FgcGPfl4GG1H14M7z97ny06EtBqZWRuZFX3XG5+e/VgWTdZhiXZETrNqoCV8g+nkRor7dLqaTY7jORE8y3eJkhSQp/Df1coB9ng9PrwqjiUrv5AsbgmZJEQSTk4qIyB3LH/kwmQh08Oy3p+b38=,iv:+lP6RJX0Y5qXVfvBvvN1y94kVIAlclZJh3rK10cgx4I=,tag:g2rkeAseWTpXuvnmOVm5nw==,type:str]
                                    instant: ENC[AES256_GCM,data:Xi3R0Q==,iv:Zf2/+F7iBP+aA5wue5+1x2AIBBKGA5P3ki8YCsnQ76s=,tag:NlhOGdRSWKbWPqsqzPt7QQ==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:PwA3Pg==,iv:PXJ3uWNHko/pPRxizvyGeZxnd7rSMMfkl4IpkNTupgU=,tag:g9PYoTaMQIH+hhhBgDdZRQ==,type:int]
                                    legendFormat: ENC[AES256_GCM,data:5NvRSc8O,iv:Owzjrqjva+KUGKRWBp3HykEKxmC/bK8LAFt34A1YtBg=,tag:VIrGY+gaY/bu0xOJWBYQFw==,type:str]
                                    maxDataPoints: ENC[AES256_GCM,data:yZ5b1dY=,iv:+khOQ5WmoR6AZlxNKc8IbD7qLeAdnBfUatEInDXt0xE=,tag:ctEnfUZD2MvDgKr/89QL5w==,type:int]
                                    range: ENC[AES256_GCM,data:psq9E1Y=,iv:P1BdYxqFYU2QijkPkyroePU88E9pEs2irTw8eSm4r+E=,tag:4dP2rzkUeb46ytbxgr8J1g==,type:bool]
                                    refId: ENC[AES256_GCM,data:3g==,iv:sP5y/ndx3lavx6e0QWPDzKMXcxA962i6Zp6EHvTNOyo=,tag:ttT5A+o5VaDR58EGlv+wqQ==,type:str]
                                - refId: ENC[AES256_GCM,data:yQ==,iv:NkzfJ335Jm1OBzM42ddbKBxSFMNYHjizltf4d+5OhiA=,tag:VqL37PPq2Vf7gomJEGz/5w==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:hRQu,iv:gshBpuiJtcoXlGGXuRHUIs0udLbL006rhhvf3aSu7FY=,tag:ui8Z170p5sgut11TI2KWOw==,type:int]
                                    to: ENC[AES256_GCM,data:0w==,iv:qquftzvXbHMxW8eVjyCXBg09/0peEGt894EkfVUySfE=,tag:Y8NOYH9yO8nm3DdaD6t8Rg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:Wyzj9jpue0U=,iv:evnkhU10WQVsgAD/FSUtG2xkTwnbn2AjnCUFnBFmMqQ=,tag:oPhXneZ7aSbRXcFrj7mQPQ==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:oQ==,iv:0x+evmVGu3QqP0pOkYKRimNQ3QoGmYtfA+qvHrt4mF4=,tag:IJoVlxaPMysyB0+0NhCUCQ==,type:int]
                                            type: ENC[AES256_GCM,data:Vt0=,iv:/QAZMDodcVXHWHP12UI6fIyuNndlB+QTWJHHYuUceDk=,tag:wtoWnahHShSmM5+szG7EWQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:TKo9,iv:OwYT7/P/dCL1PIi7PnPzrLiAC+X7GRmJ1mLrlp4g0N0=,tag:RljF4/9yND457/Tg5bIh+g==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:XA==,iv:Ae/tQYQnSBXqgcvK0DV8OyEqH++YFKUC59HhXmhzmkk=,tag:VitmGmSc6JrPHTcH625i+A==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:DLL5rg==,iv:ChcYF74hsPEzg3PI1CirOo70Sh2RXNJHIP1zcNHDXD4=,tag:Rdu78ER8q4h4aOL/1gugvw==,type:str]
                                          type: ENC[AES256_GCM,data:LTgOXss=,iv:hUNggmWPFkrowzVbDkReYiu4ClcmGhHPg/uZnMIMkOU=,tag:U7/NJ6BKlKKN5b9tBMAr4g==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:RfcIkuUFqJk=,iv:vrMSOG/zFS+Q5NEXGQQK/YgdwQ/1UJkuq5eZ/UOY5so=,tag:7P0d93N3+2PuDdpT5eHiVw==,type:str]
                                        uid: ENC[AES256_GCM,data:scIp4tfjU0w=,iv:x7GiY77rC40wMDdV8gzvjC7yNWVwfNhfgh9aW0vhUYk=,tag:Ow5MRjXcheJFDvxMXa9h0Q==,type:str]
                                    expression: ENC[AES256_GCM,data:iw==,iv:TyFX2qjYMu5EVAjTzwJCp5WIauwTTi1oHPXdrAgIAXw=,tag:w7tgFVviJQaMIT0ORdbVlA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:xdB8bA==,iv:XUtsTPTi6wuqDOypuSjMhw1aIDVVVeoyPuMUiU9U9Qw=,tag:qFiqxnIb9eMW77UDtgk02Q==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:/K8JhqI=,iv:TpM2dJHU7rhTg/UxKkjX5LsramhSYqHA0tH+rCEVDfI=,tag:GY4IEXq4MLc5z89m6RSntA==,type:int]
                                    refId: ENC[AES256_GCM,data:Rw==,iv:UiZkjMDDDWGxXyoNLolYFWD3tlisC3zshE8qq8xF+y8=,tag:L6O7AcM8kKzd7zn6OFQavA==,type:str]
                                    type: ENC[AES256_GCM,data:/GzAL7tsk70R,iv:eQI4HWT5rvOE6O2Dw85Nf0tE8gpsEIMvtikUdiIp18A=,tag:LNqNl2ED+43E6jbKNdQKuA==,type:str]
                              noDataState: NoData
                              execErrState: Error
                              for: 2m
                              annotations: {}
                              labels:
                                service_id: draupnir4all
                              isPaused: false
                        - orgId: 1
                          name: Kube-system
                          folder: Cluster
                          interval: 1m
                          rules:
                            - uid: d2b94d3a-2483-4be4-bf2a-2fd9f9fac406
                              title: Coredns Failure
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:ILP3whU=,iv:M+fOB7Lf/84a7AwxyPFfAU9EY0TltbFs+GTnsbkQRxw=,tag:syN/xkoCa3G5BskpN3tBew==,type:str]
                                  queryType: ENC[AES256_GCM,data:xH/T7gA=,iv:ZLjFZdYpGvoKcGO3nMpfOEuXZXOsvWJq/Rza93NsfTM=,tag:8MU+s27bZ3qVvhQkuPqz6Q==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:SueK,iv:TgcnIAmO2Z1UrbUf9sg73+3uuWzJUMxqY2SY4HLy1u4=,tag:aM+1aIEjdZTMjIJenXAV8g==,type:int]
                                    to: ENC[AES256_GCM,data:IA==,iv:zOuwNXmIqYIsAh/F5eCu6aMZvq2pGyrmHYJ1YlgLjCU=,tag:ngjCgGHk6PbS0burt9mm/Q==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:y9lSOw==,iv:pDSVn2AHE+ZleyBMZtzDF8F7SfcJduwIgWEVgS39DoI=,tag:iUXXZqARLtU54t8qaAPaDA==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:sb21Xg==,iv:LI8lAfwq1GpTZyt2eG84kIcHVvUHVjkt1begrqqpPsY=,tag:YJP2fnrhaurgCtX/HXDSaQ==,type:str]
                                        uid: ENC[AES256_GCM,data:CXyrAA==,iv:m3mx2W8wvKKWupxIcdz9M36ssoY6Xneyn2Uj6Izk5w0=,tag:6QEZTSLXA8mUk+NmDIAVyA==,type:str]
                                    editorMode: ENC[AES256_GCM,data:g4141yKY3w==,iv:SSsb55g37rXOdT+rew/pECU+Y8t4bvJp9ahUyZGmPdo=,tag:51+ZDxtvzVYC5XOSE2uz8w==,type:str]
                                    expr: ENC[AES256_GCM,data:hPBYoCDkwoYtifcox2tEqCd4hdmFnns5R6gRIEDtpBm1AO/secE6k1jCG+6uV8VQHdJgkKthbLvA1U8fANVPiwMhMZSW,iv:ydtJHrds4ld1Qx++kIcKwQUPDoqfsrhEyOgLzoEClyI=,tag:WeCfWZNGvWs2hBxsEJF2sg==,type:str]
                                    hide: ENC[AES256_GCM,data:ZU3AZ6Y=,iv:21YPMioWUM/2PnPTx6ml42sB2wBpmCcdnZ/7F89Hz3A=,tag:3J/svqGr3mZBtOfYWE8L2w==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:cudSDw==,iv:tZgTD07zlCIHTaKsulKB8g6O9SaWQRWinI6mgClkagk=,tag:Y0hJyjTvy76sbOOsyYCJFA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:WkawCNU=,iv:4514AcS069yZmr9PeycB08z0mgRmSTlx1oWtRE8kESg=,tag:HfMRLrwDEK6RUCFYcjmMJg==,type:int]
                                    queryType: ENC[AES256_GCM,data:kVImI/Y=,iv:SSjTAhkXuN0BhxJyRDnnTJaZM5vWzLDSS4RS1UCVXlY=,tag:lES9xBdJXzJyRFjYzCgUYA==,type:str]
                                    range: ENC[AES256_GCM,data:qw3zaw==,iv:s3ZYBf6DxPhBeNGRCfL15Mob3nvtwZkGYeIRxXoMML0=,tag:iRFbt7BOpYfjzKsnCT2UGg==,type:bool]
                                    refId: ENC[AES256_GCM,data:0zQFNQo=,iv:IrRG84AgYHMF70n+mElZ/ZFLUoJbtNwSHXbnqMwy3J0=,tag:+UiUJ6sXg1MUAdFPtSCoUw==,type:str]
                                - refId: ENC[AES256_GCM,data:NadO7wTc,iv:exTJry4cc1I1xN+rbRM4UH3X4rtxjrxRZ0rftk1ni9c=,tag:Ed/1bLG35nqpWBFJSEug4g==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:jJRx,iv:azpI8yr7XXIKttv+G4AYvuc5ndaWuTf6DvsgeyRgTS4=,tag:laDbjZSAs9bY80wbQzcWnQ==,type:int]
                                    to: ENC[AES256_GCM,data:4Q==,iv:LB3ABOlpfmK/aMBbwsStcSwvh/rO1B5aiQoznucoLsk=,tag:8YMYcHs/Vgf1PIDkw5pxCA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:1KoxrIzgWq4=,iv:4elCYJ7zFhV6MvkKce9WTMe4NgDOHNUMu3mDpOLA1p0=,tag:zTDEoodIUx6uhw8iLsYc/g==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:SQ==,iv:tCYQjpo6+kaUkU0K55Qtj/aJ49tt34FBUdjUhdCfRuo=,tag:VxGd5IDw5Ie8e2oy69szLQ==,type:int]
                                            type: ENC[AES256_GCM,data:tnw=,iv:u+CmZTOGs9BIp8cbkMRuU25e2z1m8VAQSaFbH5s54jA=,tag:m7NvVQCIrojQStr0eDAh/Q==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:tTMF,iv:hNAKCyixNh/ltu7DzzeqWU2ZjW9D2E9vTkuofZOoTb4=,tag:J6ncgeUffqbik2B6oC5DJg==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:gQ==,iv:N9iInWXVD9JGBqkOpZowZ7X/V5ANdaQRIvgp1H22tLc=,tag:tIT4jR8+lIHKU7L62qYpSg==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:Jhm5yQ==,iv:ipMF66ko92MkaVSMrl5v9kax5sjcQsqONl1Xhg/ejVQ=,tag:p5IKMGswsYjh6uaswtZwhw==,type:str]
                                          type: ENC[AES256_GCM,data:bLUqAHM=,iv:wC/6kFY8FxSvpc+MPl7DEhNphYH7V3O9+rpU9kt9pBs=,tag:WvTON4Op1ZIm05OpyAxmEw==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:9i2G7f8sW9o=,iv:6QgsVHItbe4EzTbQz7wGb/W85QgJLv5dCn/VoAqUbv4=,tag:I3O64IVysC0L8uM2zBRWyQ==,type:str]
                                        uid: ENC[AES256_GCM,data:TnnpEndfcEE=,iv:cH5X2ACIq/7gKPxph9xuvDrsYUsMh98ojHOQasYalCs=,tag:ByOAbVxZobGTgBE8+QhAxw==,type:str]
                                    expression: ENC[AES256_GCM,data:nA==,iv:Us9RQzrXXDUEP46l6x9nExZxq1HBnf4e912HSmgqE/c=,tag:Ula44kB8ZxtxufCFkjamJQ==,type:str]
                                    hide: ENC[AES256_GCM,data:Z6urU7Y=,iv:4FwDmTQtMiutXs95B16VEaghPzq+tMggRbbjA1bcn2U=,tag:5N/i84nt11O7gBy9UVU5Ug==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:Yr+uTw==,iv:jKMxHUqM68h9P9IYGFxv+5PQuC7V794NiRfvk1j65HQ=,tag:L6ACUBYcIbZm8D8g2X8FHg==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:0d1RxG4=,iv:tWM5KvyqFDR+90OShiBZXETZHcr1HRY5nn05lDludqQ=,tag:wBqFZPAzKY23qEYAIdgiRw==,type:int]
                                    refId: ENC[AES256_GCM,data:87xK0ug8,iv:KqVdWGdVqhYqupQ4ti0nPosRujfm+d6vyeHKHwtn7E4=,tag:/t6Mq03kgwXmk64Ob0V5ug==,type:str]
                                    type: ENC[AES256_GCM,data:J/cVrTNI/a0h,iv:Quqbg0MYDqkt4fBrsIFD1GNlKrQyVE0Ajq8ea5qIeys=,tag:FjoySOiycSRh/9m6PK0CoQ==,type:str]
                                - refId: ENC[AES256_GCM,data:iA==,iv:QWOxWyKYRpCrw0PLus8SytvYAnpgOQ/UObLX5Tby46A=,tag:W6csIUdlK7WPuYxnEdXzoA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:sM1F,iv:pTPrlzfIoVYZEhgtUEZX6D1qHEgy0zm+Yh3WDWhS17E=,tag:wgkUervecqFLgs0nBpSUCA==,type:int]
                                    to: ENC[AES256_GCM,data:gg==,iv:FzgqUvkL0tP5V/uhnBNc/p54nk/BU86Rm6PVxm3ll68=,tag:Z7ptZUT7J3j2SVuZUBNsFA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:+wU85WY4b68=,iv:UcyVlDvkEVMSGIwlghPKQOnr+J2x8MjaVDtfT1H8hnc=,tag:bkwtzQRGfonWt5Q+V8wb+Q==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:Ag==,iv:4gQDsbagBkRyeQTNz2w4n5Icc1qzeJOCrhUYV+77THM=,tag:tbi/TlrQFVwV7bS7lB+bAg==,type:int]
                                                - ENC[AES256_GCM,data:+Q==,iv:B7G/l3F2EOPTnkgbltQYyP9MdIRE8ngbt7wCY8nRD30=,tag:V0zxeDZQtX33mq6ubdCT6A==,type:int]
                                            type: ENC[AES256_GCM,data:fII=,iv:4EqSdCxyRg6ex8hwe8KTr5UuPvweAdOzCCQGTOPn8hQ=,tag:w3RRdOKaUsJ3ii7hKwiGgw==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:QpV4,iv:fNjYkEJFUFj8PnNvAZWQhMcDCuq3euYGPB8v3rKdC+Y=,tag:lwHgY+Sy4sdsycshL+tlzw==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:p1AA,iv:2FcYb5KTUNOIJrHMh3NIyDIPVi1yWTN46s3Q+MDZ1sw=,tag:3HNKANctYEyyfJafF/TMkg==,type:str]
                                          type: ENC[AES256_GCM,data:958MPuM=,iv:Uk1LstzLGqNOYShTvgKxXTFzK5DGbkBkbMiFVp5mvj4=,tag:b/JGwWApGxYrvRZQ+V+2cg==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:A1fbyd6aA1bqvA==,iv:ULaRT40Bytk+KW6y+CBxhCCaILyuI7tUKLAX9GGg2aE=,tag:VDFOHxI1JTNLsPgOeJC7Sw==,type:str]
                                        type: ENC[AES256_GCM,data:lA6A1FXT/rQ=,iv:srs4LqP5tkq0S0WmEiHN2pSLIKCOCg4iP0Hj3EXVNV4=,tag:x2bFJqGh8M8IZIcVH/XsFg==,type:str]
                                        uid: ENC[AES256_GCM,data:vzfWzhPn1Hc=,iv:Atd/vlrJo9lB1RXJWSLIS067lIGCzwi0jfR7/lbxNKY=,tag:ylMsLa4n8ZJpQKHNDlCoLQ==,type:str]
                                    expression: ENC[AES256_GCM,data:GgBqSt8=,iv:S9eux3P0o8dWTn7A2GqAy1iJIDxx+6sZaaUsqBMNdKQ=,tag:26byqzYrnKAOzW2AoENzWA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:OrQYFA==,iv:Cp+RHrXyNOAnGA6uhQa/PpG3/K5Af9u+H0GQk79yq50=,tag:1PbEf8OBjVSQ+WrQZn5w1w==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:e+gqS2s=,iv:f8tfuT2bQ2lIMeMSUampagxpgUXCaFy1rUmSIDre+uA=,tag:I6S9zKnZBiWXARW5rwRI8w==,type:int]
                                    reducer: ENC[AES256_GCM,data:x9KyXw==,iv:TRxiUKq/ZxRylkp0M0UBT/vchvWEOsY6McHhAQO2QqU=,tag:g7Oefdd0UMiMsnbcI9JB7w==,type:str]
                                    refId: ENC[AES256_GCM,data:Zw==,iv:qr10++HkeyLCSworGIrASa6qNnzBkz9N7ETZkrGO4v4=,tag:LQzZo1j+0ime4g3W7Dz79Q==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:XENo/ijgnrbY,iv:Kuw5clQe18J7Rl+rLXZUoNlTc5iEMeQkx3ldgfOA0g4=,tag:VSkhvIwQcUSPaG8QpSa7Ig==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:Eg==,iv:3rwWYFt5dxBDFeWLfnpzeqxNlD+tGRR5fYUyXXQQ7hw=,tag:Ua3H5GNta9XtyrVlxL9tBA==,type:int]
                                    type: ENC[AES256_GCM,data:mYWsyiDX,iv:xzAp6LQ4uo/Hu0twCeOMMRGHTGCmwCF06e8YFpEg/rY=,tag:QrfWn6B+j23kbCSuE3xgrA==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: High amount of i/o timeouts in coredns
                        - orgId: 1
                          name: Matrix Synapse
                          folder: Matrix
                          interval: 1m
                          rules:
                            - uid: b6db960c-c0bd-4d4f-b0f1-e1f216ec81cc
                              title: DNSQueryRefusedError
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:EY99hwY=,iv:URHgrOWPbB04RxczM3wKayk1wLksNAy8Vj32g/WFVks=,tag:jI62oOSQZ5KLuoZPbRO/MQ==,type:str]
                                  queryType: ENC[AES256_GCM,data:/517RFg=,iv:cM5rzA/lB53yc8PVpeDohCoRG6GwQdTlpETn4p3GFDY=,tag:4fo5WsurGYmWBzddw/SxrA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:AXYT,iv:LeXow+En2n8gNs+t3PwiwvwRUxzwy5oJ8LukIbBlBSs=,tag:0u8QXSFbLNA3VWWQLYi/Cw==,type:int]
                                    to: ENC[AES256_GCM,data:/A==,iv:rALvFcjj7LWiIP9F5NnfJJviMEiFKyVI25CW/4EFPYg=,tag:zA22i2NFKuUsUU2q6Bl17A==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:12EZ2Q==,iv:GM3BlaQwL2RVOKa7Nq1fXW8i5hUCmZXWxhe6GseeEfE=,tag:eKmo6VkVWFQW/b13kk11Gg==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:oxFLnA==,iv:PVtoWsgw2ThsfbHQQkrcpf9KaqaXWNZulHr8evEgDAM=,tag:pIHO9P7HJGG+Fl79fxy5Lw==,type:str]
                                        uid: ENC[AES256_GCM,data:SShk6g==,iv:ENxJasj6RgheCKxtyAzfpWejmoy8GusdS0C67B6EAyU=,tag:lPwQ0tcMvRE+L+ml7Y0ghg==,type:str]
                                    editorMode: ENC[AES256_GCM,data:41Nu8WKNwA==,iv:TL4kT3tiTPLZUjTmgYmBfqE7BgqLfz/BaVjmcO+mG10=,tag:wN3C5Jhp26UGR1qiqvEUSQ==,type:str]
                                    expr: ENC[AES256_GCM,data:LPFnSo1B90G+KPiGpvRD/rbyem21aAeKUcPolAGL8ADjZbyPo8Wv0twcSFvxiASe+xNf/PyTVC+ZEKR22TNHoeLMHua2z42YPr7iirjolW4=,iv:7VN5MW9VPvCeQyHnS/2NFZM44YG+35mj3CITR7dZPvA=,tag:BGk1C3Q4SneEKIgCfbVPuQ==,type:str]
                                    hide: ENC[AES256_GCM,data:bbfjCzE=,iv:iThfpmsONlxmd1DdMVgNsPvkIhCpDGo7vfkN2yMYOY4=,tag:ueF96b1It2E5ROKAwptlCA==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:cVe4lA==,iv:uWv/Wrq1KtRnP5eF4SHual4cLqj3E5J2JO0cNqATtYo=,tag:1xlAF7T8CAF3ZbFJI45exw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:O+tuIU8=,iv:nS4PcdVL855ITB6/gbhJsqL5/GJASILn7BiUokj2HA8=,tag:0nRTGlX6Phd9GuqeEgBMag==,type:int]
                                    queryType: ENC[AES256_GCM,data:uIk4STA=,iv:KyDmC9gIWmRvF6QGs7CzLBfnPisSmwvTFBZxSw2ZOnw=,tag:B7+lg61pC2gjyGFW3Cwf0A==,type:str]
                                    range: ENC[AES256_GCM,data:q6VM8Q==,iv:nYSk3YPGkbBnP4sdRU2qKrS0ZfCw0RlUXK9eRH+4VT8=,tag:cgsd06TKkaSMJ+yKcnkf8w==,type:bool]
                                    refId: ENC[AES256_GCM,data:x7KdnnU=,iv:zlAFCmQk5ZWPFwoV2neyBNrfQhQZIHWgo2u8dc3hzd4=,tag:Y2N1ZCVI01x2ULyKoyc2HQ==,type:str]
                                - refId: ENC[AES256_GCM,data:TAe6NO1J,iv:I1n4y0QEX6MjWSBKeYHXjIKUKX9TNj/ddsHUGyDEef0=,tag:VXwDhHsCbbUcADzor8UuNA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:42Uv,iv:XP8EYBsPUWrSCENKTTmP3nUBeHKWgZNO+XYuNKaMSKc=,tag:QUFHeY0N9gxw0Zp7NtNFdQ==,type:int]
                                    to: ENC[AES256_GCM,data:kw==,iv:ep5HmZMkZIuUbIdgbn/eMhL73dyN/ja+kRNnGybhCDU=,tag:3+MrqG6nc7Mv8b61FDBhYA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:mO7dOvSKq4I=,iv:ScfTQ4D7GG81CyePMxOuLhFco0iCzQispWInZGOahD0=,tag:uUFR7vOJHxKkL2ZuyXqfng==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:3g==,iv:5bLGwJ09t3DFEjuY39olIcUVHbU71h7JR2blVISNnPY=,tag:ybYdyO2GqGp2ywl6R20MHw==,type:int]
                                            type: ENC[AES256_GCM,data:cCQ=,iv:VTloTHLe0RI+iDUQjCwFtKuGN3o6o1EyEGP30BvLZ68=,tag:USp1Fq4eHYBU8+14fd40Tg==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:sH/r,iv:mk+3CeghP3T/6JxZTr+4OcCh5oEtvJhRhoSfLH9LqAQ=,tag:oXEHNdjtzIy9OVrsbG9mTA==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:5Q==,iv:UUfxIi/41ifRPuAWZgQPB0pYrPO8DQ97fekM/r3o8bQ=,tag:WmcO1SOwcFCF5vJ2z5mDhA==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:d2dgrQ==,iv:ZABuyEyvihWf4vuwjnPJQNfIhBcNDTGruFzET6t9eVA=,tag:ef9xENVQKM8AekL+GdSqvQ==,type:str]
                                          type: ENC[AES256_GCM,data:2ndDKE4=,iv:Z16p9SGXGEOnfSG4+gBYjx1zYkwq4tJMqbljpuq2bwE=,tag:dJld2nKlMmTz9Sd5EqV4Sg==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:aav30tTVYyA=,iv:LhJdCGHWgxH+QhmqBy3LXByd3h4AEUDUngJLFOKUenA=,tag:deWRjCPNx6TXYuujCqN7zQ==,type:str]
                                        uid: ENC[AES256_GCM,data:CgE4VafNXlw=,iv:PUYETrdojSNjliNNjHIcEwLCdOsOFNGi6KLzvhYBeEY=,tag:AkXAvoUgRLcAW99jAEe2nA==,type:str]
                                    expression: ENC[AES256_GCM,data:XA==,iv:v9X10Qp5QJ08iu/JpAmz+jUvA9rt2WJkLOvD4dN/NOY=,tag:tP7YucaK82X5Uk0779sgnA==,type:str]
                                    hide: ENC[AES256_GCM,data:1F6kCWg=,iv:CGryO+BKNAr0WVGvqYpOjn14jSeOCstbioyW26wAPJc=,tag:X8ihb/KFL58maltLPshgMg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:g6y6aw==,iv:kBStSB97I5L/DdlJ/T+um7XvnSD3ZBQxwCkuAVv/5QU=,tag:SXZajP5Y3jLWOiim3EUuJg==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:z6TAAnk=,iv:QpC0V49UF2nrzas4noYc1GIc4ddmqgMohDtjFIvt/A4=,tag:APMnIMqOQViKhvIRG+urhQ==,type:int]
                                    refId: ENC[AES256_GCM,data:AR/5h3sR,iv:rFbnIvuDNTfJC6f6JiMy5pTGDh/9CYj220LuhWXpg44=,tag:iy+deSksRiHYZrG2KDSl1w==,type:str]
                                    type: ENC[AES256_GCM,data:tSbID8bZ7gMU,iv:ekK99Lf6vgLe+U60zZQIlnbxUTXu3JfUpp9+tO5v8Hs=,tag:2gU3wIVrYWaS9ytc6uvHVQ==,type:str]
                                - refId: ENC[AES256_GCM,data:7w==,iv:W28BkM705SbF/ybinUSfWgxS/cZNDFV/JCG872ytxEs=,tag:Z1WWOnMvOgQaGmCpXWwCYA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:SEPc,iv:wzRnLFXnxzYuUD1YzxY2bn+vybLnbVazJ7fAat5llLs=,tag:LFH6ftLPUvcicIBmVP983Q==,type:int]
                                    to: ENC[AES256_GCM,data:0Q==,iv:nQH+H9Nef/pveSPINnYo81V1YijziWk4jW0WnAMKEv4=,tag:TK+NNfIIQWm0rb2rHAaElA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:ffvA0R+HrEM=,iv:peyJtYEU6wESyg504ZqlLCEdlIXrFNxkGf08hCq6yYM=,tag:EdU+BwzPzWP6oxH99R661Q==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:kA==,iv:+bXn7ZnY4c6dNO9Dz/I9/Yycu1Ldh+KfVa4ZKyCgOnQ=,tag:45EUyKWuuhVbKeU7eIQOaQ==,type:int]
                                                - ENC[AES256_GCM,data:Eg==,iv:qn8u8Iuh/LxoR8aE1r/x1vesQZ0hHvsLWQUZ8L1NIhY=,tag:9mmXqwy3sjnFRBZ4PYen/w==,type:int]
                                            type: ENC[AES256_GCM,data:STs=,iv:wPC1pH3wGGsVCUlqqkuT/mkXjpfiJ24lVPzPD0xBQVs=,tag:ZvXFTP+yRJVtPqPL5dPGOg==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:s9B7,iv:zw5/GjN3sRgs+UV0VZN9Vbk7c7+wJmi5YwNejWsMY2c=,tag:Krdpjibs+b/7uR/OhfSR6Q==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:0Qur,iv:6GQC7So6vxgSFn9Y+7egge6wh5Eo4Napd9Lu6z0khds=,tag:JiqM87WOQP4oBMlnINTXig==,type:str]
                                          type: ENC[AES256_GCM,data:XgE6+WQ=,iv:KhHmdICyIfIusBw11oEgi9STfpop5tNM842YtAw4r/c=,tag:rlhQ2K+T2m4vS1k2RO3j5A==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:6qZFKyOdeyUYJg==,iv:vTSpESHQpdGd/UCT9cJt3Bpcq4P/FuWZX8V75dPNBmk=,tag:uVrZ+mVdQVMDzggFyEK8Ug==,type:str]
                                        type: ENC[AES256_GCM,data:5Illo3EnKmI=,iv:jL7Wd8t+772sO1SE89RjOhIECg+N3feJ4WQcBqw8Rl8=,tag:0WyDZjIJ/KPWlsqiq2Nc9A==,type:str]
                                        uid: ENC[AES256_GCM,data:SVadiuuqUSk=,iv:Kj9P0puHm/jjRO5diIf3jMYfN/bG5/DBbyjIUyu3/n0=,tag:SWhaqaWmgyak+YRdCBTNwQ==,type:str]
                                    expression: ENC[AES256_GCM,data:lMnmrp8=,iv:clfV/qIT7rI1/ookbpgHEnYklF5k67KtVUVSLm+rVzI=,tag:/71Ic3w5LIr8UqWSRC/CnA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:ZKwbeA==,iv:/1pT28C4kGP6FOZmZMzibbQKGAYB2zOxQL5CgkziTw4=,tag:p2pDT3N1jQRy1ihVXjOQUA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:EZ59DPo=,iv:1dVI6nAG+2S2vGWF3moAa8IXxM7uM3uKGVFNFhEGeeI=,tag:HxqUwZXVcT0t7XT/ZjE/uQ==,type:int]
                                    reducer: ENC[AES256_GCM,data:6IhWVw==,iv:qkF5wVEIOtaXBI3gTYzhTkAJRGZYhgr2G/Ndh2HnBBo=,tag:dI3NUjHQaGoGTLsEJS8HcA==,type:str]
                                    refId: ENC[AES256_GCM,data:+w==,iv:uxrmtB0blNFb6j+ReFYMOllGmqWcRGpnwkvgzTXU+2s=,tag:5z2Mumm7dPyr0cZie0xrHw==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:uoth65jVNKN5,iv:d7osGseO7SsIUVzXuH8b5a/g2SIPA9e1sEHG311LDZc=,tag:mH2hXmc5wG5mAN2BS2d9Eg==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:Kg==,iv:OUymLrUZa8jQ6KyCHSbR6ORx5szxTwbOhIVPByl7Mok=,tag:j+sc3zMT/J+vPHhOYHGEyQ==,type:int]
                                    type: ENC[AES256_GCM,data:fsmA+m0F,iv:G7+85emK0C8JPQ98AqdL4JwLqcVen9ntiMilrJrZ6JQ=,tag:T+0nR894vtBr3Rl3I9pz6A==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Matrix Synapse DNS Errors are higher than usual
                            - uid: de30a1da-84da-45f4-a4a5-d641dbd92e6c
                              title: psycopg2.errors.ReadOnlySqlTransaction
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:pX27FsY=,iv:Dd9fAwdKWcvj8tx4aVpKYjl1/uzOvPsZ3aR6dHP9Crw=,tag:BXixSnaj3NvfgyHbknvQcA==,type:str]
                                  queryType: ENC[AES256_GCM,data:eAQ8GTw=,iv:RU/ZFrj1Pud6nwAvELDX6os1IE4c2v2WpIMtI5cyCII=,tag:v3TAjS4+LWa1NBTDTB4Adw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:M5Xv,iv:izsUP8Zgt739wV2soeEctWIowERxG3kk3Jq9x67fmZw=,tag:2URC3xgSqwvhWgWGAAt5jg==,type:int]
                                    to: ENC[AES256_GCM,data:kw==,iv:oMl5kwZ23iOWE5lB0WNC+uQ1QZTvgDD5AxTlOS//rqY=,tag:aFL2Bqt7iREdmTFqjeKaGA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:OHEQGA==,iv:PSulW8lDO1YR+sk59tcgk5W9tO5Z7rzOt4FFNxQtDa0=,tag:KHpPOpvIU4U4NjTNdCsIOw==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:5uiU1A==,iv:3zIHIRpxZBlfu7njVbtKm+fGtjQ0BJOsb2yh6qQX3iI=,tag:62nIWOKDPypkvWyXsSPSFQ==,type:str]
                                        uid: ENC[AES256_GCM,data:Ekcxjw==,iv:0yQWyV7F4pkHmjVKI7nImTuzwvQfHKBJFLb+eholSms=,tag:C6NB1o07bnN7SW8QbkaUzg==,type:str]
                                    editorMode: ENC[AES256_GCM,data:Xm0pfPYhvw==,iv:tfom6SSumDJ+X+fY/UgB9abNqxvJuMOhnpeuDxj/Fdk=,tag:RmqJEsBgLh/R9fkKI95BKA==,type:str]
                                    expr: ENC[AES256_GCM,data:wIVzG9Ct4Fx8Nq2G0rVFM4fPb4PZlLoqvHJq5ROSbGVgr2XZc7T4U024xrRc9ARtG4NqP6S2d2VZun1rb/qE6QgbiWiYvqHqRXKReVKasDWu5glY6djU/SmQY7ZyVMvhE9o=,iv:Tg5H+d6MXrqs7dv8N4upkCMzW4yTlKjIsholFMF7Sow=,tag:pqeWxxOQh9SfATpnmZ1/hg==,type:str]
                                    hide: ENC[AES256_GCM,data:pd9hmns=,iv:zQ/j36ewE8ZCKzPOjn7B+pbXuRwUs0FJpjjAxDktXP4=,tag:gNpiTYvPqUQ3GZ5EjuWlGA==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:22Bpgg==,iv:VOcmgDV623lfIhlGks9C0ryMuFo2muqj2h4TKm5q2vA=,tag:baYwGGViX7o8zBlud9MNiQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:NrAPB1s=,iv:ROGT0e6x2ja08bCQ5q3fZbSE2eyPC4/gbXDHbJjRZEA=,tag:+Qbl8dRqQ4KpPpNVm6EHYw==,type:int]
                                    queryType: ENC[AES256_GCM,data:hELiEVc=,iv:hNIKfTz41EKZXND3GNcvVUbQA1LBAAA/9sslMvu71T0=,tag:8KrqOxPKFoYlrCa9r79Wcw==,type:str]
                                    range: ENC[AES256_GCM,data:6YWhDQ==,iv:VQjf5ls7VAVRoI7StIBLhOlxrrT71ZTdAJbdqhPzAL0=,tag:p9lTkAJ1XWFx0y4fc1kjEw==,type:bool]
                                    refId: ENC[AES256_GCM,data:GDlkiKw=,iv:jVRVGYS7/Tzt1lBjpOaPUFkBhVEC+Ac7hhpr3MYiYPM=,tag:rRwzhJchqbOFuqtK/tJ8Og==,type:str]
                                - refId: ENC[AES256_GCM,data:OvIv8XCI,iv:Pgh9X7Pzum8DQN9o3HWhFivSZxjkFEcXfmiN1FkuvhY=,tag:dq1bWoJU7vElw+FckywwLA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:2TKo,iv:ZPMWaxENiMIgqZLZmphe/5saSzq663z5/q3Vr/BflUI=,tag:XECrriAW2/+t8SZxm16jQw==,type:int]
                                    to: ENC[AES256_GCM,data:xQ==,iv:1E8gR3FYR2+V2p/cbPf5LpANHCfrl8Kgmn4GKGmTV8Q=,tag:FrVmo1MZXw180217NpXcMw==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:EdWjZERXi+s=,iv:lJplsqKAXUmqsth0RBiNPdEGdiS0jbWpHaQsSqqJv24=,tag:CuPy2THxf+kaO/LF5zTBzw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:avNA,iv:DAle7LmdTRSTl5y7NVapxfG2gwE6Dogg69OEsv7l0hI=,tag:dglorYNOuZGX0G9QUjgT2g==,type:float]
                                            type: ENC[AES256_GCM,data:zvY=,iv:UFB1EGTHeBwHVTKrRzqekZKM6Q33jakKv6nEVKYWqlk=,tag:7uFm3gegNLjfY10/EuuH5w==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:X33o,iv:YYHbY84BiXz4TYPXD/+L3umAwY5XXYQ9yBKINAB7kwE=,tag:SN4CLyLqK0KRs4bu8VZ08Q==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:Jw==,iv:xcRvl6z4TNLKXGhXVFkJrvW/n5JmPH8QTPHCqkvfym0=,tag:BXIoESQtMuCMvAR8LmF+iA==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:Xtbc3A==,iv:Z2mEeS/IEi3s6wutU8v/RFi7Sfv0eJGdLh/JEA/hMh4=,tag:zVlCj7vXCgRkHD/C5KtnyQ==,type:str]
                                          type: ENC[AES256_GCM,data:XGAqsaY=,iv:ey6Y3KQxV5CES0gWQk6F3o4qG2cyuTuAzRMoHJABH8g=,tag:LPyEL82+lUwuMEY21qhLFw==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:7iaRI45vcpM=,iv:OWQmtUDY0sProy5m6eSyNjWb2tC4RdLSKxJTiMJjr+g=,tag:va11BZ5Ex/GWx2BM0Ux/iw==,type:str]
                                        uid: ENC[AES256_GCM,data:xV6sXgGmvqY=,iv:ZfNFP1MKOwvHD7HP6Gk1qHBl9s0i0nHUXXgU5EOwJtg=,tag:ORPEUBCSCYtHJ0x4i1qgTw==,type:str]
                                    expression: ENC[AES256_GCM,data:mQ==,iv:/dhwfPo2+qs4/1I9IDUQkP8sN1vGMpOVloiHsrEVgoY=,tag:jMPoJtGvCU2Oag4ohHVK4A==,type:str]
                                    hide: ENC[AES256_GCM,data:P3BNn08=,iv:g5qSXAI5vXsMHQWy7JLop/dCK7sU639g1li31aGi8Tk=,tag:LFbM9MYUd3dY7KA/R2Gntw==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:bLTrRg==,iv:4KhU/i8Ewx4eT2XnNpRa6yiMsmGX/bku3Z+yoOfiqbg=,tag:/dKiDZHeL1ePs9z3KYrfBw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:zrfyhP8=,iv:ZARc94Y5Ef4BOmuRjSv65psg7gVTieKc3zvAu/8ZA0s=,tag:8HdJNQ2/wbc3EAGwGtJb5Q==,type:int]
                                    refId: ENC[AES256_GCM,data:yJ7txr2/,iv:R6pWbIIJPwBRbXkO7mD7Cqby6IBSkgvbCcTVWHRkU1I=,tag:bqyBFIlVLqL7QzXFc7ao/w==,type:str]
                                    type: ENC[AES256_GCM,data:yWPOaljDPZyA,iv:Oc+ENG1bd1RNP5qJ1Qusce2GUPZL4LJEIBS9BMAQzcI=,tag:aU6mp0uLnmVPzBLbDf1T0A==,type:str]
                                - refId: ENC[AES256_GCM,data:FQ==,iv:G2c3CT8OAZ1P+JdPEaPJo4uge/2PxW7y6sbUsFo/HyA=,tag:GzVSzROoMAHXNEerSi0/7g==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:JBW7,iv:x1pDXO8ggMrLrKgXjozjkZUrLJS0H4ovFdHwfwBda+k=,tag:E8PySdaZys6gwDKysk/Z+Q==,type:int]
                                    to: ENC[AES256_GCM,data:hA==,iv:Jj5bIsutpk9VjEu0BxV2xNdSSV31P26yRurjt4H/mJ0=,tag:v9CEqkxhdMuZx8MWfVrKtQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:hz6yLtiZHDY=,iv:DdGp1FIWvn1Gs6RxQx0ByjyTw2pqsQGzc+/RnGJ8nNs=,tag:ovrWqvGW74LiielGthgnyw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:LA==,iv:EoEG6GXlYe8MJyknDr4FYPJfYEhKiOY4WRl+qo3A7OY=,tag:1f+2nSmsqexyV10h0rlpAg==,type:int]
                                                - ENC[AES256_GCM,data:Lg==,iv:rBd7Ul5OQslcyJwCeFi0Q4K6bXtlgAUW9VgNvRRua3A=,tag:rYh4Zp/mhukLuag3AK7zAA==,type:int]
                                            type: ENC[AES256_GCM,data:EAY=,iv:eoUubWSb2HI7sFEcVeICoAC1FuWtFugKHKHDYucox3s=,tag:ks+DxBVwsbHQkoBMkjUJDg==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:AunF,iv:sdByOThdSu/BsYWEmGVOdqFtWxndaFB5/O9NetmHcu4=,tag:JnpJXxkMXYxhfSJri4zCBQ==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:S4eT,iv:ZaYL+HVzll7W90D0xLMwyTVo5gSY5RkzAnxl/reiZzM=,tag:ngfWTsAcN0+GcktLTkdURg==,type:str]
                                          type: ENC[AES256_GCM,data:X24422o=,iv:5PXu+3zZaob1R6bBStltoamOKHVAM7O2RtjeuuJvRNU=,tag:US4KnQJZN0L653cDsahHfA==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:Qsm0qVKq306OhQ==,iv:gKZyPPt3JEG5pcvcWpG8NlBTRHkG2h0+2EAcHSYka2A=,tag:GUBrM6pJXNOoPFRKAf8rIA==,type:str]
                                        type: ENC[AES256_GCM,data:bsYT6zJR8BU=,iv:kBP4vx+WVasv1YgKBGGhOUgg/9AmfYfvP4cAtwu1ziw=,tag:WlvfE3ma5HRRZqxuN3EeXA==,type:str]
                                        uid: ENC[AES256_GCM,data:M/J8RUF9pLU=,iv:0agb8l63WaHcR37Ennq6x4t41RdW1iB1Mg95ChXV2h4=,tag:fAfd7CaXRSCLO7labemRqg==,type:str]
                                    expression: ENC[AES256_GCM,data:Az5GZHg=,iv:VIUyCWgkbjjqEHFO/T1O6rFU/EjoDtB2bQKKeRPakXw=,tag:lplwZ8orWT66niBNZBSgBg==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:F2wW/w==,iv:WJ8/Y2cYtiFbV5zvyBNR4EHNR3p5NaYAbovh0NpW5aI=,tag:8cz2e0/nVilvFkRpkYcBtQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:9sMunLE=,iv:OGvAckbB2Ea47LJE6mciFhePrPAXFJtYd9dmc6BGB40=,tag:Qs4GfjasknCUqN1cNq95CA==,type:int]
                                    reducer: ENC[AES256_GCM,data:3qXBRw==,iv:9B7OosdfY0o5fwQTrn9YkUgVftlBTujqmtnbkCwUXk4=,tag:AVVwnmxhSvSrdy5tYp51kg==,type:str]
                                    refId: ENC[AES256_GCM,data:fA==,iv:l9lTcMHTdxN+i026gdIWwiQ2p7wJ75vDai4qFpfTMLQ=,tag:0VyHqJFvyVXIRamtaUgtIQ==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:WC+SDpbZ41fD,iv:rzYpxjeVmKkV6AQzCsQLa2JxgMaN5XobghcXY7PeLuU=,tag:GZtxjzbXhwfAf1TdW0Drlw==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:+g==,iv:cEpsDc6UnEjuMTPNI7tKyMWGooDB45DAoILZ5yWf3Mw=,tag:C/uip+PlpAjQEwbeGYw95g==,type:int]
                                    type: ENC[AES256_GCM,data:zQuN70Cn,iv:JJML7p2d4MKVbpbfHv8ZQqrdI8QNa3bAR6kEJ/ooScg=,tag:a+0jtuM5y94e762dA0F0rg==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Matrix Database rolled over but synapse crashed
                            - uid: d16dc343-31d9-466a-bdc1-c2466b0bc18f
                              title: Unusual synapse logging
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:5FOufi4=,iv:ObzrX1UNQYVooYefg6oQxkNkZhXwQ4GgcKSC4evQZqY=,tag:K2lUand468Ejv6iQJbCelQ==,type:str]
                                  queryType: ENC[AES256_GCM,data:XdvTNH4=,iv:Ij/rJifHhWi5CUZRAUmtKteJkWtNCvF9x3497ab6tlg=,tag:qyiJ2t3bexBMGxIsr+3uOA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:ninp,iv:Rkofy4/SUDPk/pJYzhuA97vyU3FHr2gLcDS3H94peUo=,tag:giqePSGzfaO27dxtcWN7DA==,type:int]
                                    to: ENC[AES256_GCM,data:GA==,iv:pgsKAXvlykyJTT88knRLvZ+KRB43JB6wJf/+AS0qnBA=,tag:QsjdNPDHbmtxxGoqiJWPkw==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:JhIraQ==,iv:wS3jyafxCyVUP3HCvXoT2897PRl+b08EybqjGzxreCg=,tag:FdQQIqe4NI1vVuTkLMpYKg==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:zQSN3g==,iv:Uviidh/ti6idYWdSts2dp/cHgOviJVZLrVxAWIlDjWo=,tag:MOdnPU9r5mCYn+dSxqWiKA==,type:str]
                                        uid: ENC[AES256_GCM,data:t7BfFw==,iv:S0HHsa9FuEbbL8ifGVV0NuPGORPsXuLVAYQb7qQRWlk=,tag:jNuZu0yDlq3w6NQmYzEWRg==,type:str]
                                    editorMode: ENC[AES256_GCM,data:oQ/WnGKx9Q==,iv:qq1Bbwa1RGJ0fp5d9I6c//BcKSYM+Qdg/ZBHmuYqzSk=,tag:WPktdJppl3eN7GnGGxb/9w==,type:str]
                                    expr: ENC[AES256_GCM,data:JMBL1FYUqpI4sHMbJeKlw9zLgNhLuqty43Iq/BRit1t+Mh4AKoEbiem/oHI1rcle5vG6GKPVVYVnAjNPnGEjiNmuuieTtFqkTz1+4J5cESeqrjMwJBPd6txyfQvOlToC5902rPq0bkQt8pcbJjFCIdVx8YfZedfyXEFtIk8zpxsB3cdOIO+w5/SThGxqGpNDFjUBJ9J6ME++B+VaGLA7FcLGd5cniDnzr25LD/w=,iv:r9nQ+sDC/57uCwS2dHWuImmV+ZFAykzATQSg1vo4w3c=,tag:IWD5xUsvdOQ9/G71qklw9g==,type:str]
                                    hide: ENC[AES256_GCM,data:2ckQCn0=,iv:UPax9ZwO42ao3NG2S5fGq0qlDV4RN3Vsqz7F/oWtRnQ=,tag:gEkOjixDs5M9XgEP+dl+9Q==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:teaD7A==,iv:Gq4P11E0a4LW6tL67OBXAj8QTH1qvz5hvXPgnnPCO1M=,tag:iBU1UpIUzQH2C3h9zukHrw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:LHoa75g=,iv:lh7aUrywCuoNNWHwJRaWpAj2e3Zd8AxoeTf3RPu27/E=,tag:C3rEiVjEV7Bzxb+Ablvw4g==,type:int]
                                    queryType: ENC[AES256_GCM,data:dqt1cp0=,iv:WxK4f+wK7Qx502TapyxcooxtDUNa5D/AQSJskhWoduU=,tag:gHlUzUZMfKWCL4Im7/C5HQ==,type:str]
                                    range: ENC[AES256_GCM,data:fbW3dQ==,iv:AN+zqCYxJ27R5EEaijKELK8ZNsg631wVOdcMhol1G+A=,tag:ffIS+8F4uOPjb43eU4CEHw==,type:bool]
                                    refId: ENC[AES256_GCM,data:9InoLC0=,iv:KY328gSCLfCGBtHwUVY083A6tPLyntOIScCLUuz5bDU=,tag:LKplfqzRtN1KeCo1yhPCyQ==,type:str]
                                - refId: ENC[AES256_GCM,data:s4yef+jy,iv:lbtsrYNgDVbKiQZoXeQSnpGkA190oE/kT7yHbE1qVuw=,tag:ZFkzPju0wA3Ebp/ZKA1X0g==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:ezuw,iv:PC6UzP0t7SepSRccKAXnMENusNd+HK3AfjPfIrVOYG4=,tag:D7KuxDAA4/dgDCa7w9G5rw==,type:int]
                                    to: ENC[AES256_GCM,data:jA==,iv:vaK/r6D43DBrKtPHvl27xF8+muz2kS3Rboj1BmJNXxM=,tag:kLMj+XOv/2kllnIkmQHDGQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:xzbCSaNtJxs=,iv:kw2jtMCWX6ki/aZSRr7+E3bLbSGdtTXkHBNoAu86NW0=,tag:OPe1ACcbYacvTa24f1P9IQ==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:BlI=,iv:XhwlLx5EqqpWGkF6ahZesqGv5NVP87gV0CusLn8GuKs=,tag:dudPyyMjcq8ylnLqN+IkFQ==,type:int]
                                            type: ENC[AES256_GCM,data:cYA=,iv:9cBGRh7AfXeQUH8tguyZOAMhX/q+0qCJCORtYmhpYFA=,tag:PXE4BSElC89EJdwKxf/LcQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:h3yS,iv:XLO+B00SyleujoO4iQXx6dSqDPxEbPluscR1bzlsbds=,tag:0GRP3i1cpuMp/cHQv/gr/Q==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:oA==,iv:3VhKx8VdlKN/LXqHttOqQ9OYWf3vjepA0K7zgdkEy3g=,tag:UIoCy6HXSExDgvEbi9fL9A==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:WmynOQ==,iv:S+B8I94gXryJoCFFIOc5S9v5FtDYMnP1YI3Y/zQ08pQ=,tag:1lS59OHtBwY7WEG8SW9Scw==,type:str]
                                          type: ENC[AES256_GCM,data:hePX2Ds=,iv:oaLyxeVH4rrAWD3erO0a1jNn0xaAhaZidmBJlggSPbg=,tag:xedeHqzF11r8TunLWM9MiA==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:qRVvDcNjrgk=,iv:bVtX+E699NcAPwo+2hsYxlnN8Aj2urpcuGb2vbWkiIA=,tag:YCZSJ5p/BL4qVKBXmB0FQw==,type:str]
                                        uid: ENC[AES256_GCM,data:ym808s47QSI=,iv:7ur5HuLyePqjXop6zrSnBWuxzgo17X4dIXMVZt4t/v4=,tag:x41vbe/t3DFsYcKygL/JOA==,type:str]
                                    expression: ENC[AES256_GCM,data:Dg==,iv:UYWOplwethEFkMohOqEh8ayiabLz7DP7/zSGmdty41A=,tag:+HtF40Cp7KNOVUnNs3FEsQ==,type:str]
                                    hide: ENC[AES256_GCM,data:dS34wCg=,iv:YTrwpzS+Xce+siTp/CTirNhvNseoJ5bmYUDCnK7SUiE=,tag:5ifSxX2aNPUCFeSKjG2y+w==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:DcUivA==,iv:NiN++Ncy8AYMMRIUtD50huoG0QURWeeO/qYxVRfj9tU=,tag:joP2mq2C8MW04VWx6Fv9KA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:rn/zvUc=,iv:Hw8Ml0M2yWRoOQYsqRw4GZUVFqhGCkSUkad57dsNNAI=,tag:tojBLJ6djDsAP/IMJIWpPQ==,type:int]
                                    refId: ENC[AES256_GCM,data:CY+cBs17,iv:PXJeLDvlt49tx/BfDOiQV4X65sRA00x53vv3thNLWxk=,tag:4wPczNss1pBYBDpWnwA89w==,type:str]
                                    type: ENC[AES256_GCM,data:kEcZK8mtvLq6,iv:emok2peXZ0/kiBuooKrZBoTsZNWr2WKnl1spoyz6rWA=,tag:KgtiNVAH+2Mx1Eqw9jMwAw==,type:str]
                                - refId: ENC[AES256_GCM,data:wQ==,iv:aZio3z1ta78IO9+/2L4LfOWI9k4OuwNRrnMr+JNHg2Y=,tag:lfridXoTux53YohvX50lDw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:aQr+,iv:3TiqHXUnQXz+UPZ5fjlIq2g7q2qPKUaOO1I9rUK3Fsg=,tag:QIfBbsEliAWWSkePGBd4fQ==,type:int]
                                    to: ENC[AES256_GCM,data:6w==,iv:WNDaH95KyYih0pCodXUa1SYxcqd96fBlsw/ZZxFKSwI=,tag:RQ40FU6iZwnd+WHkLpAlfQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:IHbiyNV/BNE=,iv:WMMJSrTR2DX2TNzaEDa+dTuctRYiA7leIk4NDCUaKgk=,tag:Jwp22mT0dVJhtUYVzPYC9A==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:Sw==,iv:4G6/lGxCZOCWC60jFnohprFExUA9siWf70n+oKvnzKw=,tag:pIlcDfD65OZ4CrjPRWn+Vw==,type:int]
                                                - ENC[AES256_GCM,data:5w==,iv:YXusMqlG2YLIu3/C5ZKSmcOsqsTLxymUvZoWmL/9apg=,tag:/8s5VI/ayXLGXQxW+V+I0A==,type:int]
                                            type: ENC[AES256_GCM,data:Dd0=,iv:7lKARUar+8BDWY3saBx77jA4KS4koYB0TLaOHxWxr/0=,tag:ohgo4zJ3+88dcmg0rhqa9Q==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:sbqM,iv:1+V7cDZb50foSQd49dMCM/rLQffXYoDSQeiwz8TI8Ac=,tag:3OgF7ta+PB0gGMsHqn5FDw==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:JxFW,iv:UigtHQBsUa5zzZNJGBR0ViOiAJauI0stp+LzmLeUFi4=,tag:6ObpIqoPifYJxbJ/M2ouYg==,type:str]
                                          type: ENC[AES256_GCM,data:9qhckS8=,iv:bcrOLhlL4ubNN7fTkD5kprccV5NkKoFLP9oLWdvQu7o=,tag:4neH6IvUi05thUEssU8UOg==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:vS7ZapD1Bg6QPQ==,iv:cZWRnFjH03y7r5pEmjYe8MjCZvtZ0jTCqGUW8BRTIJg=,tag:SCTmA+jAj5o8zvXoVmz5MA==,type:str]
                                        type: ENC[AES256_GCM,data:ai4VpAkmJC4=,iv:3AZl6xZdxPlCUF02qCOzi2DKrIHnovpoYBFD7DM10og=,tag:3BJFHq8rKfMuOaGTB4VUsA==,type:str]
                                        uid: ENC[AES256_GCM,data:EWAKkf3AA1c=,iv:vnGicg4inRxMU9DR16TGIgb9TIrwTdVOIscRIv1WHTI=,tag:qEOLD+flk0nmMez4eCjk/w==,type:str]
                                    expression: ENC[AES256_GCM,data:1gVArq8=,iv:UgsX5nKzEbsch/UxCpM+Bgd8avRu0N8pOvTONrmpbUU=,tag:3r0y3an0XiCJzFEmFvPpTA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:koxX4g==,iv:BWzFcEf3wmxQgB1eqHWwsWu5zTF/gcpuELEt+MDrlMg=,tag:+W4i2YCU66DTlBexC7+20g==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:pK62JCY=,iv:c/5LOnylfFrYvfXyKhYdCck0mwgFqAPpE4F1WAx/hnU=,tag:BiUzwW7TXaVuY8aNZBUzhg==,type:int]
                                    reducer: ENC[AES256_GCM,data:baJWZA==,iv:3MilyUgrhqbgVJ6zYewVEyAItHmmLkMv4GgU6omz80I=,tag:Dh2uHXPozJ+oFDM1j2tDZA==,type:str]
                                    refId: ENC[AES256_GCM,data:3Q==,iv:bXerf0lGJpFGj7AH0f74rLgH0AgddGBsXVA7VtGz98s=,tag:ddLk8gnJLARnaB32IX17Cw==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:51u4LDDsSn/W,iv:sexKkT3pd4t5e83lmMhyzbMUrI6nJbjLoFSOL8RzqOc=,tag:OGPJYXnutdVeXY30ECx8Vw==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:Kg==,iv:1oC2HjY9G/XcqtO+D8VYlRWQnqrG6IeUgeFiDUMD1E4=,tag:W3BCUcXoD8ssa5nrxArNGA==,type:int]
                                    type: ENC[AES256_GCM,data:iugU732q,iv:1VUjTsJYN+w+w8nVJ7PtWom/OeLQBMbEjE60FyQpH/s=,tag:TJQylKDbSPQ9XAI1CdeURQ==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Unusual logging for synapse.
                contactpoints.yaml:
                    apiVersion: 1
                    contactPoints:
                        - orgId: 1
                          name: MidnightThoughts Ops
                          receivers:
                            - uid: "1"
                              name: MidnightThoughts Ops
                              type: email
                              sendReminder: true
                              frequency: 1m
                              settings:
                                addresses: ops@nordgedanken.dev;mtrnord@nordgedanken.dev;mtrnord1@gmail.com
                        - orgId: 1
                          name: PagerDuty
                          receivers:
                            - uid: adz30e8814wshd
                              type: pagerduty
                              settings:
                                integrationKey: ENC[AES256_GCM,data:/OgEd0RvRM0xKWB6Rr9h9TxbgYwwrgKlIxQCQkHfEdI=,iv:71TbEMp5lqEPlYsnf8yfCXB8/ZqnBK2EoG/1nXZ0qks=,tag:0D3o0WdMcbjAU9CEOUOxlw==,type:str]
                              disableResolveMessage: false
                        - orgId: 1
                          name: PagerDuty Draupnir4All
                          receivers:
                            - uid: 3
                              type: pagerduty
                              settings:
                                integrationKey: ENC[AES256_GCM,data:2CW++Uud/YMPp3YvJT17JQppZN/xu0oQxrfgoEN7uqk=,iv:f+5kIzLze1tVkeDLcMTskWe/+Qs154PiEk02ASawixs=,tag:AcsMbL+vdaruac8tfrjCXw==,type:str]
                              disableResolveMessage: false
                policies.yaml:
                    apiVersion: 1
                    policies:
                        - orgId: 1
                          receiver: PagerDuty
                          group_by:
                            - grafana_folder
                            - alertname
                          routes:
                            - receiver: MidnightThoughts Ops
                            - receiver: PagerDuty
                              matchers:
                                - service_id != "draupnir4all"
                            - receiver: PagerDuty Draupnir4All
                              matchers:
                                - service_id = "draupnir4all"
            plugins:
                - grafana-piechart-panel
                - grafana-worldmap-panel
                #- https://grafana.com/api/plugins/parseable-parseable-datasource/versions/1.0.2/download;parseable-parseable-datasource
                - isovalent-hubble-datasource
                - isovalent-hubbleprocessancestry-panel
                - chaosmeshorg-datasource
            smtp:
                existingSecret: smtp-auth-secret
            extraSecretMounts:
                - name: auth-generic-oauth-secret-mount
                  secretName: auth-generic-oauth-secret
                  defaultMode: 288
                  mountPath: /etc/secrets/auth_generic_oauth
                  readOnly: true
                  # - name: parseable-secret-mount
                  #   secretName: parseable-secret
                  #   defaultMode: 288
                  #   mountPath: /etc/secrets/parseable
                  #   readOnly: true
            defaultDashboardsTimezone: Europe/Berlin
            dashboardProviders:
                dashboardproviders.yaml:
                    apiVersion: 1
                    providers:
                        - name: default
                          orgId: 1
                          folder: ""
                          type: file
                          disableDeletion: false
                          editable: true
                          options:
                            path: /var/lib/grafana/dashboards/default
                        - name: monitoring
                          orgId: 1
                          folder: Monitoring
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/monitoring
                        - name: zammad
                          orgId: 1
                          folder: Zammad
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/zammad
                        - name: matrix
                          orgId: 1
                          folder: Matrix
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/matrix
                        - name: nats
                          orgId: 1
                          folder: Nats
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/nats
            datasources:
                datasources.yaml:
                    apiVersion: 1
                    datasources:
                        - name: Prometheus
                          type: prometheus
                          uid: prometheus
                          url: http://vmsingle-vm-victoria-metrics-k8s-stack.monitoring.svc:8429/
                          access: proxy
                        # - name: Parseable
                        #   type: parseable-parseable-datasource
                        #   url: http://parseable.parseable.svc.cluster.local
                        #   access: proxy
                        #   isDefault: false
                        #   basicAuth: true
                        #   basicAuthUser: MTRNord
                        #   secureJsonData:
                        #     basicAuthPassword: $__file{/etc/secrets/parseable/password}
                        - name: ChaosMesh
                          type: chaosmeshorg-datasource
                          url: http://chaos-dashboard.chaosmesh.svc.cluster.local:2333
                          access: proxy
                          isDefault: false
                        - name: Tempo
                          type: tempo
                          uid: tempo
                          access: proxy
                          url: http://tempo.monitoring.svc.cluster.local:3100
                          isDefault: false
                          jsonData:
                            httpMethod: GET
                            serviceMap:
                                datasourceUid: prometheus
                            lokiSearch:
                                datasourceUid: loki
                        - name: Hubble
                          type: isovalent-hubble-datasource
                          uid: hubble
                          access: proxy
                          url: http://hubble-relay.kube-system.svc.cluster.local:80
                          isDefault: false
                          jsonData:
                            serviceMap:
                                datasourceUid: prometheus
                            tempoDatasourceUid: tempo
                            prometheusDatasourceUid: prometheus
                        - name: ES - Chat Sessions
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-chat_sessions
                          jsonData:
                            index: zammad_production_chat_session
                            timeField: created_at
                        - name: ES - CTI Log
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-cti_log
                          jsonData:
                            index: zammad_production_cti_log
                            timeField: start_at
                        - name: ES - Ticket Articles
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-ticket_articles
                          jsonData:
                            index: zammad_production_ticket
                            timeField: article.created_at
                        - name: ES - Tickets by closed_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-closed_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: close_at
                        - name: ES - Tickets by created_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-created_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: created_at
                        - name: ES - Tickets by first_response_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-first_response_at
                          jsonData:
                            index: zammad_production_ticket
                            timeField: first_response_at
            dashboards:
                default:
                    nodeexporter:
                        gnetId: 1860
                        revision: 22
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                monitoring:
                    forgejo:
                        gnetId: 17802
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-cluster:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/cluster.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-control-plane:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/control-plane.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-logs:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/logs.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                            - name: DS_LOKI
                              value: loki
                    asterisk:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/asterisk.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    traefik:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/traefik.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    postgres-dashboard:
                        url: https://raw.githubusercontent.com/prometheus-community/postgres_exporter/master/postgres_mixin/dashboards/postgres-overview.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    minio-dashboard:
                        url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-dashboard.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                              #minio-bucket:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-bucket.json
                              #minio-replication:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-replication.json
                zammad:
                    ticket_statistics:
                        gnetId: 14222
                        revision: 2
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    chat_sessions_statistics:
                        gnetId: 14224
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    cti_log_statistics:
                        gnetId: 14223
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                matrix:
                    synapse-dashboard:
                        #url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/synapse.json
                        url: https://raw.githubusercontent.com/element-hq/synapse/develop/contrib/grafana/synapse.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    draupnir4all:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/draupnir4all.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    matrix-media-repo-dashboard:
                        url: https://raw.githubusercontent.com/t2bot/matrix-media-repo/main/docs/grafana.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
            ingress:
                enabled: true
                annotations:
                    cert-manager.io/cluster-issuer: letsencrypt-dns
                    external-dns.alpha.kubernetes.io/hostname: grafana.midnightthoughts.space
                hosts:
                    - grafana.midnightthoughts.space
                tls:
                    - secretName: grafana.midnightthoughts.space
                      hosts:
                        - grafana.midnightthoughts.space
            grafana.ini:
                server:
                    root_url: https://grafana.midnightthoughts.space
                smtp:
                    enabled: true
                    host: smtp.fastmail.com:465
                    from_address: ops@nordgedanken.dev
                paths:
                    data: ENC[AES256_GCM,data:jfxpf0SkPOAEI0vq93XIBf4=,iv:KQyN6BN4ez9gzJ0L5Mo6AqQcOzZ1kwfcITmZBbbkumU=,tag:EnENbIpgPEmdseb2Q2gvIw==,type:str]
                    logs: /var/log/grafana
                    plugins: /var/lib/grafana/plugins
                    provisioning: /etc/grafana/provisioning
                analytics:
                    check_for_updates: true
                log:
                    mode: console
                grafana_net:
                    url: https://grafana.net
                auth:
                    signout_redirect_url: https://auth.midnightthoughts.space/application/o/grafana/end-session/
                    oauth_auto_login: true
                auth.generic_oauth:
                    name: authentik
                    enabled: true
                    client_id: ENC[AES256_GCM,data:qIQqQFtsRA1xEWER4bHvmg6OY0WqKucug+cs2S+668wA3ZtsCE5Ib7llGnKH9det+IY=,iv:kVR4GAjrmZBukP3IuWLfJAQ4L9Lz0+G+4JnSPvvevGk=,tag:/VBhlMgPm6WRh0srbeo5WA==,type:str]
                    client_secret: ENC[AES256_GCM,data:F5KPJDTi/eZSs/uMC5GRUSGBOfphLUceQTJx+5xhnswsOmEfPSVrIrgUyid+t7LcLvWVznpB,iv:2I6aP1WoCc/gXnbZz02urm45tB8i10/SxcDmUN6UvKk=,tag:+njs0HEGYG+fdARBBkJwaA==,type:str]
                    scopes: openid email profile
                    auth_url: https://auth.midnightthoughts.space/application/o/authorize/
                    token_url: https://auth.midnightthoughts.space/application/o/token/
                    api_url: https://auth.midnightthoughts.space/application/o/userinfo/
                    role_attribute_path: contains(groups, 'Grafana Admins') && 'Admin' || contains(groups, 'Grafana Editors') && 'Editor' || 'Viewer'
            imageRenderer:
                enabled: true
        kubeProxy:
            enabled: false
    postRenderers:
        - kustomize:
            patches:
                - target:
                    # Ignore these objects from Flux diff as they are mutated from chart hooks
                    kind: (ValidatingWebhookConfiguration|MutatingWebhookConfiguration)
                    name: kube-prometheus-stack-admission
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
                - target:
                    # Ignore these objects from Flux diff as they are mutated at apply time but not at dry-run time
                    kind: PrometheusRule
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBGNmVSa0RGa0ZxUTRXSndG
            TkpWN1F5eGlCT0tOMW5KdGR3RHdsaVZ6cFVjCmFXbjJ5Y0ltL1pQVDJKakV2SU9E
            Nk9FZm1zQU1TOTF6SWNaUTdqbWhKV1kKLS0tIEJBRXV0eVlsUy9kMEgwTkxSUnNl
            NGxtenR4R0c0MnJycVpCamd2MmpCNmcKA8WQ+gLG4HsJejVvnNSZiQNt/4h591Xy
            Trl0BV5QQYT2WSTaITwVX+0JnwjZ8DJZoQN1q6FMgjE+go/Vp/a6KQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-09-26T18:40:55Z"
    mac: ENC[AES256_GCM,data:JBG/Di1VTX1hd2ZNzmqwtKb48qhwzcP3rS4yGJH2g/CN7pLVhHvAiGufgMuRNm/d6uwuYenY94Y5asgZnG2GbXgQcmMyMlfI3iyVnQefbRNYi86JCgVA0bB+0mSdx2cYzy9x1kuIvu+LneOAFC5K7QTP0+ZyCQ2PaAfdmeGKXqs=,iv:LlS6nx8ycj12/DZUCxpNoWgkPv9sHi7ki6Vuzhhmf+M=,tag:vEUCzjyumV+42Uaaj/X8cA==,type:str]
    pgp: []
    encrypted_regex: ^(admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.8.1
