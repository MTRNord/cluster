apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: vm
    namespace: monitoring
spec:
    interval: 5m
    chart:
        spec:
            version: 0.20.1
            chart: victoria-metrics-k8s-stack
            sourceRef:
                kind: HelmRepository
                name: vm
            interval: 60m
    install:
        crds: CreateReplace
    upgrade:
        crds: CreateReplace
        # Force recreation due to Helm not properly patching Deployment with e.g. added port,
        # causing spurious drift detection
        force: true
    # https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/values.yaml
    values:
        vmsingle:
            spec:
                extraArgs:
                    search.maxSeries: "3000000"
        victoria-metrics-operator:
            operator:
                disable_prometheus_converter: false
        grafana:
            adminPassword: ENC[AES256_GCM,data:4yf+fRahWnCJVyqghZHwvxC7/B03SjSb6pW33gPYIoGXm/ZpEElTyJXNMdQiHYB3MsW09x4LD/oJ2tXUcBdPpA==,iv:vwXEFmGUA7NyrUkrV2Ltg7InOflKqvhvzGZitz4wZuI=,tag:l3prd0sMrEtN3GB/r/zGFQ==,type:str]
            alerting:
                rules.yaml:
                    apiVersion: 1
                    groups:
                        - orgId: 1
                          name: Draupnir4All
                          folder: Matrix
                          interval: 1m
                          rules:
                            - uid: fdz35yf78i8lcd
                              title: Draupnir4All Synapse online
                              condition: B
                              data:
                                - refId: ENC[AES256_GCM,data:HQ==,iv:PCt68s/iCWN7lbpjAVuw4fI3Tk2T2XmPF2uxsxkhD5w=,tag:mASly4TwLrJV3bKVdl8C1g==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:ZfbJ,iv:bxqTw/KTHLdkMOHGxvGyNBWRsl4U9/7JHBYar+BfAMA=,tag:TQWhRyCyjnG/u73xehVzzw==,type:int]
                                    to: ENC[AES256_GCM,data:mg==,iv:gk8a3PvuTNIyEbHqwNmVlGUgZc0r4Y7nkZTmOWeTAZI=,tag:oPZUJYjr4qYDT+yBBYgbKA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:62LbkkCkpCmmng==,iv:IQxodA4XaUx2PHzgUVPQMdVnOj2x4zs/K8cX8N8oskk=,tag:5pBq8ZhPGW5yhb860/GOCw==,type:str]
                                  model:
                                    editorMode: ENC[AES256_GCM,data:u5NPQA==,iv:uFP2M4rLnYpqWruwNTSb4mqLJWotXcr1tZgyr2kV7pA=,tag:G7BQ/z9e9sJNKuDQ9ClOUg==,type:str]
                                    expr: ENC[AES256_GCM,data:bjiazkvLAmQ2RErrjBivx0D4qRtO5upgjkhcxDHephLDq7TMTj66R73koB32QDN8+NDeQPV9B5YSMH+jBEqXk7/hcW+GV+MjGytqW17hfkqt3D08PMPbd8MyVs3PpYqxjhXMgFKzznXW1uFO2tuWaQgoh3/cFSEUPchbGRY58kpHoTXl0XAbTlHHU4Cr+EqWU89BWtnyv15U6TnWmMTpYbwMg0r0MBPPDsuVLfjvjNTxA8RXKNzKEi/P58psCfd9AQh+gQCaYK/mB2sXUpSl,iv:SNlVvjaXzQ592hvJFxjc+1BZYEPicXJ7cou06ONL7CY=,tag:StHUXWhxxvHIWqKMDxFWiw==,type:str]
                                    instant: ENC[AES256_GCM,data:Orpx4Q==,iv:fKAzcp2VWEGbE33xgPE3hZlPmHSjHWOH18AGewMMbA0=,tag:t2yO1o0x3sPcKe55S185XQ==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:h6qeWQ==,iv:ucPtfFbFlEoWU0iQfbkgk8IRNZH1WpCkF6U3On2GHs0=,tag:TimI6uj5SxXaWTy3bl/tGA==,type:int]
                                    legendFormat: ENC[AES256_GCM,data:y7DDh9y3,iv:uLWomuhcrBGrkmvKL0Aym6WlMcpoEAu/djXcSTG8xx8=,tag:hQJjed80WyeImG0XaSVa6w==,type:str]
                                    maxDataPoints: ENC[AES256_GCM,data:JzyqJ/8=,iv:wcNnm0wJ7StiIUXW/yQ4Q7E3nmfnwThOXEKSMyNb0g4=,tag:1wwI5kt3GbotHIYv4Hwu/g==,type:int]
                                    range: ENC[AES256_GCM,data:d1Dy4No=,iv:AUkDilUPjbkhzqrNOz3Jcik88W+LyAs3Gfr8ze9uXV8=,tag:AYDOVzyf+T2IUWOVOwt4/Q==,type:bool]
                                    refId: ENC[AES256_GCM,data:JQ==,iv:7kugGJLsDfnrIBx9IKAzPAHK5vZD8jJ9WlpweXG9nbY=,tag:kqEcOhtXrvHegJ2Gk/akqA==,type:str]
                                - refId: ENC[AES256_GCM,data:4w==,iv:Df7du85dBCCDAS1JpODlE48VVUzDuBOiIIUlDErAuYg=,tag:lqVkFxAm2adM6jbQVPZECg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:Px0+,iv:nVsI48s2cm9QviEMwxztCEFG3OHf8BYizrt/FIv5GXY=,tag:nRxjjPF01Fa/U6SZOcExMA==,type:int]
                                    to: ENC[AES256_GCM,data:Vg==,iv:JJtpBgKglegEAJaVEOB9VzlCjxasyHrZYx2o636nYSc=,tag:4sEU79lyinA2qZeHZoaACQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:IljkAz6zBTU=,iv:TXBrpHuV6v++oa6UbpHb7E2ojTbLw/aauk95aBwFSts=,tag:bnoYYMgtbZBiKWN1g66PFg==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:Lg==,iv:6BYEH8gXQ6rShtgo9LbyFKHFnf2jDKFcIct2F3iabbs=,tag:iEBd0FlV2XU0XF0cioS7Bw==,type:int]
                                            type: ENC[AES256_GCM,data:peE=,iv:An5nX7fUlvA2l1hTs0wuHTplFUtRSb43y5Ixn/+OEjM=,tag:6BY+7Tg8PNEVdcpJJdANYw==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:RShR,iv:Wk1tnslzpl+ioYOX/YOWvf2FNWiwJCMl4oiKRGQ3K8M=,tag:k3HRumYb1kX7QlLzOdYwhg==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:jw==,iv:sAIcKP3An3zJnhoV2sYx6nDgv/tPLtd2enLh6FElzD4=,tag:VGwoLCdFPpsSfkF47X5ivQ==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:awoTFg==,iv:Bu7pRmxM4C8U8VTDmtNxBjAysz4+erZ6BDlnRmIWnPg=,tag:C/8kdXsXV8hiBgPN4VFDqQ==,type:str]
                                          type: ENC[AES256_GCM,data:V9M/nBg=,iv:g+mV1Q3q1LKLpRjAQYsjIgFEs0wZRd3GW61elNFtwVQ=,tag:suhGldWnJgZ9ba9l4o5Rrg==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:pW5LxQO/5pI=,iv:e5UTo7irQPgzDAWd5aP4vMT7hO+YG+Q8RcrgoCsscLE=,tag:+3GOrHn96+8/TsMVoJCE3Q==,type:str]
                                        uid: ENC[AES256_GCM,data:6Fm/IYZYgnE=,iv:Y7B0S2CRPt2jTHA4TI1aKxDNIIz9JLtPjW9+MegkpkU=,tag:MQpBi+04dFibTMPEhgUXyg==,type:str]
                                    expression: ENC[AES256_GCM,data:6w==,iv:HCxUPGGEyQgxx3sYjoOcMjxCcH1xpfRmY0rVTzSPJCA=,tag:8A94ji6W9krgc/uHLNw38Q==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:Vy3eCw==,iv:YWqyRaZdJu6Y3cJ5eYcE2LHEecqPmolT1TUrQKnC3ww=,tag:/agf2WsuuOL/ToA4Ra6MMQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:c0rc65s=,iv:8K6ZDBG348FwO4Lg1w+6HdB6fB3+MDWMJHtwwvmmL+8=,tag:o7lFnblVNNuh9yRaGjDAcA==,type:int]
                                    refId: ENC[AES256_GCM,data:ug==,iv:K22z9Eleu48Usjr848k78QSywcNa6XqV2LR0V1KtbwM=,tag:A6zgQDVnUGqSy7AUO8J9cg==,type:str]
                                    type: ENC[AES256_GCM,data:atAWgyLCrbXi,iv:8o2v+xO7WJ3la+uu7cht1bdt9T3lHL9mfhr6MTOb6vI=,tag:vrkzASV27g4y5SyGyC/RGw==,type:str]
                              noDataState: NoData
                              execErrState: Error
                              for: 1m
                              annotations: {}
                              labels:
                                service_id: draupnir4all
                              isPaused: false
                        - orgId: 1
                          name: Kube-system
                          folder: Cluster
                          interval: 1m
                          rules:
                            - uid: d2b94d3a-2483-4be4-bf2a-2fd9f9fac406
                              title: Coredns Failure
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:AsK1Opo=,iv:t81T7qUV2qci9g1PxDECcjmnunSJX3b9uHia+AxTDQM=,tag:7i7LLje9zgBvedxEUnhcBg==,type:str]
                                  queryType: ENC[AES256_GCM,data:cMJg6BM=,iv:4DFChhLnzHRFgh7x5suQXZkOjP+fnS24cMLhvoIhFRc=,tag:N33mL7nQ/aCuQdFzYPbcLQ==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:gT/M,iv:yaC5cb58gJCipDxQQvzJAlLkpVyo5RJnwChQAK/1k6E=,tag:sE/dvulPN/9rrcYirkNIpg==,type:int]
                                    to: ENC[AES256_GCM,data:1Q==,iv:05jI5ub1gOvOCoW0+07XOORRy3GXS/mbu45tJecy/mo=,tag:07gOHxUQ2VQqaZKWqevdWg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:e5Ty1A==,iv:q8vALkfM/NxvV+5xlvVSxZ3f6yQeqfHw5UIM5TW8yTg=,tag:vng9rkpxrMO03KNx+MZBqg==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:nv5Psw==,iv:ugzITKrFy4NeJ/cr8jGijHNRR3w53GDX26er1DxaZ+4=,tag:e7T7WK8G48XSwlul6JDSLg==,type:str]
                                        uid: ENC[AES256_GCM,data:vUuRVA==,iv:SdtYxAHo2TdzlI3Hc1C9VN4kPfbc2PJc4RVX7ozI4yI=,tag:Iby68fWHEyWwZ07fqJzsJg==,type:str]
                                    editorMode: ENC[AES256_GCM,data:0cBnkMY4WA==,iv:NsNmKWLaqFhRNDdXSVNkpX1gSsS4SOWrC7YU2vAUSBM=,tag:k736pGR8sXdnz4zrEV/Osw==,type:str]
                                    expr: ENC[AES256_GCM,data:6E7PwtOnUdnxxJLuMaEJZPmaLKoFD3iQZYJp09efnc/FnAdzcQ62953mOtsukgWaLQJIV8rSIUhWml9xcTTKxBzS0G+f,iv:RqEifHZ4ArRjIc7pQLHFKaN2edQwyOQqqqoaQ1UKH70=,tag:jszziWHoj0O69KYZ6V91sg==,type:str]
                                    hide: ENC[AES256_GCM,data:MqAqbAw=,iv:9kgDJ9SvVYoNpAUESiPaFb+DYYtwefLS8ZJZm5Aej0o=,tag:qXMFqF/J5ZS2vJeTNMmB5Q==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:2cQJ6Q==,iv:3mvgAsbxVgG0fSsdvLNW/yAD6biEyuAFJCCzulqagao=,tag:HNvFZvptLnX9a9LV24dGtQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:cGUdY6Y=,iv:W5rozuTiiSItra/7LjadP0EzxT7iG4qTe4erbuk2Pfs=,tag:Fv36Mviszp+P0Bbr/Pua4A==,type:int]
                                    queryType: ENC[AES256_GCM,data:2SgTQSE=,iv:W3G4HhfhTXA+eZwWdeykAjXrHO9FrzPLzoNOkyekFh0=,tag:Eo5mz/DqGglrrrd/ywt9hQ==,type:str]
                                    range: ENC[AES256_GCM,data:BVw3Og==,iv:9Qfn1efwaJ7r68g+TiPA+CrP9LbCiXispzSqCpKHj0o=,tag:bC5Q5YdIq4FL9OZHIafLFA==,type:bool]
                                    refId: ENC[AES256_GCM,data:3MWDj0w=,iv:7nEhtRgIPFNVH9JKbv2LsG9vSAsWR9kpFyuuYzquyX8=,tag:mBveadHBCi8Sp69Nl69yIw==,type:str]
                                - refId: ENC[AES256_GCM,data:1sua3ZQt,iv:XRLEgOV93Of8hX6cA19dYZCYffcuFnsA1bR695Z7kkA=,tag:k6YqcOuVsJFowA21KBBcUw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:4zht,iv:92bKW8RV96gwEl/zokGbR7VXGDqfjXFpUUAldfkiMoE=,tag:Rip2RI9YG8wY+jX3ZeRpVw==,type:int]
                                    to: ENC[AES256_GCM,data:Ng==,iv:On/b9WSsx29NPBzr/pP5ASedFgVLij1KrN0eyujTfj4=,tag:XoGE6+4LVkHmfU0zlUdbWQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:EAnHFdKU9hM=,iv:aT1dAbAj2BpSotNu2e2SeyHbfeXL/vWxWedADAInUNw=,tag:azTPBi7J4FXuNmFNl+wfFg==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:ww==,iv:6o1zpvhAAVAbSKPcUP7ULCvS7ejhX2J0s8J1iLIKqCI=,tag:BHdc5dpXmg7LZnAfXBaJAg==,type:int]
                                            type: ENC[AES256_GCM,data:4qc=,iv:SCRDtB9Se+xZV8EA7WRAtbpFg2XuHRwAkB1bd89SQVY=,tag:MH1jinHmh4BZYlF2nsNYhw==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:+23s,iv:jTGMEqYfBcbjttDIb20R21LPjaHtLyKCZ12sKtzP04s=,tag:9fPW4+i3aM/W4+ajeFeu0A==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:2Q==,iv:IVWegDWw3kIFh3AwDlnMezB2lzhRv1UbVCG1PTdkoYQ=,tag:atgrNdBn0eheJQWWUJ+WLQ==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:sHP/KA==,iv:kJdx8CIWAZW2a2o7IBHjh15SqqU9Z/GsAplAyC06fsM=,tag:g+TxiCh2M3xpfVGiIja4Pw==,type:str]
                                          type: ENC[AES256_GCM,data:Kj3khvA=,iv:W7pKsikwRpFiLxtAZO6pKnZGbEw85LR11Iv3SlAwGSc=,tag:scnup9J6lRHqexIPXzU3LA==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:bj0W9jTHpiM=,iv:r8eMFeF+ldgmep1nzoaig2O8kLk5nTw18ldp2TGRne8=,tag:yWj8+CCtm1LDM24IQ0pD8g==,type:str]
                                        uid: ENC[AES256_GCM,data:8h9geYX0nKo=,iv:KHigXZKLXv5YevRIX3tpxkb7m2JA+iNf2KA5oyKPPKY=,tag:Q6/vYN/z4gURGsgxE0E8RA==,type:str]
                                    expression: ENC[AES256_GCM,data:QQ==,iv:fC56+OIQduyuDrbqFt8pHxzCkVapVVHKNlZUTDWM8V8=,tag:SNV2zciGYb7dJ0aPgu4CMw==,type:str]
                                    hide: ENC[AES256_GCM,data:cqIzPmY=,iv:1YjQDnIGwVhBAwiiF9cSkm6QJjy2/2G2FotMtTMv1rw=,tag:8aOELxr5ReIvvgQ9e+FuxA==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:wRNErQ==,iv:AkmUZ1U1mPzhHf/+2aIRPV0OlAOXb/f2giCtzZNKP2A=,tag:oOLWD2QKpPLJG73bJ+ASqw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:+bikuiE=,iv:/EvBB3QfgjLAyBSISpzM4xz/piGkchNEkfAiaswu6hw=,tag:uFGF1S+ocf0ffWotJ8dveA==,type:int]
                                    refId: ENC[AES256_GCM,data:KnKK8jE/,iv:rGrZhDjymmvUIISiKFm51zUv63BaNOk5WdMm0fcwsVI=,tag:JFD+AfBGndUB7CFHLzKhMg==,type:str]
                                    type: ENC[AES256_GCM,data:n/sjI0fOrHkZ,iv:ejxmCFVIShXD4vLcq+SgtA3MPFA/474yE61MaQslpbY=,tag:+Y8UVzuRHQCYmovgtvoooQ==,type:str]
                                - refId: ENC[AES256_GCM,data:NA==,iv:hR0cT1fFUV4Tq4TzVniscwpZB2JSQjmy/aeY3grxb5M=,tag:XmmWZe26TYWCge2mzrGQbg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:r07m,iv:A9o0V9YVJOb0WvUI/0rv7eNCvHsPg2HDP52zNocTTPg=,tag:ML6txTT5iugG741g7jUn9g==,type:int]
                                    to: ENC[AES256_GCM,data:pQ==,iv:U2JzgMhHEUqqsjlSFokoUjDpe6B9zYyfn7mQUFoWUgw=,tag:0YasJEf6hbYkFy4/N6VVXw==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:BRnnZEkz+bU=,iv:j/fzZbnF1G8A6T+TOE8h9et+FKTEA7/XT/pH591mFlI=,tag:XCjPdRFdITH0k5LI/lDnzw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:gg==,iv:kBm64vXKXqveqm+fG7mYpyJFodni8pknufpau+PQvy0=,tag:9MT159wlcNNBsqtHS8gh7g==,type:int]
                                                - ENC[AES256_GCM,data:Yw==,iv:HjvA9Te0jiZXwgPnH0oXpOGuRkvc6bPLxbkFRL5yAYY=,tag:UhBAjdMb80beAd/z9fnzWA==,type:int]
                                            type: ENC[AES256_GCM,data:voM=,iv:bQBMBLwULEiuZuC8wG3rRMCyVYi4sNrNm6VxWezotwc=,tag:ty/k21s3lqT++9Y9fh1q0A==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:Xixv,iv:OROvMuFQU6CyftByItsljIluBCkKaatDYGSD+AvA1bk=,tag:eFKUvMogU8qF/0y7LzzDtQ==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:08sN,iv:DH+dLmWh7+XPPAx2uFktJ/SvpmeDNKia+BAG7YudJiE=,tag:ylghB+gIiUjtWKzrAhqI0w==,type:str]
                                          type: ENC[AES256_GCM,data:gW1lQok=,iv:SJwJ1iRsnzpHCu13jAL+9tMlqJRlTCjgUbqBtVQZOaU=,tag:bzakpVeptVr7RMN3iA4DyQ==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:2PEdc9kaSGZEhA==,iv:fA39Ah3C2aOXA0i5R1gDfrqoLLULuV8GE2OrWQ2w2NM=,tag:gZcTclddUBLPrLozhmDU9w==,type:str]
                                        type: ENC[AES256_GCM,data:eOshmTKvb28=,iv:0mF5tHuIV8cWv8BBiB5w0QQSwR58pEaHsWBNM0KqMwE=,tag:8SKrIU2PiNOaoQJ+DcB5Rg==,type:str]
                                        uid: ENC[AES256_GCM,data:XBhtGsxJCJY=,iv:AWH13A9Mpm0jh8PtnnpHEEK+hIGHT1ODVbjiQomvZMk=,tag:whIsU88bOq7dWXAOa9PE9Q==,type:str]
                                    expression: ENC[AES256_GCM,data:eHT4U7E=,iv:OwLGfHhUAEZFfX3sxM85xGa0/LLkd6qYL5GkstvNr5o=,tag:T7HFvxUtIWnRS0LFgqyj8g==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:/O3uOg==,iv:T/C2AJuxaOFbIwhQLB6gooSf0tPYEgJDuhE9uzo/l9k=,tag:+mcXGU+ktxEy3fachn6ZDQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:BOMqrd0=,iv:vAXyp7KEj9bTwxbS3Bfptr9mNemOzUy62qTV0py66+E=,tag:EgAf6KuvmW1caXf6DxSR+w==,type:int]
                                    reducer: ENC[AES256_GCM,data:fW00hw==,iv:66hLMzEP2upPlhSyTNmlCZBHGjdSR4sqQwelxuulgIQ=,tag:zGxCmmoYUWDg0lzYWSSxqg==,type:str]
                                    refId: ENC[AES256_GCM,data:lA==,iv:jwQ0ZEkPg17NMK+Ar3q4nLUL5dm7bmuxxY2ncIOuqow=,tag:t9GtK/IxQ8NN1WhItye+oA==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:43Syi5Jg287c,iv:4Hbj8FPUzYXvC/b8/cqq+s79QnM3AQ1ev3aQfw5VjPg=,tag:tIbkjWx4xndjoRtrZhTN0g==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:7g==,iv:SMW0obJgMoYbH03FVosrw9TkwRc47USszz4aiheOWR4=,tag:AJi0ASUZI/CPuxx27aStzw==,type:int]
                                    type: ENC[AES256_GCM,data:TcHTSki3,iv:DGdRIoQX/nGpyjLOLYAby5hsYF4BAM7bQrL0d7Z5Eco=,tag:zzpaaFtToHxbFEMFCBw4Jg==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: High amount of i/o timeouts in coredns
                        - orgId: 1
                          name: Matrix Synapse
                          folder: Matrix
                          interval: 1m
                          rules:
                            - uid: b6db960c-c0bd-4d4f-b0f1-e1f216ec81cc
                              title: DNSQueryRefusedError
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:JytalU8=,iv:J7aMVCEWiEDAmEHFtPqD1ECtPCYXirirbJD3AsEzsS4=,tag:kO+Fb0FZ3z0t2b1W4t/yNQ==,type:str]
                                  queryType: ENC[AES256_GCM,data:kO7QDOA=,iv:Mb++7RJVzBtiZiqrZQg8ATykxvNxcsIgUbjgWAHgj7M=,tag:sPaWcQHN77tOG4j6QhpTjw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:VWml,iv:kkSTrj6vm5UMRCTnloLk1MH+YjzntrJ2vLmoGnIB58I=,tag:hg/8UrvPcgCuUDZ4MC6Svw==,type:int]
                                    to: ENC[AES256_GCM,data:kQ==,iv:sQCZiYXBgiyJrMPNmWhzQUtJXuLQ9BgNEderPxEVHe4=,tag:7fC1WrB4MG1xRc7JVBF+qw==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:LN/IgA==,iv:iV94RqVeFCkzM/LnnktoNv1DQTpgtNPuWpr3HRrVwfQ=,tag:q2025KZXD75cen5hOOQnTQ==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:eL4Rzg==,iv:PHGUpQ6lSc7s2RzPCeos3L5396ln/As6gv7guY5jo6M=,tag:Yq7euE7vmNtlGa9hWyAj9w==,type:str]
                                        uid: ENC[AES256_GCM,data:5LDeJw==,iv:KjYOpGM34wmJJ5ahO+tpx5UUhrxcHURe6t+FOEm+fZs=,tag:vV+X9QB6VJ1z78Tbk0mcdg==,type:str]
                                    editorMode: ENC[AES256_GCM,data:LLRLAhgKZQ==,iv:rKk12MNEx+mSs/ouEov8ZOFNUTdMZQaPLJoemAfNbvM=,tag:TVy8KgLxOqEsrK2pVXYGjw==,type:str]
                                    expr: ENC[AES256_GCM,data:zlcRueHxUmphX1SrHQ13SldiCgZh7v+Zzu3P5fhSOq1ckuLBCr+RtEt+uVtp0sYQV2FKurC3J89uSpaQKokbRw01xxhnf0r0N6G1dak09Lg=,iv:BYWO5eaGMVAt1zPafwWcrQVzdrSWNrP6zc2HkOULrDs=,tag:CYk0KwBrR9fEx0UiLddL7Q==,type:str]
                                    hide: ENC[AES256_GCM,data:B8+mwRQ=,iv:9URCD7IL5Oh1QysvVMzWR2kBvvOMzScze01e5wv2xG4=,tag:eeMUPGWUxWvsCrF1gmRGDg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:yn8PUA==,iv:j4uOEv8YSNwpX97hC24qCEG8dsZ6ivY+OfVyCpaETyA=,tag:8eweYRBNsmTsU13WNdHpIw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:NGRPAgA=,iv:r0KMWaOOqZmYR1Kh6DvyEWQpyP+9cwcCXL/xBe0nCO8=,tag:5DJF9nFhmUwHVjFbxZcd+w==,type:int]
                                    queryType: ENC[AES256_GCM,data:EOgiCAo=,iv:/2t7k4QzAwFGoFw3mN2nAbXdiwP/aTWgixJG70r+VZQ=,tag:4RhL0EazWG+7DBJPtf2Zfg==,type:str]
                                    range: ENC[AES256_GCM,data:ef9WRA==,iv:Wdf9sZZaYeVOwxzq5Bc319J92E8Ozt/935amFmuXALs=,tag:0A6RlOE92h5IxwNHG0YXsQ==,type:bool]
                                    refId: ENC[AES256_GCM,data:W45Rbys=,iv:wLW7QdsCIQhqW5XXSIO3xWhOhR2Cotr/X8H83MpT+iM=,tag:pg/dIDmy5DF8fOZUrYLspA==,type:str]
                                - refId: ENC[AES256_GCM,data:QyoMSmOp,iv:FYkLIUNQLn8FEexyqiqqqUlUFvp55KkazgbiPmiASd0=,tag:GMG+FKCklbtJP66Aiwt/pQ==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:S7Er,iv:KrdVCQcQhfAQ57pd1PYXaaQRb5LvvZ/Mktp45ZAbgnc=,tag:G7BCSj+Bnz1Fo9onRi58Fw==,type:int]
                                    to: ENC[AES256_GCM,data:mw==,iv:UzgEjZztuQV7a/qhK1BCvcjk26cjzv34ad1wKMSPhhY=,tag:Lr8oQ3HBFB7so4xAXKrq1g==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:qVqmGfR/Pec=,iv:9d9bVlKVA9xzCJKVb0BqKDVnnZbcqyuW+ckWUm8wTm0=,tag:m06uj4JWjytPHw2/21BEUA==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:lw==,iv:9kCY23rFc6uFySGpxAJjDfHq3c2W2H3+hLXyfZjRouY=,tag:l4p1z1FFdbN6uONgxn2Qyg==,type:int]
                                            type: ENC[AES256_GCM,data:aXI=,iv:j1guxyt7JLgQu+4ueEuagMauKgaiGBrPkLA6krOWrt4=,tag:EckrzXNv4D4mWroYds1hqQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:Mm1w,iv:/sDjXaWhiaO1eiHhyL30RVaBwyDqcuEs/4eoLM/0o8c=,tag:Oup4RHF2zcPMjguX7G1Cjg==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:aw==,iv:PhLCuvO3Z3w3yKRgP34z7cNbjBD/VsI7QEbSxywkjas=,tag:e+F4Tae7I+WqwPtlRzf74Q==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:Y053wQ==,iv:CVvMiUZzEcNnZ+4cSDWeL/41V1RYIMMNRDHB6rHZN2A=,tag:j/ENVZYifU5IqZK6BTX5PA==,type:str]
                                          type: ENC[AES256_GCM,data:am8XtUg=,iv:z+dqQhSnWka3EbeShCaJu8gEt2l89Do1WwAHD61tZjs=,tag:gIkArvT+5wjnUieo2STi1A==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:A30StKza9m0=,iv:IDQapDmm7h9mTi7rsL53RhIQEWcOcVGNi29aMWWSV+0=,tag:DcWKKDuLOzxa8WfBg2pdmQ==,type:str]
                                        uid: ENC[AES256_GCM,data:5rVE7fJT2nc=,iv:XIbmnNsV5dgHU6gWDNfdGiZJDvfR8D2YlCfgIzcbBuo=,tag:N+NTpdrabDn1FOzAQf3Jvg==,type:str]
                                    expression: ENC[AES256_GCM,data:Fg==,iv:gvZZNGO6Ly1g7T4vctyF/lTxLfPM26OEO4BsyvKHZKQ=,tag:G/kDvwNgtH/8BPmG+NsQtg==,type:str]
                                    hide: ENC[AES256_GCM,data:Etv0+FA=,iv:wHaS/NAw7UnUZ6Bkfeun830kaetum3PVpVzWcUTeMBs=,tag:k6oSZJENLw0APmM6BshnQA==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:tQszAg==,iv:MPB5HDP+JYQ4cjw0BH8rfRZktl++iE7SjMFYoUIHvk8=,tag:MPdwTR948BljHIXp+YBjqA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:ggLLpDs=,iv:7hrthNPIzNezxmiRX5gKiqZp0oOQVcsJH/F53vkp6BQ=,tag:J3chlo/z2ZeTpfSFzz/wdQ==,type:int]
                                    refId: ENC[AES256_GCM,data:HWIZcYH2,iv:Kjnlz4SDSfgcUFV5pH1tbzpC+j4P3PHegUSJTGmHUqM=,tag:eHCeaezVAI/aAZnn2Bxyng==,type:str]
                                    type: ENC[AES256_GCM,data:NThl8BJLIT2d,iv:d6CoybVV/7ZUOFdDGY0yiR7AikY1Y1H9SlYdaUOUusM=,tag:FHva6JFbIXHMAepznQCwLA==,type:str]
                                - refId: ENC[AES256_GCM,data:OA==,iv:M/C/AbuetoZsYey46lkZaiIetMHwP6eu8WJ/CTpXptE=,tag:3rwvoVLdKmMTDJ3iY6+Rsw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:fHJW,iv:iy+j562AKjSk4YekKaIRrEqB3vUrwjqJJpj7cUpEeQo=,tag:GuFxLBpPljcaWGPIwWY3Lw==,type:int]
                                    to: ENC[AES256_GCM,data:7w==,iv:Nuv1sQ2iYov0zUL+Tvcb3N8uimXlurIfSOkf512ZKeg=,tag:c5YbGLbxgaNxd66ukAkbhA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:u2ZXFidKXmw=,iv:WJjYiSHgmKom/ebm8DYoIu/8vhlsVwp/3WPIRQJQH4o=,tag:ortai/OScWpsM1ZAMVTFZQ==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:GQ==,iv:2IcsxbRnsf9e0vQ5d3qFZvFJj75pI7PMorFKJsjHXbU=,tag:51QBsD0/aSHlZkXEloUVyg==,type:int]
                                                - ENC[AES256_GCM,data:oQ==,iv:RIoyAzujJ35tUcT4t9+lVraulTHUyyK7aw1NNX4qDpM=,tag:Zwbj6+7hAdSVqQxhcAYUYg==,type:int]
                                            type: ENC[AES256_GCM,data:4EE=,iv:7dtL7Klnkd/CR5F6WbUGV2fkY+PX8OVKej6rdMLuuLQ=,tag:EDy5dhTvuV91xEdh6Rnwlg==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:qqnO,iv:9AI8w30t2x8fvJRpRpBLypL5Uqz/YwBipDjdrz9nygI=,tag:cEv94mHBbPBHlFfnO/nTkg==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:lUfw,iv:wQTHKlEeGqZ4yCdtikhsoWBkkj0eh0fG2N/QegjECCo=,tag:ddyaGbPBDZMTgCAkADaNfA==,type:str]
                                          type: ENC[AES256_GCM,data:j/REgLk=,iv:yibiq103zTMMAuYX3QPF1gKaD7PAtOdEyudaARIP1Kk=,tag:1xcihVNez3dwZx7gfeJT8w==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:KsFP7kHqYOd06w==,iv:H3Fgn91Zmu1vB27js5aiByaWa18T4BCfeUCUHg8ZN+s=,tag:E5Zhs0ekU085aKhwmWRX0A==,type:str]
                                        type: ENC[AES256_GCM,data:T300n3G2mUw=,iv:xVuA+JQtlRTT08xott/1kazvPOnQf9yhf3y0stUXDlk=,tag:WJ1N26QBT25v+8A8a7lbdg==,type:str]
                                        uid: ENC[AES256_GCM,data:UmqEBffONc8=,iv:dkdvwmoR3LI+kraUZJVO5x1mdR8fpRO/A/LfHXvYZyQ=,tag:DBdBuvDu/wMQ/cOKLvQCKQ==,type:str]
                                    expression: ENC[AES256_GCM,data:M6z9eYY=,iv:h1O1I/TXeXksbC1QObfQy+K70xOQ/pgsTzAJMd+ORtI=,tag:kPvPgYOqhhwiNHnmq9Ry5A==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:SA86xg==,iv:/pveWWY2zeuqL6hsWPNEKtwvURRUCS7j43tvHqkgH14=,tag:+k9Wy0d19ujWmMl96v9WQw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:Pb6P1N8=,iv:mUdieeUVVfcAgsm22B2hWboE9rQv5OY7P/0ixlOCsHE=,tag:uNs1t/ZzJ5IT/UN0bpI/0w==,type:int]
                                    reducer: ENC[AES256_GCM,data:Sv8eTQ==,iv:Vam0ZyLrQDHRvZeNKjGOoQXPyjmYQEkhvv+frxyei2w=,tag:ZrFsPayxBjqrz6BHglsn7g==,type:str]
                                    refId: ENC[AES256_GCM,data:DA==,iv:Kj801Ipk+z0ZAzADrra6VeWavRMbEgNag/2gQsPBBYQ=,tag:ZdEoIC6Dxpasax7oR5qKuQ==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:Msj1TNdzrPGV,iv:kHBOr0ftcjCQdY2c8oOI8SGF9rUtuBpfZ9BbEqdafnM=,tag:R/Rsu5t+49tZwOrsTTYlBg==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:xw==,iv:oDXPVfVGK1ucygy+PaEkFa9mKZKvzvnh5ojiZEiFCzY=,tag:9wQ85aXbsNtaLi8vhB/Nkw==,type:int]
                                    type: ENC[AES256_GCM,data:iwhIdaor,iv:yd7hOkNL6nFBnRSDhVdqbxjnMfOiRs9I1bZx6MCYh64=,tag:EDTNMlAcE0XDKYPRODpd2w==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Matrix Synapse DNS Errors are higher than usual
                            - uid: de30a1da-84da-45f4-a4a5-d641dbd92e6c
                              title: psycopg2.errors.ReadOnlySqlTransaction
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:B5q+FnM=,iv:KCoVmzP32G5pxt0v/dewQntdVSzvYFEV3kU0naFrGWU=,tag:e6NjUo+a34HMsIqUBQbBxA==,type:str]
                                  queryType: ENC[AES256_GCM,data:eZPExg8=,iv:D9dgME0H1s+e3dxuM3ku3Bkvc8c1NHffLnHWbO1USV4=,tag:b9R5m+6pY3fwvislH4Oncw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:mFhg,iv:3xAuj8CIJhz1cFK6wQ3DFLKJ21GbwdvpQMmaG+STQrc=,tag:uI0z7QvUtUVqPInkGfNUdw==,type:int]
                                    to: ENC[AES256_GCM,data:5w==,iv:qqXamEiGvyLo6rmdM8ayzTUyRstPuL2ac3rq0L6zgds=,tag:wKXCwvcNLb3dSR4o1QFCsA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:AmCJFQ==,iv:NyYIn6DleweX2I3H3AyOkeThra1d8aRweo9E1dq1q1U=,tag:GziNKaWQM4vvDznoxJsBlQ==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:eBDcrg==,iv:vlcPrLoV66wZAUUAwapEwAfhroAI9yr//oxh112JUCM=,tag:0wnSc0WP0q1/azHNeK0EVw==,type:str]
                                        uid: ENC[AES256_GCM,data:ebFL9Q==,iv:DwRFUXXhj/uNHTFYmRWlGQD7AciKXxHrhjdDLbhYTzI=,tag:W4jSQVVE0ibQzMEggrmesw==,type:str]
                                    editorMode: ENC[AES256_GCM,data:c+citc1gfQ==,iv:IjJMJCHt91AV3sIIz5wMNh/GJQ5hx6EwqogOBnJOwGE=,tag:iT4o+3p39vyjCI24r76j7w==,type:str]
                                    expr: ENC[AES256_GCM,data:sCeysRg0vEh/gwOiSiqv5Dd3qmfOSZsFgICBWK5uReGWjZ3xeRxUAPaAp+ONXLaaDdJH/bC0WctNLm8zPDIINu5v9QDY8mYxsJRNfz5w2c8ClhdjLGW4u0x0KoIqjVpwtwo=,iv:xSmum9ahkzoGDmL6TDqjbYj8fGjQGX3+tt16Wa2P2/8=,tag:d8jeBqxPuDu5CRhqUKEhCA==,type:str]
                                    hide: ENC[AES256_GCM,data:S4TZpUk=,iv:QD1XbOebCWCs9CtudIWAY2ZyM44eXAezXG5OXepsTY4=,tag:/1PYItrkk0apCWtgchBwXw==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:VuUhbg==,iv:AGb7v7Q5IBjuzIHc2+Iftlx9D84cJejaRLv+fAcJIVA=,tag:trjjWO9nMQyXl9EPvCy8sA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:qk/uFWU=,iv:dwoFVlBLZySroh8RGJsD7isWNbEAg8elAcdWirzT8TU=,tag:tdzQXvQEcwzQyiIBgA8d7w==,type:int]
                                    queryType: ENC[AES256_GCM,data:YHOFEm4=,iv:PsMPO6BP14Uef+n7gUjp7gUdqg3xkBZajevNAfAMnh0=,tag:quRFU3f7WfSUjeRzpAdn/Q==,type:str]
                                    range: ENC[AES256_GCM,data:l8FEXQ==,iv:lG7vguzzwA1UbxSKMrTCm9/Mxfb3hm1Sz/F2rnNAu3s=,tag:xAwQrE+FzjHpWflVgI7GlA==,type:bool]
                                    refId: ENC[AES256_GCM,data:2/gUTys=,iv:sInqiS/stn91mfdZxWMpb6jJmXeVx9OnYhzZ9nvm39o=,tag:/Ol5FYzzyGkJA3vlw/PjHg==,type:str]
                                - refId: ENC[AES256_GCM,data:cdAfyfz2,iv:9FQjGqsgWQ5s0Rismfvc+/SFbh6Q/HcOiujs37MsA28=,tag:C1CsAgRPc9U38eEIGsLFWQ==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:i8IW,iv:UnkICJjeVFby/6HFLKEkuPMBVFQ3kWWhfSEtrmACy4Q=,tag:0N6GKRaznz39UJIpXLhdnA==,type:int]
                                    to: ENC[AES256_GCM,data:Fw==,iv:69XlJ4aAK32jWljL0ydxtRs8/ufBaE3SmRUHva9H6rs=,tag:kSxeRbt9RenYRGg6MLfT7A==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:guvJFfFYIG8=,iv:jgRXPL2WDNhY4qn+GDuVze54K2G+qVM58tdUI/TrbvQ=,tag:iTGsViFYO8p0+j9Z0xRV+g==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:+7b2,iv:NaN6+H2FikWaHnveRJiAASCEv/UahkSOxDgXWCD0y1c=,tag:Mt9w/4XrYAlyOt7PSJrFEQ==,type:float]
                                            type: ENC[AES256_GCM,data:Cr8=,iv:PZGnTCO9aTtcBdrq+dYt0lZXindrFieK2rdiadDQzKw=,tag:OOB2K61fgjzST3/SH55NTQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:WbNp,iv:SArAXuQQL1wNITeqLfiw2Pw0q6tVHIsiWPm0HncTMW0=,tag:Nanx9AGAE+/zoyye1aUJug==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:cg==,iv:aGmfScklFj1Rz3vvaNXP9e9XUCqEnqElmbn+A6VV9yw=,tag:wy7eAAt21BkSvDZBAwNhbQ==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:gvkLsA==,iv:dAvkXcv7Zu6dIwZx74EeNo9xOYK55a3vrCqVrCrcDmI=,tag:kNIw1cn2vlN+5GbBByWnyw==,type:str]
                                          type: ENC[AES256_GCM,data:2WYjU7s=,iv:JeHaWun873g0Stg2RVJUYzEdh+GXVBKXJJZYcqLfElg=,tag:K3PtZfy6lnJEVw5GWpbcdA==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:xZqnccmoRNE=,iv:CI4y+efvEMlCZE32g2g4PtV6P+OH+r+eLCIlfEtvPKI=,tag:aWuyhXaIYZmoAu5ACAyr6w==,type:str]
                                        uid: ENC[AES256_GCM,data:PqKnYACyMl4=,iv:iCGNY/E7fi8gH+I1aimEQmeIaMj/6p32s5JG7WAX7JM=,tag:Pnchfxq9aSQIw/BPDAf6TA==,type:str]
                                    expression: ENC[AES256_GCM,data:Ag==,iv:MBtN2bFtxphw/oxIM71pUFUDaL/KP/pCKPQjlDiuHrU=,tag:f913QrcwZBhj7bl/oeN4UA==,type:str]
                                    hide: ENC[AES256_GCM,data:6e+KxZ4=,iv:ZF9AzOGMR0fpvo9toanN8qp5D1PUGbdU1qOqhINGpqE=,tag:mRvxUj8JZ7Sw8tzi7gyGvg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:gs4W+A==,iv:nlBgtqgmKGJ50oYiOK1urnreAA5yKimlABLb/CEMhLA=,tag:JiB5+amqUZB95DHjj86XLw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:Oi9rYBA=,iv:Y+sWw31p7lwDMdzlHygN3q2msBgaUzPwA9MliaZKSB0=,tag:Ujt5ZahZ3RDAunt3OTFxdg==,type:int]
                                    refId: ENC[AES256_GCM,data:4I6ySWOR,iv:ypvjVa0R7dCEBHU4Pl7xBkQ+rVThgTkynpsNiU4PMr0=,tag:ccLuoICqyvNCwVw/bvao7A==,type:str]
                                    type: ENC[AES256_GCM,data:84hhiq4CkdNc,iv:EmUUwGgeKeoNUx0vazmROyhleGRpTbw1YB+72ukjKyE=,tag:alwyYpaM0By1TlUkvCf60g==,type:str]
                                - refId: ENC[AES256_GCM,data:9Q==,iv:QQ11TI4u9KDUHD98L2J4vKt5Bg+CuE1YMVsOlrxXCj0=,tag:hwyRfGXd6aDwCE6MBjVoIg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:HOAz,iv:yaRzqV1iL6oy8EYyR0zhXW6LqUU1KME64KJl60+QhR4=,tag:pkfMWk6rozXO3z1PK9THrw==,type:int]
                                    to: ENC[AES256_GCM,data:jg==,iv:4QAqWmFz25Xi+HPBsIu9xq2Fn8mCMW0kB4USgeFb1RE=,tag:7OB/+7Cw3ID144mIpeL65A==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:oXPXlnaG2YQ=,iv:QexobKj7bs6dMrrH1PxSvHAhb9CceQ5DEaMnwYJNdf4=,tag:Z8Kwyx3BpBlxyCBK4XKwKg==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:6g==,iv:Ife56YkYz6FvcBR/zW+W+wpypfwAOT5nQRJ/PlWy5gs=,tag:iSeqS4ly3bONxrBOn1vM8g==,type:int]
                                                - ENC[AES256_GCM,data:MQ==,iv:7qU/LqQscIi9fbj71yS6y+Sg7BQFU2OIHjlZ9/95VEg=,tag:uWMj5sHY2+Q8zNdWJV6Wvg==,type:int]
                                            type: ENC[AES256_GCM,data:7sE=,iv:7Fy9KEqNwRA3Y4pLeQ84X6dIYKR7/VBlXuqdPxJBb94=,tag:qZKcwKPG85WSNUlwGK+H2A==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:8iSr,iv:QgDHjyX0fcgb/ZxvDMN0KGdLj1Rc6tWjCtH6SuhUAnE=,tag:ZshJBiLyVEho/IqHXqJKjw==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:mXqD,iv:dVDYlcdPfMosZLqtyma5GNAIcDKopKVU5PxOeCgCY8g=,tag:ZornGiFS2peNqCn5b3ne2g==,type:str]
                                          type: ENC[AES256_GCM,data:Z1tH0Wk=,iv:BAFslZae+BE/OI1TENdQzVLb47gUeLqYkws/atviuwo=,tag:CPirKqf0ETTUtAeYRngjjQ==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:1R+4Y3S/05Ldug==,iv:yPRefaJSJ7ku1VVakAN9l4slAjDTagq0jcSUcGLo5yQ=,tag:R9wcvPZUC/raiRoeTucddQ==,type:str]
                                        type: ENC[AES256_GCM,data:aBn+05kPASw=,iv:FlAnt1rGQfL0OEJILvircdDq4KsutRoos4J4/SkNFwA=,tag:hWQ6//XJbSk+E87k5uxOiA==,type:str]
                                        uid: ENC[AES256_GCM,data:n04yxUOT3V0=,iv:wrua7Da+rgDfrJ5ODbkTrRKnMBI22cwn3POBdaozy2g=,tag:HppFjXXJwL/2wtX8WUv1cA==,type:str]
                                    expression: ENC[AES256_GCM,data:CzaeuDU=,iv:7VEJTYJelkKHH+Ta9A5KXJzbZ8e7PUXglvpzMp1H2DI=,tag:n0X+R7xEY9WC4UIClHp2hw==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:IGHY0w==,iv:kxrgLnG+y/o92DsZ5dkbSNucmPk4O8ddaBCIQXV2QzQ=,tag:4TMSp6nb2eSb3GmaiVsY4g==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:L/GASNg=,iv:vAVig5UGh7OdOA4lc5dIFeGaZSrPG4cikwwXwfZggyI=,tag:d9Aos44ruB1D6TYgDoHK0A==,type:int]
                                    reducer: ENC[AES256_GCM,data:b5PXBA==,iv:1IL2XgdmIHMOBs/L3NSEy2VIaV++yV3U03DEZLD9/E4=,tag:mmWmSvnLM+FNySVQtp2kUg==,type:str]
                                    refId: ENC[AES256_GCM,data:qg==,iv:5flvyJ8ZCNttE5ufGOiicIEDYhuT0NDLjuVDWuLe0dg=,tag:+lQPrSSOCkTKJCSz9zfd/A==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:szoEF6JYQoux,iv:rTrltS9CNO1T/3dxYE9YwmFln4o39LYHREnU6DFmpi8=,tag:WxC9W1vPrs7elj0ICRwMqA==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:KQ==,iv:LsO1i20z2EOInqROW/81LIGoAo4YbRhJ3eZ/BCXP0mg=,tag:DWdN5zbYI4HXFjczT7YiJw==,type:int]
                                    type: ENC[AES256_GCM,data:AcTWDxMG,iv:6x9iXrGXLrnBfk9mPuJnIqp3VkrMKP212sA8JfHrWiY=,tag:h0r7Aym9XE+u+tEH3lARDg==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Matrix Database rolled over but synapse crashed
                            - uid: d16dc343-31d9-466a-bdc1-c2466b0bc18f
                              title: Unusual synapse logging
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:JUJu9rc=,iv:KGQMokHQSXjcefaBCcDWRwKymQFU2dMXH6EjQ1egMAQ=,tag:R2uN344SPKb7p2TMDayYHg==,type:str]
                                  queryType: ENC[AES256_GCM,data:BZ4l1Fg=,iv:07vmjIDvpa2DFjt0EajUVDfUQa6f3Cj0AaNKpNLLcDI=,tag:yJhMTKLcpO19SqI7c6/wrw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:BMzQ,iv:w3mBkHJSWfCmOYmEFAPIJCmj4dGtCKxX45jSC0KBtjg=,tag:J1EjgOIhTveBI+upaRMeBw==,type:int]
                                    to: ENC[AES256_GCM,data:Vw==,iv:VyJ50wjUP15wXiQ0vIUhcecFGNKVCnWrhEucfCtytec=,tag:2AxR7GuIfBmG+A9uiFhB1A==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:H+aMZw==,iv:edaG2aPsduFi+bYS7yH2pV5VdWLYTwjEnl9uNH6dRRc=,tag:c43frRLHtZJsM9SeB+aZDw==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:jaFx2A==,iv:UjgE3RJfxA2bWCHq72xiJZAhBt2sAOUVVNMpBjGD2gw=,tag:QHJlqp7uhEPHz+nD4eRdOw==,type:str]
                                        uid: ENC[AES256_GCM,data:AsqAoQ==,iv:k/2+hgVYf37Vy9/qPbHJXDT2/RAbtGOksdymoWyksXs=,tag:D1yo769YUIAr2bh5lt7c9Q==,type:str]
                                    editorMode: ENC[AES256_GCM,data:57OGGFzQZg==,iv:BBZ+cJyvhTZO4feKQrSTj0TBpleq9ShUsL4E1lEkbqk=,tag:mtsyBmu71Zg7Dx/0mpSOzA==,type:str]
                                    expr: ENC[AES256_GCM,data:11bufMtyChgAtOXB6If48saJqlfR5Gol+5UdPt5nMYohIiVmL4V1EzIQT8/oWb7BcqiO4rtHVkxnQJFwv+TF/O2PwiEPdPp13WhN1xWpZc4ODt1dNYk0NgvljCho/t4nlWdzu9jq+LklWe1wJ+kul24+AFR7oY+1KPv5JdJrr91GJy1oGDh9HFQp/ox2cafTpjIb5v4p6HjNyMLfe6GMfNa8yZ9tKAagl3n26bI=,iv:sGynhQkOvNjzti+vaCfk5bsSwpo7VqR5KzRjHXB+pnw=,tag:mQva0xYWjm6iYGzY2x4zAQ==,type:str]
                                    hide: ENC[AES256_GCM,data:tkGhP3g=,iv:bOgEg8mmNvppBtoIY3pOcd2u7yb5zDK2IhqrqIuuQUw=,tag:ua628T/R21lTwF+RfLHP2A==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:jBp5SQ==,iv:1H6n/MWhxYsqA8obaTX4ZG1qq7WXsqOP/9PhP2RXRaE=,tag:+lj7uSqw/GBS/TB2nNSnuw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:hdbNCUg=,iv:1gvixkHQDYvB6vmyobHeTlSTl+PwIPY5xO9v6FcR3NM=,tag:sxvd9u9wjnnQh6lfrlFvow==,type:int]
                                    queryType: ENC[AES256_GCM,data:6oH5tVw=,iv:QMmsiaDbYLQLoEMMlXFO0cjmHbosExd8ekE0z+zFQeY=,tag:EbFcSL1Gczj+Zk+y0qEBOg==,type:str]
                                    range: ENC[AES256_GCM,data:l2aSwA==,iv:PixARq/hkGvWP23uCKgzYgFl4yH1J+1RJTb9/1vLRjU=,tag:Z6pXQbZW6v2D1x8BajyM+g==,type:bool]
                                    refId: ENC[AES256_GCM,data:9u+3p/E=,iv:KmjJvW0JjBxMaWdwFwhI6QRnHGBWMoUG3s/VgV/6hFA=,tag:CG8qs6UE25angrduUD/HaQ==,type:str]
                                - refId: ENC[AES256_GCM,data:xGAD+2dv,iv:sLrMyGxCmU4FRAMfX0sPDuKEFOehRdc4+g9GGRbOi28=,tag:1s/cJhZRhxf3pKYBMz+kFA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:rCS4,iv:eRNLF0TUIyUbtpZxvl5GRCPZ7S2KymgbNoZaglHk86I=,tag:pSRCZy74YfXR5IxiY3KLpw==,type:int]
                                    to: ENC[AES256_GCM,data:HA==,iv:A34uNzhKjlBbErWIC/Ux5iVGeTaoSSuYPOHjVc/iJMM=,tag:4QwWKJrc0B7P6WhTEctrMA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:WRo1L6fpkAw=,iv:xsaaekKjjkbvDIlmisJwUte00Sv5y+jjZCEaMku/Lqw=,tag:OkY39mYt5IasrJS3FXS/Iw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:iBI=,iv:uyYmgL9UG9c8f3paMDgcdgS1ouReClTgnZwRvShubns=,tag:JszNQHKjt1wVRSJ/5HVkoQ==,type:int]
                                            type: ENC[AES256_GCM,data:biQ=,iv:CsQZfGu9Yu7JsXEHDvFXK0GZo0Vb4SDKJhtlTqqPbNs=,tag:2HOXiEVAQyhUbPS4nbdbJQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:35uD,iv:EvwQA7kX4VE0v3/xJSt9+tlKTWr2WSRCYtE6+jhC/UM=,tag:IJ2YkMRd8IMhEY1QEmSp6Q==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:6A==,iv:7PYD85QudWepc7W6ZH6JHGFkQrWlK0KOx6iaBOOfHrI=,tag:k6GEDHqnxO93fv0Cz0Vg4g==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:8+wcpA==,iv:WNwAkhipliWcwSrW+44RuTzpBJ6r2LJhTBTvLsujMYo=,tag:s7n4R38YFxnJkSlW3U9mHg==,type:str]
                                          type: ENC[AES256_GCM,data:X8o1oA0=,iv:P9+rYtBHguPLFz00T+x4Nz/+25XPjvt8YDMQRlV4dYE=,tag:ROm7TGh+xRyRvex5b/uO5Q==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:wMI9hIii81U=,iv:tvwSRZ4oTRt5MsCDGffXrCHmTIQ+CdH1otUhg53rT+E=,tag:p6iN8xdFqq6GBU5nrJb6HA==,type:str]
                                        uid: ENC[AES256_GCM,data:FHBhP9Uz0kA=,iv:O03GiixnCBd2CQgAXnRnHkolA9jFBk4H0SZp6a/KtE8=,tag:YE1fLdFU4AJ5XmcMYjITKw==,type:str]
                                    expression: ENC[AES256_GCM,data:Zg==,iv:O4S/H5UJCOgsKiXW3dn6LvpvNJFYgmUsJLoF5D3gRIo=,tag:uMoqEAnBqPcowEdO6SP6Xw==,type:str]
                                    hide: ENC[AES256_GCM,data:pVtPQBI=,iv:dvLexg+dcuTYt4zNRsS55fyg7pLhpeqbamHnNnfwwiU=,tag:iTzy8dzE9g9xjFlQSAdm9g==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:DNMgzQ==,iv:6xYVji3KAnhnn6UCr6xIz4FQbbibIelGJ/4jUcmmXVE=,tag:6rPYhmluElglEDm4Fa/laQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:sO/K4XE=,iv:0K4ZD0oCGriup6iwrY9VfhFWVb2/u7lC5geo4vujykU=,tag:8oM7wyDDhoLw3PXK+pGyzg==,type:int]
                                    refId: ENC[AES256_GCM,data:BLNrp/7L,iv:NXwJ7tZ3deV8L4fs4S3XqKbwKx68aiHbvKA5m4HQku8=,tag:OIS7eDf17S2oe3QXHlr15g==,type:str]
                                    type: ENC[AES256_GCM,data:aoD4b2JRiN3a,iv:Cr1W2+jOV1LcDdh6RlvuHNCZ8CkgEpll2zDWrAG638w=,tag:1UgyMT7uMQz1e4JFppnMHw==,type:str]
                                - refId: ENC[AES256_GCM,data:SQ==,iv:RWNJ92bCDBcg6utGc/PiZMtgYKy0zO5c81JBStNOOD8=,tag:xU3Jw1suRN2PNhSZEAYCDA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:DGAB,iv:fl3NCWdzj0nO9cTTaPVjuvlIveqhA2m9dwfmyVQUC2s=,tag:4GYfC9PZr8PAU7bJo3RI5A==,type:int]
                                    to: ENC[AES256_GCM,data:xA==,iv:p6k/kPsy4YUavXbByqkD8aHoCfbDl5cHUumjpgDlsRY=,tag:GvY19HbwS2aBNEHDINb1/g==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:TaKWRJ+artk=,iv:6NuLv5/BNaxeRXM403odO17Qm32FiEoIa6ESsTxcpHQ=,tag:PBo8jezwK5xSwC5nC/RevA==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:yQ==,iv:7uTIHLFGgVbpNyFFI7pbMStjAgqJtCiQ57dQ8bIfPOY=,tag:9p9n3fFdlT9yZw3WaDFvUQ==,type:int]
                                                - ENC[AES256_GCM,data:Rw==,iv:wQYQVe4Ex2AWVVe3qHnShqdGxnjGBFDFWSbrdXOZ8B0=,tag:/b6pyTQP4IfIGUeNwUEpUw==,type:int]
                                            type: ENC[AES256_GCM,data:HtQ=,iv:4VSbQMCGgizPYcjNhHkMN7L4rVecTPuMww7SCFmmku4=,tag:EXzoNvSBedMNTIYvUi81LA==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:o3tn,iv:nsXEp27ZFMiJ/RVyiamH/TnL4MP80xvmefy25bnO8ZQ=,tag:oHkZLzvpAgloZTDjQ9LuIA==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:CIBn,iv:ZaaCZZR8k++K9+fn5Ki9Rh0Wo/BlMurpBZ5d8NftVQM=,tag:pX8sBM1zyTwQjSe+REtLAw==,type:str]
                                          type: ENC[AES256_GCM,data:qM83R04=,iv:h/yYN14WZKJER7liiZ4TF/MFY9U5k5ofsE0h0BoWyn8=,tag:w95lojldYjgfDsW0hGteYg==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:DEq/uiuDIEN4FQ==,iv:yjfKAujLEyMtMsRg/xBEfvgI6pquE45+xpo/kJSVfXs=,tag:wqAtkOlIUk3xMErP8l4xSQ==,type:str]
                                        type: ENC[AES256_GCM,data:BTBt5UrEFps=,iv:07XumWuDfWYW4Ztg9UlQKEYxSQQ/EdgV9Dkh/9Tag4k=,tag:dpK8r2A03p8GbjU89bxu8w==,type:str]
                                        uid: ENC[AES256_GCM,data:Vzhtusi+J5A=,iv:UErB3+wFucNYczV+pKo0Vv2mE4AS6wvpSzQs6SFT2MM=,tag:te4nwQJ29/tw8Bx21I3uXg==,type:str]
                                    expression: ENC[AES256_GCM,data:8g4gdc8=,iv:loLABKul658URMjEqdR3QDhfKz5C5a6TM9YmKQmVgrM=,tag:esUEP/8zGAXn/apfje+XIg==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:Vcu0+A==,iv:OcL51P+NG1ayKhupF5cm9Wivj24c2mWkKHdTLyP/9Wo=,tag:uowC6kR7pa+ZdoB1Nha1aA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:suWewRI=,iv:KJS7545qI5oRfAS9RVuhnvFnomMpd3YfhvsA6PZSCaM=,tag:KmI5QmTJEJ4t126tIxbP3Q==,type:int]
                                    reducer: ENC[AES256_GCM,data:SoXPpw==,iv:ta40AF1hzweDTd4nfgOUBsjgEH+amZSrrPumRaMOkIw=,tag:12bu5QdL7tmu2ncQERomZA==,type:str]
                                    refId: ENC[AES256_GCM,data:+w==,iv:W58GSTBA7L3o7vw2tZpvp8JR+K07DJ25VcKf9IcFhGs=,tag:tNSN7kYfpOvmJ5nWxYi6bA==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:OFWx+ATMRGwu,iv:UBbfQ306VRmJcaKmK0ET6QSgpWsJGV3BUi/v9xEYfHk=,tag:bgWYbv6PxBIvIz4vM+uHeA==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:Ig==,iv:brIElRBL1uUKd4oszSlEBHCULGeP2R/uulnWTLVq7gU=,tag:WfQ+umeX7xLlDq5BZZ8OAg==,type:int]
                                    type: ENC[AES256_GCM,data:fxekvEny,iv:eFMdK4xsYd6LfSb+nBSf8enQYY1BkmHq8Tj7+1U9e5g=,tag:64Cn8PnUj22q05ZIcTRJQg==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Unusual logging for synapse.
                contactpoints.yaml:
                    apiVersion: 1
                    contactPoints:
                        - orgId: 1
                          name: MidnightThoughts Ops
                          receivers:
                            - uid: "1"
                              name: MidnightThoughts Ops
                              type: email
                              sendReminder: true
                              frequency: 1m
                              settings:
                                addresses: ops@nordgedanken.dev;mtrnord@nordgedanken.dev;mtrnord1@gmail.com
                        - orgId: 1
                          name: PagerDuty
                          receivers:
                            - uid: adz30e8814wshd
                              type: pagerduty
                              settings:
                                integrationKey: ENC[AES256_GCM,data:MhkZoQL5ThXth4lnJlGoOFL3SrzYgSg5EwydoDOj4cc=,iv:SuUitRDfZVSAmMapkNKHP/1DAEu7/cSVu8eCeTeZe2A=,tag:yZXWz9vuiTL8fAyR79JKgQ==,type:str]
                              disableResolveMessage: false
                        - orgId: 1
                          name: PagerDuty Draupnir4All
                          receivers:
                            - uid: 3
                              type: pagerduty
                              settings:
                                integrationKey: ENC[AES256_GCM,data:TNerXO+sCrjvpYSfmxjJOnRkwiv4shZRnypmanK5aVM=,iv:7qcrFUHJdBkGnSUniEOl+CSnm7nxPRorJmxddYg5ZsE=,tag:9v6ae+tDB65ERIugo75nSg==,type:str]
                              disableResolveMessage: false
                policies.yaml:
                    apiVersion: 1
                    policies:
                        - orgId: 1
                          receiver: PagerDuty
                          group_by:
                            - grafana_folder
                            - alertname
                          routes:
                            - receiver: PagerDuty
                              object_matchers:
                                - - service_id
                                  - '!='
                                  - draupnir4all
                            - receiver: PagerDuty Draupnir4All
                              object_matchers:
                                - - service_id
                                  - =
                                  - draupnir4all
                            - receiver: MidnightThoughts Ops
            plugins:
                - grafana-piechart-panel
                - grafana-worldmap-panel
                #- https://grafana.com/api/plugins/parseable-parseable-datasource/versions/1.0.2/download;parseable-parseable-datasource
                - isovalent-hubble-datasource
                - isovalent-hubbleprocessancestry-panel
                - chaosmeshorg-datasource
            smtp:
                existingSecret: smtp-auth-secret
            extraSecretMounts:
                - name: auth-generic-oauth-secret-mount
                  secretName: auth-generic-oauth-secret
                  defaultMode: 288
                  mountPath: /etc/secrets/auth_generic_oauth
                  readOnly: true
                  # - name: parseable-secret-mount
                  #   secretName: parseable-secret
                  #   defaultMode: 288
                  #   mountPath: /etc/secrets/parseable
                  #   readOnly: true
            defaultDashboardsTimezone: Europe/Berlin
            dashboardProviders:
                dashboardproviders.yaml:
                    apiVersion: 1
                    providers:
                        - name: default
                          orgId: 1
                          folder: ""
                          type: file
                          disableDeletion: false
                          editable: true
                          options:
                            path: /var/lib/grafana/dashboards/default
                        - name: monitoring
                          orgId: 1
                          folder: Monitoring
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/monitoring
                        - name: zammad
                          orgId: 1
                          folder: Zammad
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/zammad
                        - name: matrix
                          orgId: 1
                          folder: Matrix
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/matrix
                        - name: nats
                          orgId: 1
                          folder: Nats
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/nats
            datasources:
                datasources.yaml:
                    apiVersion: 1
                    datasources:
                        - name: Prometheus
                          type: prometheus
                          uid: prometheus
                          url: http://vmsingle-vm-victoria-metrics-k8s-stack.monitoring.svc:8429/
                          access: proxy
                        # - name: Parseable
                        #   type: parseable-parseable-datasource
                        #   url: http://parseable.parseable.svc.cluster.local
                        #   access: proxy
                        #   isDefault: false
                        #   basicAuth: true
                        #   basicAuthUser: MTRNord
                        #   secureJsonData:
                        #     basicAuthPassword: $__file{/etc/secrets/parseable/password}
                        - name: ChaosMesh
                          type: chaosmeshorg-datasource
                          url: http://chaos-dashboard.chaosmesh.svc.cluster.local:2333
                          access: proxy
                          isDefault: false
                        - name: Tempo
                          type: tempo
                          uid: tempo
                          access: proxy
                          url: http://tempo.monitoring.svc.cluster.local:3100
                          isDefault: false
                          jsonData:
                            httpMethod: GET
                            serviceMap:
                                datasourceUid: prometheus
                            lokiSearch:
                                datasourceUid: loki
                        - name: Hubble
                          type: isovalent-hubble-datasource
                          uid: hubble
                          access: proxy
                          url: http://hubble-relay.kube-system.svc.cluster.local:80
                          isDefault: false
                          jsonData:
                            serviceMap:
                                datasourceUid: prometheus
                            tempoDatasourceUid: tempo
                            prometheusDatasourceUid: prometheus
                        - name: ES - Chat Sessions
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-chat_sessions
                          jsonData:
                            index: zammad_production_chat_session
                            timeField: created_at
                        - name: ES - CTI Log
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-cti_log
                          jsonData:
                            index: zammad_production_cti_log
                            timeField: start_at
                        - name: ES - Ticket Articles
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-ticket_articles
                          jsonData:
                            index: zammad_production_ticket
                            timeField: article.created_at
                        - name: ES - Tickets by closed_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-closed_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: close_at
                        - name: ES - Tickets by created_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-created_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: created_at
                        - name: ES - Tickets by first_response_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-first_response_at
                          jsonData:
                            index: zammad_production_ticket
                            timeField: first_response_at
            dashboards:
                default:
                    nodeexporter:
                        gnetId: 1860
                        revision: 22
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                monitoring:
                    forgejo:
                        gnetId: 17802
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-cluster:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/cluster.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-control-plane:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/control-plane.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-logs:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/logs.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                            - name: DS_LOKI
                              value: loki
                    asterisk:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/asterisk.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    traefik:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/traefik.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    postgres-dashboard:
                        url: https://raw.githubusercontent.com/prometheus-community/postgres_exporter/master/postgres_mixin/dashboards/postgres-overview.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    minio-dashboard:
                        url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-dashboard.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                              #minio-bucket:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-bucket.json
                              #minio-replication:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-replication.json
                zammad:
                    ticket_statistics:
                        gnetId: 14222
                        revision: 2
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    chat_sessions_statistics:
                        gnetId: 14224
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    cti_log_statistics:
                        gnetId: 14223
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                matrix:
                    synapse-dashboard:
                        #url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/synapse.json
                        url: https://raw.githubusercontent.com/element-hq/synapse/develop/contrib/grafana/synapse.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    draupnir4all:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/draupnir4all.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    matrix-media-repo-dashboard:
                        url: https://raw.githubusercontent.com/t2bot/matrix-media-repo/main/docs/grafana.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
            ingress:
                enabled: true
                annotations:
                    cert-manager.io/cluster-issuer: letsencrypt-dns
                    external-dns.alpha.kubernetes.io/hostname: grafana.midnightthoughts.space
                hosts:
                    - grafana.midnightthoughts.space
                tls:
                    - secretName: grafana.midnightthoughts.space
                      hosts:
                        - grafana.midnightthoughts.space
            grafana.ini:
                server:
                    root_url: https://grafana.midnightthoughts.space
                smtp:
                    enabled: true
                    host: smtp.fastmail.com:465
                    from_address: ops@nordgedanken.dev
                paths:
                    data: ENC[AES256_GCM,data:OyTssL0IIl/uJAdp2vK37Ws=,iv:QMcGeF3WGSJ9cgqeMlEbO8AwM82DDhTCmR1o18TEp78=,tag:UJSPasjbBzmZb1hAqk9G0Q==,type:str]
                    logs: /var/log/grafana
                    plugins: /var/lib/grafana/plugins
                    provisioning: /etc/grafana/provisioning
                analytics:
                    check_for_updates: true
                log:
                    mode: console
                grafana_net:
                    url: https://grafana.net
                auth:
                    signout_redirect_url: https://auth.midnightthoughts.space/application/o/grafana/end-session/
                    oauth_auto_login: true
                auth.generic_oauth:
                    name: authentik
                    enabled: true
                    client_id: ENC[AES256_GCM,data:OgdO+1wLpjoXVG2c00GT8AO71EdIgj6P1uqBkhL+aHZEAaoLt62Cnv2zYJcZPGPzxNU=,iv:jVX+MsN0myuSVWneDn6FOOA4qQd/lEN+gLfTEjU6D7Q=,tag:ZgZNTI8wTo707QtVRhn3/w==,type:str]
                    client_secret: ENC[AES256_GCM,data:lSgYkP/rL04YB+8noEAwLD3DuLo6MBsyjIPeo/EcZJo8QyUS72fq/YSwjYRiJ55IghH8I/cb,iv:ZW/4oadu+5AVm60nplmjAX/cwS4c0O47p9IpfI91y3w=,tag:1wHYm11l+A+9qzI1xm2+7Q==,type:str]
                    scopes: openid email profile
                    auth_url: https://auth.midnightthoughts.space/application/o/authorize/
                    token_url: https://auth.midnightthoughts.space/application/o/token/
                    api_url: https://auth.midnightthoughts.space/application/o/userinfo/
                    role_attribute_path: contains(groups, 'Grafana Admins') && 'Admin' || contains(groups, 'Grafana Editors') && 'Editor' || 'Viewer'
            imageRenderer:
                enabled: true
        kubeProxy:
            enabled: false
    postRenderers:
        - kustomize:
            patches:
                - target:
                    # Ignore these objects from Flux diff as they are mutated from chart hooks
                    kind: (ValidatingWebhookConfiguration|MutatingWebhookConfiguration)
                    name: kube-prometheus-stack-admission
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
                - target:
                    # Ignore these objects from Flux diff as they are mutated at apply time but not at dry-run time
                    kind: PrometheusRule
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBibC8zSFhpemZhZEovbExp
            SCtWRHZqWDBBUmNrQjd1eWNRTnBLVHgyVTNNCnhpNFNNMlhlM2hTNXp0cEJteUlt
            QzlRZ2Q1cFRLWnJNQ1RIZzgvQXR3a1kKLS0tIGtOVExMYW5tMUJiLzlPSk96QTZG
            RmNobHJ6Z0xFUVRUNnJwbXV1ZWl6SUUKN6vsL5DCGJiXdEpq71ekZIb83UB1m0R8
            dg1XKnGi6rsakpQMOa9P6LLEkuFuG+vcUqqGLL2SzB27xPKGfnl3IA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-09-26T19:03:02Z"
    mac: ENC[AES256_GCM,data:iLroi6garkFCI2xMn2N81fIJ7vClQ39z/wZOhTprHW7vNcag4vTUOdtnN9OB+P47jiKAkiN2VekHgiFe3VJcGFHYVnApo4yRMUtTk66zOMKTJLv4cH5D9Q+NFel8NhEkvM/lboSKrpqVoNx44jQnmn/oy+xw107ATjd/wey9id4=,iv:oLBRF1AjuMO8DEa3qqVB315mFjNrD8iS2UZLvhRbggo=,tag:XdkahWrfJynJCJEPaACl2Q==,type:str]
    pgp: []
    encrypted_regex: ^(admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.8.1
