apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: vm
    namespace: monitoring
spec:
    interval: 5m
    chart:
        spec:
            version: 0.20.1
            chart: victoria-metrics-k8s-stack
            sourceRef:
                kind: HelmRepository
                name: vm
            interval: 60m
    install:
        crds: CreateReplace
    upgrade:
        crds: CreateReplace
        # Force recreation due to Helm not properly patching Deployment with e.g. added port,
        # causing spurious drift detection
        force: true
    # https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/values.yaml
    values:
        vmsingle:
            spec:
                extraArgs:
                    search.maxSeries: "3000000"
        victoria-metrics-operator:
            operator:
                disable_prometheus_converter: false
        grafana:
            adminPassword: ENC[AES256_GCM,data:KpE/4HG8lAghae2rGfDakQDtWnUJw1Ydzz8cVMTrn8ox3wXkXDey7CF8uXxY/xYooaoD9XvvQG/dJr6uIUqoxw==,iv:1qGHBCmZMFCOMHJk/qcOrTpLi0uQpmtV9sFR/Ch8nN4=,tag:dHl7QqquSByEvLFe6vaQ+g==,type:str]
            alerting:
                rules.yaml:
                    apiVersion: 1
                    groups:
                        - orgId: 1
                          name: Draupnir4All
                          folder: Matrix
                          interval: 1m
                          rules:
                            - uid: fdz35yf78i8lcd
                              title: Draupnir4All Synapse online
                              condition: B
                              data:
                                - refId: ENC[AES256_GCM,data:pw==,iv:KjRLqW2kz9KhaD+JqR9PRbiFX2EhmeJcB4OVTATkAmU=,tag:/yZ0lj+QYPiGH1FC8hR+qA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:05MF,iv:ZWp4+kBMfQLLYSO7NM7Ly6kPBAxChsLGrFRBVCuzkFU=,tag:PFWrOkR2H8UqnSc8t45G1A==,type:int]
                                    to: ENC[AES256_GCM,data:1A==,iv:LOEJNw1zE/ecbiun5y6zRdfQyu8FYlxYRTBdKcj/x4A=,tag:KHUsR8VfAXlp7kfBivMKlg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:BXooNEDh0hDmyw==,iv:CM+1uwS5IW4p7NEBL3BHOMNu/ABQOtjxP7t+MnGMaBA=,tag:1/R5we0MEwYCaLWpvhnMhw==,type:str]
                                  model:
                                    editorMode: ENC[AES256_GCM,data:Xyql/g==,iv:im61x92B31YiH1VS4txmrIjNrkXNjOUuRhG1rjkvY4c=,tag:/tYvEncDXE7jhxEDMHzp9A==,type:str]
                                    expr: ENC[AES256_GCM,data:+YBdeDYe8qQc3UVudGgrF8SPCj7236PXeBWQzqGR01Y3u2BZYiEhtpnY4uGQOGSb1/9uPk2o7oAxvVAdyBdlbLUPDm4gdLMCP/U7nShW61QtBB0oDjrAcnj1y8tvIP8gx1jVSAf6FmGMiwZlMORac7aKIp1xDIp34DxnU5ikhj+RQA2Q9G/ZBM2UfZdjN/ib8nUDEQ0vF/Vw2DyTqyxODMl8y/DpmVvcocd0KokdDSp67NGcjZHrIK5ek9ywT4v5RP50UyB6oOkh7Wu9hNFV,iv:a26KuKqhkh3pUJZ6KE6yJG37Xdc7aZYxExvEU3c9Otg=,tag:1eWWsvfNFFK7UUGK/CwHFw==,type:str]
                                    instant: ENC[AES256_GCM,data:rkjwlw==,iv:54yvBqMoqzRd4TN7bmKnTCAsxRN6cx/aAxwXoTERaKQ=,tag:PLmzRFrmIsE6ykSxcHFA5g==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:xQsX0Q==,iv:ztJvwhsgMu8QjXz0vxcCZs+zQ4dKNo+BQSRbDqQHhF8=,tag:2Cfn0HGvtl/HHDCBTs1/fQ==,type:int]
                                    legendFormat: ENC[AES256_GCM,data:PmScGCtn,iv:EXMkKGis3r4q5I4cbKuquJeDkWICsGarWnUvHemuyuM=,tag:SbGR9E45EGCSMriSQdUJ9A==,type:str]
                                    maxDataPoints: ENC[AES256_GCM,data:5ntA+BM=,iv:GfPBwgSz0y3bUQy+OLnNNccliXfMjy5uMe0R0kpYPow=,tag:uJer7WLys83KBSWxxKGvag==,type:int]
                                    range: ENC[AES256_GCM,data:dgiMFgI=,iv:DtZimhFZ+FJnX53K0vPJXwG1jiwbskc+YXdHTodxxf4=,tag:gD/f8pt2Gi+C3ViiDzmzDQ==,type:bool]
                                    refId: ENC[AES256_GCM,data:0w==,iv:eVf+1kh7aODWs0avATIs5M7Sqt0g7ZMTf5LlDqZlnHk=,tag:pqnPtoptVodOeexLKO80hg==,type:str]
                                - refId: ENC[AES256_GCM,data:Ig==,iv:KHXdWkrj533kMiAUQyecnNblyu/Ue+ZJ1qfqsQz7hCc=,tag:K46Hlam7yi1l+aUxP+Ob+Q==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:sCL1,iv:Ny2ZJkDGvjitq++Zj0Q+6R5R/54HzKt/Ei2PEqC9hMk=,tag:hUufsVM9BS4+0V3n66LGFw==,type:int]
                                    to: ENC[AES256_GCM,data:5Q==,iv:0iNjkqOGDwigWhyuRDIkNQpku7l6M719+Yy1FXrfebk=,tag:9/J7GavtoFvOelevPOO2kQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:htuXAmAEtH0=,iv:EsnDe8bF0BN8CjLxzRmBli+hi+Niw0tEfZDqNQX+Dtk=,tag:s7gAaLiApaKy7cwMItRqHw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:ag==,iv:jJ1otJRDpZ/WEgjzUYsMRNj/i1Y7y47YeCpZneCfsXc=,tag:62QkFq76mmbxbXDGH6jamA==,type:int]
                                            type: ENC[AES256_GCM,data:AfM=,iv:dVQTYyzgI7W6m2QZSq08Ey72CctQ0YjDsWmvAwHRp0w=,tag:wb9efV9eJ8HKUK4+oUN2ow==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:Nl9o,iv:ftiiQxDmKFit/+YdX83Uq7MnA2wWKcnqkGrD9dE9aRk=,tag:ri85v+kASPxdTqeKPl00KA==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:IQ==,iv:P/AyPZWkGnML+sNA6ZpgvDc4ysl/U5hozy8y/KelU8w=,tag:OS8ue/Q6f3oN5jrpqavjSQ==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:scCaWA==,iv:fF4DZjPZAEIzMuAZsePcjEneY/ozLbUqT2/hIVp1VAg=,tag:ReaKYLtFg4Nfy8a5N/RqMA==,type:str]
                                          type: ENC[AES256_GCM,data:uV0kaSY=,iv:OeL8pMI11/pswsc17bIChzX1HaQbJMOMiFHRuMDftTU=,tag:SlrnbEaeBd+CF4q7T+W4Fw==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:YBY8E+SwALs=,iv:D+2q2/OSlDQbtu3l+ST8RWXx3o5Pu3bfozzDam7wdQE=,tag:HgaBa+6QsiRd6k0oi43OqA==,type:str]
                                        uid: ENC[AES256_GCM,data:W+ViY6f5xwQ=,iv:cSBIt4G+SrLI7wg2QPJubp8U+oSxSOFfCXvIoXKs6v8=,tag:1DzC1B5M1Q6mEQAm7BDjLQ==,type:str]
                                    expression: ENC[AES256_GCM,data:2Q==,iv:WpPco09nMvZD3Lk2LYu2Qz1n8LKKn925+9TDPmg1jfE=,tag:zTVBWUnXW5GW0mak/EtevA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:MPiksQ==,iv:ApFctIUdf5hOHR7l51sLDwCE+7vz2tA2gNZR5L0YmFE=,tag:7xaiqCliSK+UEghQdCR1WQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:2Em9V7A=,iv:F3JdHksUSMZjCJaxKDvsjJMUF6gnaggCeLmWf6G2tJc=,tag:GUQq7XGFYrNyfx6RfEPiBA==,type:int]
                                    refId: ENC[AES256_GCM,data:Vw==,iv:+etQMwOKlqf/DuyH5VQby4X6/8f3Z4xSsTaNQRJ8/gk=,tag:ADTODRN0g2kdaT+MGxjeuw==,type:str]
                                    type: ENC[AES256_GCM,data:362d844yHPiC,iv:UJ5ZWRzpNz13bZ0tBrEw+lxAYAOETG4KmnFnU0fc17A=,tag:Cm3gpfBTgwxFBinGHOi4kw==,type:str]
                              noDataState: NoData
                              execErrState: Error
                              for: 1m
                              annotations: {}
                              labels:
                                service_id: draupnir4all
                              isPaused: false
                        - orgId: 1
                          name: Kube-system
                          folder: Cluster
                          interval: 1m
                          rules:
                            - uid: d2b94d3a-2483-4be4-bf2a-2fd9f9fac406
                              title: Coredns Failure
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:GX6grEU=,iv:tzje8xnx4Lgzwr7d2G+h4FmeoYY9E43soiY3xArMITk=,tag:Ik+oCagsVvtsRAnkxJx5qg==,type:str]
                                  queryType: ENC[AES256_GCM,data:2V0wsfs=,iv:613XurloI8M7c63Kf9SWDCfZF8N/3PJbUPdkAeDGi/g=,tag:qKGgG8FSoM+4n4l3dALbbQ==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:Yibl,iv:kKB1CUtlLKYgAMytmyfa71CdODrBRvbYI2xM3RurNQM=,tag:NMVA6Ek06PwwnfnvkVCHaQ==,type:int]
                                    to: ENC[AES256_GCM,data:Xw==,iv:yOtB6EIPmzktrJ3jo4HC664tvu86MTWWnl/buE9D09c=,tag:+ZT44zAgGYAqi4fDm94h2w==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:Cfv5Dw==,iv:0yfcM89u3gBFiD0lnnxUrjROxUkBXro5LQIYYH9+iZo=,tag:iCRYzbz2nhFu5VIQmxKEsg==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:vEC1iw==,iv:guhTHWrUiEZqGVO7I40HsT+7THq8y4dtKMjjVMpPTZg=,tag:kOfUCFeGvrs43lGocqrrdA==,type:str]
                                        uid: ENC[AES256_GCM,data:GuwSNA==,iv:OW1Xa2ordSCleQN8kJIDrnxhqNKr7aGf69MkNCaHKwc=,tag:c/1135h/iYgcdp0o5A5Sgw==,type:str]
                                    editorMode: ENC[AES256_GCM,data:IPLEymnCoQ==,iv:f9/uqKwF85zcN7ZnC/D9KXMbT4wDdmNTydaKdXJDENo=,tag:3G4tIYAjxQTfdq0OFwKOMA==,type:str]
                                    expr: ENC[AES256_GCM,data:Wbl5yJjUpZnatywFt87P/Ku2emn3yWapZ5kbL6whBRFNmBNrRtRrnUhjreA9VZsbJf7UZOVcM5wuR+Ka0NgP+A8cvRVC,iv:PzZpoVg6Ez3RkZeerY6lbuuwFGIv9pHlOnp1vnqbKgw=,tag:J9oj256aLQ3twDsx/VdXXw==,type:str]
                                    hide: ENC[AES256_GCM,data:ovlMcFw=,iv:a5dnLZjYZ0W9yavoLunyoOh92Z1kTWeGX6/RqFCh8hM=,tag:vqfRzpNcz6iHzyOulD49gw==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:PS5TWg==,iv:PgwWRVz39lRZ+ZhrVdzAG7okyKn2VDFDWUolvoFhsxw=,tag:RMDhysl31UhUB+Ez+4mRiA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:GWhhHJ0=,iv:pdpCsxukdBZiCBfd/OuE23Bwgy1k5nur0Wt5TyUa/f8=,tag:JArAqkxBiuHZlFAJ65mLbg==,type:int]
                                    queryType: ENC[AES256_GCM,data:7pb9mtA=,iv:Ovl/Mr24rVtUXccG+PniYzqVH4+jmt+lCl2OWdw/rag=,tag:3jqNz0Uy9PQP5kcWGA+SOQ==,type:str]
                                    range: ENC[AES256_GCM,data:oqHufg==,iv:W1jUV1Fpm7EwEDfirKZVrS17cyNsxdieqRP7lr2VCCI=,tag:pcQv1TPPLwqrRU/pEjiFhw==,type:bool]
                                    refId: ENC[AES256_GCM,data:1k31e4o=,iv:W2SpdiKDJvEOHSwpyo3VyQnCo17dhkMQmuVDLxmnN6A=,tag:Y2diyIOGabzPwbKMCu0oKg==,type:str]
                                - refId: ENC[AES256_GCM,data:12CRUuPp,iv:5agPD/fTfO4aPV+ID+PSYFyA7KJsFfpwUFrBnvnfa80=,tag:XkMl8yUG6i3kmC+GOFeXjw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:/OrB,iv:RYrLb32Q+g1lhq28bYiBYPL9nPbGf7AOB81ZyfGlgXs=,tag:UrBdNObvfVgSeI0IWtDKww==,type:int]
                                    to: ENC[AES256_GCM,data:VA==,iv:OyEFtMpTY4atkdoXj319I+MeSVX1PlB4KiAfpimBSew=,tag:6GqLftCvcW/npE37zAKjyQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:6FrzijltK3Y=,iv:y5V8wVOjWaMEP6koXNNIcsI+DbZgCIEuNEb9MoAmBR4=,tag:y37ZEDjIwJPPtsMmegaz3A==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:sw==,iv:JXYPzcS/HRNtXwsEx/8olOd328Ahm9vdJ7j+X2AGZ+k=,tag:9WSulk7Y+hDuqXYKzwqzdw==,type:int]
                                            type: ENC[AES256_GCM,data:Wzc=,iv:p5f395UwmLoMR3sBCs+cNoQ/y4ZNonkpdPUYKvoJ/iQ=,tag:2vfCBTXnKZcBk7wio+8axg==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:dsbO,iv:oSCuNSunM8qARn6P3tuRcCFuVKtVLG4JLw/ZIW/AEtI=,tag:ofJVTOKnTCOtP7lwjUlM1w==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:Rg==,iv:8Eyn+PlKH61GqsUQ9+cGLV5dLLf8LFcDUZ8tZtraIUU=,tag:Quyfs8+xQdpecYVV4NpyoA==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:vf7Kgg==,iv:g16jyBGpwIcMyNBs1yVX7Gy8feqghtP6JAqIFkXBzKs=,tag:MReF/06khYNcU2azHW9nCA==,type:str]
                                          type: ENC[AES256_GCM,data:IFGqsMM=,iv:yEOK4ZZY/X/3rzXgcxF3W478g+Tzhklg87FAN6rWhFg=,tag:ydXayNu5TWPK536805hR7Q==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:CIMSPtcLPE0=,iv:fRODVtN/imriSixHZ7una1bp49aRyl9MiDpfjUssErs=,tag:6Cd5ugueiQsa+lckaWmuRw==,type:str]
                                        uid: ENC[AES256_GCM,data:xQGHYVdYC8I=,iv:eznI5gaGPKQ6PVbd+hKkKKQ6N9Mc002s32+TOuXSqTc=,tag:DlBRal9/u3Xs2ejs1Nz84Q==,type:str]
                                    expression: ENC[AES256_GCM,data:CA==,iv:D7qGQOTg+YynrUAwTJRzZvK3zleWp0pvG3uRvEBrbDE=,tag:M3etd5oooZuktdlGTGTf1Q==,type:str]
                                    hide: ENC[AES256_GCM,data:dHMYZKw=,iv:AlH6HNiNzyTJx36SXfaQWc32DIRQAfXR+e01fO8eI20=,tag:k+SOpa3cySpMhxcCJEaCZw==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:t7i1zA==,iv:3nOVSd/Oea4Az6+5/7dZlyZoPw71FSOmqhv9qw41DeE=,tag:LfmBFGGe2ZF+LI96fexPkA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:2BjLluE=,iv:8yJoX+trnevxdpugiojFjYUH+6CkZeCbSelKp/QITg8=,tag:3TM1xlp0ftzkMJZQEMDHig==,type:int]
                                    refId: ENC[AES256_GCM,data:oUQLj4Lr,iv:xAyDink13Gxcnfez3kli9H3q9pe4U+UknmhDs/y55H8=,tag:BtMcK4XNUyJ2HSvD/DUOxA==,type:str]
                                    type: ENC[AES256_GCM,data:oRuR3N80yIWF,iv:qN5q6UwVnXlP7P6XmF3ziDE431JH2lE3+moAznhup+g=,tag:xE+mxBs6cqb1ezykY53+UQ==,type:str]
                                - refId: ENC[AES256_GCM,data:vQ==,iv:+et99ukwqHIjmbDljw+lXCGTqMJcCWpG/+YF7gWowQk=,tag:MIYZmk6vrfgeaCNH1iAW+w==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:Ilq5,iv:9G29z+43CJ8ngY+SSj5i4Y5lujuNPI8QySaqmVxVO9s=,tag:QeC+cCk7rEC6StQGM0xVrw==,type:int]
                                    to: ENC[AES256_GCM,data:6w==,iv:mZNchx10zSpfwpRuflx4KF2trnDK2OSZIfsDy3X70Yg=,tag:QiAoaMdbZhmUizAtXTFflA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:YaPj38RrBz0=,iv:0CESgQSiJKjYJWMwqNOD5M6uuEN4KLyAr0yYutjL/g0=,tag:SAL4KZj46aWnbbu8E6VvpQ==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:hA==,iv:Caa2Ceu2MAUZDtMnLOlBLWT83auZVDiXY9neIQ9hsSY=,tag:pQ2GS58GjBaKZmmMHHiWoA==,type:int]
                                                - ENC[AES256_GCM,data:TA==,iv:t1NSwEsf7wWfSx0tkIkwTjbr4ZAjpcayXMLYnHL0J9M=,tag:Et0XN9PPyDmmxIAKi47eMQ==,type:int]
                                            type: ENC[AES256_GCM,data:rz8=,iv:wpwIDcVrDWpKbKRuY0p6KrKUs9D5rTX1anHy8nPXU9s=,tag:lOIO19Es9lauGiMD358C4g==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:py7F,iv:3bCX62YCO9SX5lFFUUZGrAUzmSCisGMQlFN5dgZ+PGQ=,tag:YKL4wtirz2XUTLGtSAtTIw==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:SIut,iv:S4cpuFwkh/CD54tI7FwJub1TU2GxrGJoEuIlWB+mDt4=,tag:E6k/a+1524Zz4JIA6uGXtQ==,type:str]
                                          type: ENC[AES256_GCM,data:/Yf7lGw=,iv:1aX8B9IYV+b5QKHh5SnUkzUOQKJJ3z0KguZSgq5quFo=,tag:PBTXMtDUFOodbbQDW0P0sw==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:NtBy+mgRrNk2Hw==,iv:Gw5YNuHWCk0WrRsI4HGwgH+ilWy5jdLAq2j79MD7e1E=,tag:A4bUj3EbSIt6Uwv9Fl3Ziw==,type:str]
                                        type: ENC[AES256_GCM,data:+f8GNQyRCCQ=,iv:Oz9e3Enbk3YWZ7AyozdgTVd1zm+aE0esAE0yYWBAEy0=,tag:En47y42nshMUbnqNQRwcGg==,type:str]
                                        uid: ENC[AES256_GCM,data:20su1ehr6eA=,iv:xUpiT8mh+NP1h9XMQy11cqyy4MbNM+n3JR/h8NucNAU=,tag:+IVa4GEoicVCELiC6z1HCg==,type:str]
                                    expression: ENC[AES256_GCM,data:1jFT/Bg=,iv:eqhAjkvHMfT95kyG2w1xLp/nt6tYD/Ed91m1ixmF0ME=,tag:+m/VMg/j02G3SiVbJMuypA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:3ZsM1Q==,iv:VHY11El0fnTy0QByyo29E3f9MzLFFbyZ1+i2ckeryX8=,tag:7Jx/dqSZslXdsqR+vbAB4w==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:C2zTlQ0=,iv:j/uqmZqz78p2YzcU+rJjQnoGKXXuvXqwDFEKxSBY8pE=,tag:pvhvFbN+1cDPouQiOPHaSQ==,type:int]
                                    reducer: ENC[AES256_GCM,data:uTB25w==,iv:eEP87K6dyd6y4CYkZFTSYn1eFfnui6/W+wfpwfTl4nQ=,tag:STAiE4egRO9YVudam1euug==,type:str]
                                    refId: ENC[AES256_GCM,data:Zw==,iv:x1K03ksCLoBZQofqHRxqDnSpbZQKs9C+doxxL+za1hk=,tag:LZzCXjONksZSgXgJDYRh0Q==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:i8L6NREFG3cs,iv:7KXoJevCW82HMgehSYWCPtY/4378ddU4nVc1P2EKBy4=,tag:61zabRpDkJ4pUlL9BbTRdg==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:rg==,iv:gCMqa9ufAZIOodGktkXVkLjuflUMtlYa/xHVeL5xGJ0=,tag:9YczrsBj9pQgwIBjsJ+LFg==,type:int]
                                    type: ENC[AES256_GCM,data:limRZpCS,iv:zbDzo0dWo6Js1OgKOKoeKxAND2SdarQ4IoFrJ6Alv7I=,tag:2rJkdEqDuk/scjLwM9eI0g==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: High amount of i/o timeouts in coredns
                        - orgId: 1
                          name: Matrix Synapse
                          folder: Matrix
                          interval: 1m
                          rules:
                            - uid: b6db960c-c0bd-4d4f-b0f1-e1f216ec81cc
                              title: DNSQueryRefusedError
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:W5wd5So=,iv:CaCj0sS9Ze4G/nM4K/OfIpM6vr76lXM7XJk0EL0/9OQ=,tag:SKgU8OexqumeMbf/4aa4Qw==,type:str]
                                  queryType: ENC[AES256_GCM,data:qDMRpp4=,iv:k1vZxR6xZcKK/hUwr+7Pj1o/bmJPmAIQLifbbVgstO4=,tag:fT7Ivtr7RE/5kP29v0D6+A==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:AxJW,iv:vFEU69XfyqbYTlHEzqyN4T83B2kgsgnsHX3uxk+nmOc=,tag:oezGzpfkCIiFRlefyfhg0w==,type:int]
                                    to: ENC[AES256_GCM,data:jQ==,iv:jI95XJ2AaEzxDTyzUGSTVNOFnZFUhPNjYKfdW8D36Fw=,tag:hAUl8ozViYxtVZgcGJOPyA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:GK/xlw==,iv:lrvmI/5mBoDZYZ37Sy65U/VcF6C/t63TfTjI4uP4xp4=,tag:BtMIe95PhlQgrSJdW318pQ==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:Xbj1fA==,iv:H4aTkZpYBAGWjI8lQPPQ2Azhk9OCfXKB+0RhhuVRpo4=,tag:pOes8FsLAYgSzcc7p+0jhg==,type:str]
                                        uid: ENC[AES256_GCM,data:SjeIcw==,iv:3jFIv7ZEi54CUhqUkDNvr/EmqlfUzHaydB1PwkNTw6s=,tag:peKE7ymW+FfPdzVzGIvy/w==,type:str]
                                    editorMode: ENC[AES256_GCM,data:BekNr50uMA==,iv:xBPTGafZq0Q/tp8aVJ92RJ6Uf5k/AkkmQoNbuvee554=,tag:13ANV4dhrzpyOcek8qF2JQ==,type:str]
                                    expr: ENC[AES256_GCM,data:hLQqni6MAu7Vbp+uxD3vAZ8NAX//8ch1Q4ax2t1At7tMsiChVzRw4xkA4MAZtoF72yWNK2/kWwDlgDnwjYvBDzEJXwaPNcTtX755Cxbjkrc=,iv:ZuJTdxiy1+1WqXhzP6vNBKpMoje+KzIs3vVuF2uoydg=,tag:Gz6cw89FFZAhKcSt/Sa9JQ==,type:str]
                                    hide: ENC[AES256_GCM,data:yj39KGY=,iv:ND6WKu5489F8c5YMRIrprOxsOzpnMFzgG0T56T94M64=,tag:x2/XnePlroYMHXULABI0Kg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:P/8kiQ==,iv:wGaNxZ72T2a6pM0NEwTcr9ikW0Phf4DPBNPM63zRsE4=,tag:UwTZvUlep+tjSwg+vgIB5A==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:OYi53g8=,iv:ftJ/aPoAMX+Xk3DNDgHkpLR8LUVo1xQ4SG538+cBx7Y=,tag:ybui8ImFdfDka6HiXrp5rg==,type:int]
                                    queryType: ENC[AES256_GCM,data:tAhER3E=,iv:Ogm8Hjso9zV6/fCLUSgXCYqwNhPUYZ56pz2mhJkUKVo=,tag:MbBJ/s9c7dBabbCR71eQpg==,type:str]
                                    range: ENC[AES256_GCM,data:orOLow==,iv:lrdlqiKXSN0/nWRycqE+1rkHoOc+q2zcbWYq5wHeUf4=,tag:DYLLbHSnzzbS3A3DLdqcQw==,type:bool]
                                    refId: ENC[AES256_GCM,data:+cVG6RA=,iv:sP1xReZfDhi/M83zs+aQs6Zk9P+8Yf2l9DsEYN0NAEc=,tag:wa3v5J/AmS7jIpZwNg4Zsw==,type:str]
                                - refId: ENC[AES256_GCM,data:AB7ZEfne,iv:lhrciJjsX+LsorqbSGvF+TYmzCfQmlS4gXz+yHq4iOc=,tag:jWBuSX5QJiFf6nxcAR6Wpg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:P/hc,iv:qbYbjg3gdJmCJUlRTo4Ozdr1znqHlLM4rqrbUTeLpuU=,tag:Ad1L46Esxg9ZIb1BrtDmCg==,type:int]
                                    to: ENC[AES256_GCM,data:BQ==,iv:WAO1lLm0aIHW5ZmZGpNRqUGQ8T8Rr1PTp3dk0NXcG3I=,tag:ltoRFm3bHeTE/q3ANG2mag==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:hw1IWT91ChY=,iv:iZrgr+hqLXrtqGxuqW903FAun5lJK+WInKALr/A3cAE=,tag:5h/SGEFpPprjh2h28aE+Bg==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:MA==,iv:tl/AaRSvPsywjrtzozzzP2NxzSYTpOjmXa7oWASrGVg=,tag:gQSajDG3YFb492IKHjq9JA==,type:int]
                                            type: ENC[AES256_GCM,data:OM4=,iv:SnG+fPw7vghUS2JvkwIdd1iw9FKhY/5AWTgnMDtJqNI=,tag:MepaE2aw7wODnbIg+BuG+Q==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:IBiR,iv:cx8oiLfUZgRG/qCc1mb65wfBo+q00frrLIecMNyXRVg=,tag:bxJywvARRLR5FQIn/MNXjQ==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:3Q==,iv:BfjhEv0iN7K9xY7/Ztf///b6G3xJbH4JqIFdyfdtk90=,tag:drtdy11OWv2xszKdFPCQvA==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:g0uWLQ==,iv:qrcT/WLC5eWawKsTRI/Uk7WBDrCT1q1TzwguXwpkua0=,tag:105T3csxmtmKXjtqSTPdPg==,type:str]
                                          type: ENC[AES256_GCM,data:EAO4JaQ=,iv:NmQuvMsIH8K6QXC0RI75lVg4miSFGnR8HuVXzngZpZ0=,tag:ae3MNVZ1nwOnFpThuveEvA==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:TNESuCF1U6Y=,iv:VYrtPa+KRDQMQdImdnmFVYHA78qTeG+fjvAK2mRWkY4=,tag:V6FpPFiew6UY+gG4ACmU9w==,type:str]
                                        uid: ENC[AES256_GCM,data:ijJSs+SWPIA=,iv:BFlVqmT7CcLAlcOOSphfgo1VmFluLrJFFMOGVXYlJ9Q=,tag:0PB3cnIFQlfTo+Wau895Cg==,type:str]
                                    expression: ENC[AES256_GCM,data:/A==,iv:ynIS4NBnMSgx7RV0OAqqXvCOeEfoloILKmIVkClXd54=,tag:4Zd5neSUzPzve1643v4Xzw==,type:str]
                                    hide: ENC[AES256_GCM,data:TWEELGs=,iv:Xk/D8+zND3nrE5NJJmnPYfITjAuysnsIKzkUm9r3kFM=,tag:4eImMf4ovT2KeeaX9p/m1g==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:B77HIw==,iv:ZJfqRkzY+PeionmU/EEzuON9rAoLrAh2ziNwbXKRpkE=,tag:lRqHEMmCbJy/cP4MafeDTQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:W+2exnM=,iv:mVjLdc1wlViP4Np0MlcnzWPYQjTmePsrJaTvX/tjAOw=,tag:fKorHkcypyMnqC34ZXJtaQ==,type:int]
                                    refId: ENC[AES256_GCM,data:JamNZNjA,iv:u18aj+OD/A5bos3OGCXoGyDfIA4+DWBxGq+vVKf9iKE=,tag:yKxGI9SWgWwO+5rmLyDz4w==,type:str]
                                    type: ENC[AES256_GCM,data:cKL4q/OZaYZt,iv:OFnlPxsCHG85ZQXg2jgAaAHWt13W4ArmDn+4JTCqbtM=,tag:Fjo8hiw2SREZvVNmY3ZF0A==,type:str]
                                - refId: ENC[AES256_GCM,data:IQ==,iv:Mv+eNxGwwZd3OotY3uSK53seiJP/MEoVMCpaHbeg6aI=,tag:GEwCfFkP8RJLDHGOTXL1sQ==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:QM3b,iv:aIVAbUsFAqYhapIUDY4EM0EM/lUDZF6qO1mQGJXPGfI=,tag:RypK07OXr2bDTkbkhFYxRg==,type:int]
                                    to: ENC[AES256_GCM,data:PQ==,iv:GeLB3uMCWiNFh1LedAv4biUJ/2jK5EDHrJpPWv5g5hc=,tag:GOVUHs7N8IcLDXZO3eXAyQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:Ki4sEaGfX+E=,iv:1ZK3YKLGtsnvfSobwQFLWOcdcA9rxiDlhhI2A8E5HGk=,tag:DdSQMA3aumNfcfvdu7Oo3w==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:Ug==,iv:FCUMqXhvg+yH7xpC0A+2u019/VTSZiYyGUDF/SykcVw=,tag:DAaQvwILc2ovdKqVk6CkDQ==,type:int]
                                                - ENC[AES256_GCM,data:xw==,iv:qvFF9cS6q7EtGwT/FnpAjQNxj3sJBWcxQ9mAYcIdFxU=,tag:ooYeFCMCcL8tkVhsRkUTzw==,type:int]
                                            type: ENC[AES256_GCM,data:GLQ=,iv:bW8UbQuNX0ZdlqZ1yQQSncDR79KeDeT5VoqHpla+AcI=,tag:tL4XhJR8phV2ON6Tm7YX3A==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:cDZM,iv:SWXkD9NS4TdAMIOHTT5XWMp/k/QfMmknCTBbG6YlZOA=,tag:l55lFK1ikREdn1pXpk1gug==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:jb+A,iv:5AekHkzapcYLFxZ5cW/0JZe6uhI2g7dz0q3T9qWBtS8=,tag:nPVlGf2QPfCoouN/UAyBVg==,type:str]
                                          type: ENC[AES256_GCM,data:APuLOME=,iv:4B5y43BJp1PyoT4SiZ2jo5wkXgBU4WJ6Ot1h5d76Tis=,tag:kv8jTn9TefTqog3WyOf7Tg==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:zy8oxEGus0NHfQ==,iv:slKT4gwgTuyT+iLr1yPP6oy0F78OTs/0XrIPvXHPXC4=,tag:mtY+N7mReJ0lIYkY2O/ZVg==,type:str]
                                        type: ENC[AES256_GCM,data:M/zeSl9R0KM=,iv:W8S1EIovrVuBoUc9v6zZ4MycxMwmyWYyJy92swI4YBM=,tag:LFEUVskkNAiZKOWQs1Dnkw==,type:str]
                                        uid: ENC[AES256_GCM,data:gdZ6HfyORV8=,iv:3ZkWh43MYmlu1sfc1nmWrjky8EwUQQCTSXDsROs+ews=,tag:rhrgDRCd4ArPQfIdDPJ21w==,type:str]
                                    expression: ENC[AES256_GCM,data:7RXDUjk=,iv:Zqzzp0boJ0JsAs/ribdEZJxYPvBX72gR/70tHu8gLuA=,tag:m5eMZIgpLkljPdk5ZfYniA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:1OyRzw==,iv:JiHGLd7kEsBs+7oHqTeQ9u5Af0c2MXiU8zm3XLYD1IM=,tag:wfiH8z6DF9ebFKXNpdre2A==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:9pg6zic=,iv:ndf/e/E2e683gtCdHEK6hHKoZLbegSOwijt+cNCkcZY=,tag:EnFVJXxd3r+DP5+Sw3/1MQ==,type:int]
                                    reducer: ENC[AES256_GCM,data:znnRZQ==,iv:DFXusCD26hovIlmnkWP2lDf3KzDTzsccezAfkbf+1EM=,tag:EKtCKe7Yma/Ey+uxDhF4ww==,type:str]
                                    refId: ENC[AES256_GCM,data:pQ==,iv:GPP1gAqC/vyirvsCruWGYFj3pilyBFJzBnnercqfZa0=,tag:JQ30MHlyAOtpUR8NvCwmbg==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:2iDbgt4MbtiO,iv:9XffC9WKOBJFznsuO69S3fEzkMPTOuYXxuo0k6ald3s=,tag:nO94lwOviDxK5V4kBC+3qw==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:ZQ==,iv:xL9/dpsnaHThsBD4hpblHLi3mxhXkVyDHdgbOq6b22g=,tag:0CsFs5plSj1sKkiJMmP/yg==,type:int]
                                    type: ENC[AES256_GCM,data:sKfirsBO,iv:TCRCUn5FSc1hEujnySRner0UE4sxwK/IEwtdYFOmROo=,tag:DcDpVgpyEgh1D6De09I7Rw==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Matrix Synapse DNS Errors are higher than usual
                            - uid: de30a1da-84da-45f4-a4a5-d641dbd92e6c
                              title: psycopg2.errors.ReadOnlySqlTransaction
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:JCV5F1Q=,iv:diE3NY5t4PwHEdt8wt1Aav5FVLLjmsz9vemKuElWDCA=,tag:xfIqR7RYrq7t8IoYs6+iTA==,type:str]
                                  queryType: ENC[AES256_GCM,data:fVfRiKE=,iv:U7SRUKoRR2Ctw7PYHPJ6WzzqjRfXyPB+4M35MqoMYXo=,tag:XtPjCgO9GLhFtu0IC9NZJg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:DBbF,iv:lm0f12cFCHJfpE9jvyszJEytufW7vdgtROYrCwPXWPo=,tag:YAut+cyHII17dB9wgHq38A==,type:int]
                                    to: ENC[AES256_GCM,data:1Q==,iv:+5y8RxJI8U6fAUVEe2hQawZAmTIMreavfDU+V8TWNgg=,tag:yETgjEsHu8GWjNWBW88E0g==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:pq/paw==,iv:HZWKxMAKi8aUUQ9qwzyITAns3VpLNikQjGhFDxfUs68=,tag:pyMuUtWzkIZ40C0aS1+C+Q==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:ZdQWjg==,iv:5taM92F/RBeIMMXLHpq/9iA+xeC/bNRstp94u5P5OkA=,tag:pkg/7jX6+RolazRFkp2EQQ==,type:str]
                                        uid: ENC[AES256_GCM,data:/hu5aA==,iv:RoWSbzTBlKqtMxdDKc6kIEqdC25VN6qfotwx8IxkdyU=,tag:q+Oc1QrU26aXyowdk/xF6Q==,type:str]
                                    editorMode: ENC[AES256_GCM,data:uLS2apCGxg==,iv:cWN3NQuSsfhXIDIEddQSmziOPM/vc06XttSd2HGmPz8=,tag:YZ/zxrp7g6CD1OYA8hoJuQ==,type:str]
                                    expr: ENC[AES256_GCM,data:IrSEoQMb+rt7eKrrqLX/rDJ9fgwJeNrFCq59kDRBm2KGxm9jM3ApYQhdX1KSynVhYm4RZ0PLH36tfoQ5sr2ZYxOD5761tox3Yta2LwZIMvHxwTt5rYZ9o9gWWt+BL5cdCDQ=,iv:6OteYZKvOMAw9DjxgNIeMf+0XU9jxH974apTL1rhzz0=,tag:gB8qdqMhjZtM8Y2OEO2cug==,type:str]
                                    hide: ENC[AES256_GCM,data:xDDDCEU=,iv:EEmfHr2msRPJvC8lrWzzL3462Ke82qa3H1+Ei6uaGd0=,tag:Xi4zmHG6vCkTevZ/NvlVsg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:Rg1gRA==,iv:lVidUGHng/ZuVty8lW1nlBUZ6G2CWqicNBEamRtLk9A=,tag:Wens1byWNOW+dpV3Ph/E8A==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:PRMlEmU=,iv:Yf0xW6jHqJWrw8N6LBZOh5d+086euRATVhzsUjqdJZw=,tag:LGXKPIfopfTztk6rzaXYZQ==,type:int]
                                    queryType: ENC[AES256_GCM,data:Vffw08s=,iv:sNX0yn06V3OvhxHrWWMG9bkuu0adH+nfs6iHlgQmWhg=,tag:ME2j9wjxEmmV2tpTJD+BHw==,type:str]
                                    range: ENC[AES256_GCM,data:QM5HcA==,iv:IiArVXPQKRBY7mHmiN8JVmtGCgUQ1ZHdTR+/0v/Pmkc=,tag:vg4X4xpNj8vcKUfombu/sw==,type:bool]
                                    refId: ENC[AES256_GCM,data:lexTZ00=,iv:GjENcU1zClnHTTTnMbhRrm5Zj26NQ8Vas/pY9aGJmD8=,tag:vLDDD1oEkoeMoSdGy9y95A==,type:str]
                                - refId: ENC[AES256_GCM,data:OYzRatJm,iv:kgVYvVpskJSwO7zyb9G476qU02CJFF+f/NvcvAlitt0=,tag:NLUWx7FhMDRvdStf/9Diyw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:TbZw,iv:ZahMcPkzKZ4nFXMW12hiJxM1Za/2qI9zU2UDX4Wnfuk=,tag:J6wbbv5+opaLwXQVxQ4MKg==,type:int]
                                    to: ENC[AES256_GCM,data:0g==,iv:JH/Fg/JJNMf0giYcWgzts1jNPuh37WBj0kY4y6cPKdk=,tag:6l+XXjacRkLCbXWPBDVleQ==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:MWQ8acYi0n4=,iv:XxftChw5ygvDKDUEFIkbfguATaLEcHuRD/Lx1xguMSQ=,tag:q9Ot794w0a9m3SpOsGx4Ew==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:kms8,iv:y7i9NRvbKlb62X8kV7/wd1Je7aG7e2Usy4uPuUzlGxk=,tag:C1omdr/XG3MhdPDifjIyTg==,type:float]
                                            type: ENC[AES256_GCM,data:I50=,iv:io6xfRFH8iPjjqqUMhZQ+xX8T06ASSUCzPDEnW/4dCc=,tag:GQPqvteOGmi2wRwSwAwr9A==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:/oIG,iv:ogS9+gTF7Z0mWbl2soUNxr0rMkK96Pi6lwk2RBKK/74=,tag:5Saxde3K+m6+zwi5fryg8A==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:Sg==,iv:yLCuI1vihjQM48VEGw0UVyXQvmxdHN/80zZR5rAk5yU=,tag:0/e6kc1MeKBOlSPGE3dKzg==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:09H3xw==,iv:ilNAp/C8blvEP0PseDW9kPeEYlUoLOmzxQI2OhEEssc=,tag:DBvsujR74W1oFC91yYr6og==,type:str]
                                          type: ENC[AES256_GCM,data:sioMAO8=,iv:NjMuD/O7Gdf6PSHKOaiG7B/ALpEEU/wVpo5OwJFsVXE=,tag:k7zybQkBs5F0WCqBnBA+8w==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:obG+coue0AU=,iv:fT+AO8nfoCc7nvwQG8G9gjbhjc3AreFL4tf1Wwehq/E=,tag:6vwRXblW1xLavsYUbJ3xyw==,type:str]
                                        uid: ENC[AES256_GCM,data:zpYOuwyos/I=,iv:yKHHr7wFUyfr3teQE68KfvVhf27ROqBoVsrECY/1M1A=,tag:4uqyHu+QNMm6PZzUEgsM7g==,type:str]
                                    expression: ENC[AES256_GCM,data:Ng==,iv:SlwE3i7FZ6u+lGJa8b7ZDOnFJeIEExa0g41yWcShODs=,tag:ty0s62zDYGAfPlkpN5ogFQ==,type:str]
                                    hide: ENC[AES256_GCM,data:GenH8ag=,iv:idzJ1VZWZezHks4Tfw5G5SHLNydNDvVoNYHQw/QRjzY=,tag:d1O9IQ6KHBERxqVqP3kTbQ==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:E7dilA==,iv:0ZKZeHwlbF8geB1Z4RXHPu7XzhYLU7hBlCqHObyL0sU=,tag:n+3hnOP9Pce2h7WuMXV2UQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:aUc0Oak=,iv:3r+YFl4G7Nps9QGAf2srCaHSVxBUhIoROHUEsnVKnHU=,tag:Z/fr/8Ml10He6+5qhL4ogQ==,type:int]
                                    refId: ENC[AES256_GCM,data:ZEKYxD2z,iv:R1UwA7PaH/JDKi109gRs8hVyEAtxh8DJfu/rg56MWK8=,tag:p0DTuFzOFy55YnsbALmqRQ==,type:str]
                                    type: ENC[AES256_GCM,data:drvj4izxHP1K,iv:RrYNGnb63vxJR1mP07ljI5mczAb3RrCAZ/BTrpQ7Qsw=,tag:dps+cJ7OaGz30+FEcpBZxg==,type:str]
                                - refId: ENC[AES256_GCM,data:JA==,iv:+qwayAWAHqhBx9fxGChD4t0CJ3oZEm5Moobe6YUIJIQ=,tag:B5VA2LL4O2bI75oPY6EC+A==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:/694,iv:I5yuw65ZIKh68Dtiht9LGDnsZigY8mI/urz46K+Z4HE=,tag:JRZxwnwKOZkTFb4mu6PGqA==,type:int]
                                    to: ENC[AES256_GCM,data:OA==,iv:gbi7fVZ6PkHHbWJCJIh6Va2yxRvo/VJusrihN0Jh6tA=,tag:vP7yHjd1k5uOSF6ntRW+xw==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:Zb72oRlQ6p0=,iv:wq6v1s7X9yspkhJbxyK/825PSNTiYaBNruCODoi6z7k=,tag:YjNwWznnRuWKKKj3jN4dOg==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:GA==,iv:xemyBlQqJZv8a6xgRBazm6uOMZhA6gfMMIALB38LAtA=,tag:mHLCBsOaZGLCw/qk/MbyIw==,type:int]
                                                - ENC[AES256_GCM,data:PQ==,iv:f8WYXrIgpYdzZx518TXK4I3B7WNLVz8ZFsrC/+sSTDM=,tag:bdyhHkg9Dt6J7CPM0m9/Ig==,type:int]
                                            type: ENC[AES256_GCM,data:fGs=,iv:YBB+OXOB1fIILhAUYhFmw8HtYJEo/ys0jo/0e8VwqGQ=,tag:ANiNpdXXu4xnNZ2ug6nX6g==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:SgkQ,iv:80Pn8NXiQAbmQN1R0nPHuZBnvZPAnW4GvgHi9N6zO7E=,tag:tWYLpvJmLXowaD9ubzpq1A==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:F+7Z,iv:pjIHw9ANk1Aur0/v84GonI5sfM4MXigEuTKvKLLQM/Y=,tag:gAr8P0f3Lr1F3drjPllINA==,type:str]
                                          type: ENC[AES256_GCM,data:5sO+sQ0=,iv:Os7o3YWMcqWg7p9q5rWGo8VeVwBCDKw5NTuOWFwnGjk=,tag:qZtJqo1/fYTmyxwlmOVFPQ==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:6nUUxXKwrcBl1w==,iv:RcVoE6YooUnL3uyFuGBpqJTgUkNjUd9EeTWV9ThQxeE=,tag:/1hueLnGvEpg0yo100d2cw==,type:str]
                                        type: ENC[AES256_GCM,data:t4KPzLg3LUg=,iv:Fsys12bY8ERlYGf/i1pVtZAW2yUdowjgjYQdqmXd9t4=,tag:7KYIU79nx+cOAuBMrokBxA==,type:str]
                                        uid: ENC[AES256_GCM,data:/NPZyTSHKDs=,iv:ck8cAW+bBTQDG8gv1uVRZFFwk+zwKMICmaXlduV6R/I=,tag:4puLnFCtIatj7kgakKGlYg==,type:str]
                                    expression: ENC[AES256_GCM,data:JzW3EJk=,iv:+NeiLWF6wR9GwEMXfhPANQaMHl5I8mvQ8zkGXa2Y6fk=,tag:qaoHbjbv5PHKwbDfRUb0BQ==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:3z8RkA==,iv:IpoNY8k7KRqwIi3/ztrxu5tj94Px8Ko+3wbzEhmiMwc=,tag:FjMx1wzLzSUkVNjOQntSmQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:SvCo/pQ=,iv:sM9h3ecNsZU+LbaFGoXYH0cTdvCwVPF01JqLJ/Dgxxk=,tag:t0w9wvEu5BoYdokU+RG+XQ==,type:int]
                                    reducer: ENC[AES256_GCM,data:3H5Jyg==,iv:EKz9+ut6P5O+toJOQOKQQ8Toft0A1oVCLFJHrg2VYl4=,tag:inq1g+Oe7SYfkq2rxb1uDg==,type:str]
                                    refId: ENC[AES256_GCM,data:Cw==,iv:HfBakE+wvXXlqx6PCruDEMvTXhs8cDcRb4eKr2umMls=,tag:/2/zQ1V5rInOASaVDa/7eA==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:kHBMUoSiRDsE,iv:2JcDhaE4dw0SxplfAk6ZY6VqXvW+t2P5qTrYVkIJboY=,tag:K+wwgnRhUXgrdU8iqY64qg==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:fQ==,iv:sqo8Z6zOLfi1rE5dk/LZM4uqp/j4R5sDHMTr4heV5HA=,tag:aBfT63bexS39+HLUM4B/Zg==,type:int]
                                    type: ENC[AES256_GCM,data:b480nsuH,iv:UXXf+hA9OIbE44jyA4ooEcJuvqAwl4eADmbqS7e7LB0=,tag:KdZHGzHIhkIuZx+JLk21Pw==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Matrix Database rolled over but synapse crashed
                            - uid: d16dc343-31d9-466a-bdc1-c2466b0bc18f
                              title: Unusual synapse logging
                              condition: Thresh
                              isPaused: true
                              data:
                                - refId: ENC[AES256_GCM,data:uevdpwY=,iv:89knhthRmqWe6DhMN+M2PP3VeG7Ot1Me5rJR1A4+4Kw=,tag:GKqUx7hAZWhJSqsL0oSrhQ==,type:str]
                                  queryType: ENC[AES256_GCM,data:SiDtZto=,iv:BsrCzPJUHk7ZXfKfjBx4pB4pY5YL6DIEcO5m3wW32vE=,tag:G99vBvmc5PvwrNv+YeS4+A==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:abF+,iv:+aJmZS+hdRtE9PuhzO0BXZETvUnnx7esyDYD7CV15X4=,tag:37/XcqtlItjlb8JtOIusww==,type:int]
                                    to: ENC[AES256_GCM,data:Zw==,iv:IW2UbMyJ0wc6zxCnKL5jDwlIr949H1AVJl1L1Va9LfU=,tag:uhky0sr1vf84EAEJi6KtRA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:MA89Pg==,iv:MhQzYxJzFuJ/oOyFcxXe1SNbaQrOzfu8rrnHTO7jmFo=,tag:PH8JzSjBrQOsoZ0sABjkDA==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:AOUjOg==,iv:+c7oQj+ZIBoirmfZPO/DRUdrxhqAjKbIxFvk6PVukU4=,tag:olU3IPgKqWFEhVPSm5oVcQ==,type:str]
                                        uid: ENC[AES256_GCM,data:Rdf4Rg==,iv:9S8fuxLLuO+3n8YY3tHrv8O44Xbgv765kooGy2nsb2A=,tag:Vs64/Yi0xs186v7C76HPVQ==,type:str]
                                    editorMode: ENC[AES256_GCM,data:aCcMEJdofw==,iv:poNBOyDslOOf24UP3KI7PodlYIuEL4yu1al7eRlBoF8=,tag:WwuhT8adH0z+WdJbt9Lueg==,type:str]
                                    expr: ENC[AES256_GCM,data:Gw5/PmvTvHmU4b+wjWwM7nA/DAWaDx3z67vl9kURy1dgrgTpIoNlmr0oIcSpo+qVjXWh0pir/HkfrqDzBqpgAyFIFmn7YHJ9ookJe5wSm9GpbCKOgQWoZ6astQxYBhJK3GGP2YTlWXASyAQEcd2cPowZiJQ/IdqqJufoLPhY5UOYpEqKZOLAsCt/Pf+EYiaLl1GKM7tvUWbnbjGiKedp29YnHPtvvhiGybLiahA=,iv:uAhaPzfI3cqHHF6AIt9EYHJUgMdcpV9wH/isZGUG9E4=,tag:ZCXhprhvsvNYEDLwkALfRA==,type:str]
                                    hide: ENC[AES256_GCM,data:rcd0X0Q=,iv:sKO6cE0oh9FpI+8PBU64vTxbHO8KaxXsrfzByf5t/ZE=,tag:lN0LZUvQOXfoRPLqOoX3wg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:5aaK1Q==,iv:WnnVc1QLX0j6uRvSpcnaxBmPNjiJ4L+hJprSZ/HlXuM=,tag:7Mf6QeH3IhFzLBWYiJ8I6Q==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:EfUp+8w=,iv:M3uD58RZ5UOYipWJ184/97UJJ87MPVzCF067N31QrPE=,tag:x9Zrr2uejcJOxiq57zvHXg==,type:int]
                                    queryType: ENC[AES256_GCM,data:SorScaE=,iv:Xvhaynxdh3xFk0QC2ooUirPZDg6CBbsKeM37lUct07w=,tag:au3DHEwvXytEfreTHCavtQ==,type:str]
                                    range: ENC[AES256_GCM,data:IWLTzQ==,iv:A59mETPV5E1AQ8b7JpyB5b7/KIk/qMzAAEif4/UK748=,tag:dPZhIpaCN+gK59h+Dn51Jw==,type:bool]
                                    refId: ENC[AES256_GCM,data:IG5tajg=,iv:VNwuPzZBEul1dwJymP6jSeaJiQJKqLIBbxymQtPIgEs=,tag:LQJDGlvAdoW6kIuZGR7oVA==,type:str]
                                - refId: ENC[AES256_GCM,data:lJNy0OUG,iv:BmTnhnPxXqV9JBRqPzPb7ZtLveaq5A8+6+E2VkYAYPY=,tag:LeoUic5T8XIQg+n+Jsh8Eg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:D74W,iv:w0yR67kERe2Bh03A7ZMW6EDFfnVl92C0v6NGVHgKoYM=,tag:NN2ABU3i74vl/0LcN0rlZw==,type:int]
                                    to: ENC[AES256_GCM,data:MA==,iv:48KFHmJpeZSm9xyOEXaiJksBlGpaAJkgVxOoNApA1Y8=,tag:WxLducEnOFzNZ6sVUwf5Ig==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:MkfPhAaxN8A=,iv:JJjhw14hXArgwdcO59xykjWTrwkFp91hwjN3osd4lQM=,tag:mI79kgc38apLm5pyg46loQ==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:0mc=,iv:0Wn9tUbvt087n7rupd8omTR2Xggnm9dbDp5tVzaeJ1A=,tag:sUrHwEEH3au13e5MD+KKzg==,type:int]
                                            type: ENC[AES256_GCM,data:cQs=,iv:SPqV7C7Rm9Ky+LYSXL7vEpka5ahj6G/QBN/ti1odFfQ=,tag:Sxehj7DRsGlFdjDVuiMTvQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:RCc6,iv:AT8vlHaczWQclB686vbq9wTZC2KHTfSZi5SgLPAFHXQ=,tag:11ovYCmXHRrGsC0oKqk6Hg==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:Dw==,iv:y6EvWHvsmB4GezW87ShzcrSkCy2KA3N7EhuA+aPBgow=,tag:m1g6cGMfCOl1o98k+/3sMw==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:luKZPA==,iv:WD8omPS9+ZOfdy184oMABUr6/wbc9GEOfSKwrYG2NV0=,tag:kKdQuJqKAgxpcbKSAvgnfw==,type:str]
                                          type: ENC[AES256_GCM,data:QmQ3K8U=,iv:PI0Vm75izqbmVUoe3tjjlQVHLtlVCKfGdp5NVRIm/VU=,tag:+yyf9LwLPk6ngjBMhPSm7w==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:pEPXYsM8FyM=,iv:T9zCxqHJa9rs/H0EJUchULMukdBPbIavdU7puxMqy4I=,tag:+zTKg6VJOctNXc+u2IWGbQ==,type:str]
                                        uid: ENC[AES256_GCM,data:dXN5J7rQrO0=,iv:bO/xwfk6wAmN2dvdIKQZGqzxyRvBBhswFajbGHJOUMA=,tag:sUCujSLtEpx6FGmlyaf5yg==,type:str]
                                    expression: ENC[AES256_GCM,data:Fw==,iv:jVa0wpzxnD9DE6VSYHKElJ77AQZtyuwzlGmA8dhNCzs=,tag:FGQc+pgVxUy+UeLuoTsC3w==,type:str]
                                    hide: ENC[AES256_GCM,data:MZ7iKYs=,iv:q7d1wc0piHjYUVAhgR6aO/D9U3iNA7SX2z5rd7Kpwqo=,tag:RrdNWccR0RmcEI4i7KmN/g==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:MJy5dA==,iv:XAo4lKYk+B+MZnml4EVMCcRRd/W43KeiTxoXUE/P7yM=,tag:BvX2DxAqX/azSG166HGxBA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:lQfYQ7c=,iv:89CIz1Cx0Bl29z/L5Po/b4eqUMleat7Mv+s13o6A0ik=,tag:SHk7vXLnStPkbRkxekapBw==,type:int]
                                    refId: ENC[AES256_GCM,data:HkQwbnB+,iv:GQqOuXL1ycpZGsYAE1FPP+8qsXqSKHOS3Roq1fQEmvs=,tag:3VZoxbxjd8tamzVUxjf2Lg==,type:str]
                                    type: ENC[AES256_GCM,data:0CGuo9OXMp46,iv:HRqFKOS2EsbQDjgFiK3/aPDDXKwZWQGQ64IXOtzDxiU=,tag:VMoUl3alMckRXeM/mn3Jzw==,type:str]
                                - refId: ENC[AES256_GCM,data:TQ==,iv:x+3SXoO9tSOJ6hNoC309O9IIYWNjhaEyCdYau3A8BLo=,tag:yigFI1zA1jpKtK1ZSd6m3g==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:PlNF,iv:X97voZz+dUNpbo0b9cPQfe+R68vxvfe/RZBjgJ74NFU=,tag:XquchvIbNXHs9+Kfz1j+Tw==,type:int]
                                    to: ENC[AES256_GCM,data:8Q==,iv:gafvhJjwarQE1ofHxYZE/ZSPQmneubWNYvY8E6TjxMw=,tag:VRMp+feUE4jdMfMSESVP5A==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:j7OA26fNsd8=,iv:iCjPa+9wsJ54pfJfyLQtkOWiUMIu5B2fKkCToBhXkjw=,tag:SXI52kKqO6iHhjgrtZJIqA==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:YA==,iv:hrRhtzvrX/v9D+GQSYOniFbqzwaCnVguGJxdPca2QYg=,tag:S6tMCafiDFcRnmM3yg0zJQ==,type:int]
                                                - ENC[AES256_GCM,data:Kg==,iv:53uD2IHs6PQtme3EJ59L6dcf3DMSQI6XzGHoz7F0A7A=,tag:DbR9en0H+EfPcL0cxbEviw==,type:int]
                                            type: ENC[AES256_GCM,data:sdU=,iv:JNoPvbtinhxwRmljKD5Ck4lPRVICatVpVEBAmXMCHoo=,tag:1GlFbPGs5QUCeBCCWQBmxA==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:E7YI,iv:wqSoKFv2b6QfVJK3x/5I+c83zPXwMFZlF55Vux13NqE=,tag:KWZm9HYur2RDLf6r1D0oIw==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:2tNT,iv:ArDLMX1yqpcO5zHMDjwZvjhy8NlOQlkbdAQwRpya2c4=,tag:cnN/gnZYsC0fPH7HGnPOwQ==,type:str]
                                          type: ENC[AES256_GCM,data:4cJxhRE=,iv:E1iswiId75wgRxAaiiSE3KF7HHQmMveFt9xVVMSXzLQ=,tag:m6F/lJZ4EmtxsEwU6kIkGA==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:unupTwIXtIzLRw==,iv:m54WxjX+omV1cnVZLyRoGVHGTgpP7NGi420ORYd3IXQ=,tag:0VwYgZjXIIYrKALbW64SUQ==,type:str]
                                        type: ENC[AES256_GCM,data:g81pLLBeTMM=,iv:yGZcPp58J8FXXAMeB1lIyp2IGl7nv04SQwJCLVjKfs0=,tag:aCdJP802GDwffcCVfFVyAg==,type:str]
                                        uid: ENC[AES256_GCM,data:jvJrpnPuNtE=,iv:rwoiKlrCERdHMizLWnCi/G8IXCOcBLXSZUZW02oQGiQ=,tag:GZbC3b4JCNT+iowsUV4m/Q==,type:str]
                                    expression: ENC[AES256_GCM,data:7BWSDWk=,iv:fwKJcQ0UTrQ8JlCnuWo48UuGvSf7eYIbcwf7hOeSPTk=,tag:zLqmZkPcIO4r24GkVEPPGQ==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:uCyBSQ==,iv:YxeLQfcUthETGz/f3h/r7aBzlh7VhJYmlncXk7vaLiM=,tag:iga7sJtq1EC0xZmd17DfeQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:GAO2R0I=,iv:1HPn8MMiu/JRBOhJBD1A7XkrrOVncirPfSG8xyen7+I=,tag:R5Q2KKI+R5WEMfXEvODE0w==,type:int]
                                    reducer: ENC[AES256_GCM,data:KbSWkQ==,iv:h96ndgBDZ/9/al50TLaUYt/nC3WvF/gS3XjVGQIYju0=,tag:HvRZYLI9Zelv+UUaVuJgcA==,type:str]
                                    refId: ENC[AES256_GCM,data:rg==,iv:YOvzOcUPb+yA8WJq+USl7fBlCjr9RHO3+16rBvzR9FY=,tag:lRi2OIBTBED8x951cmluQQ==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:DDFJ2+p75V6N,iv:ksEk3yyeeNn2SifT80n9gQiTvkaKc/OCGE+Jl070TOA=,tag:OmJ+MStAIkfBskKGehDyTA==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:qg==,iv:mHhVcna59BCe13DpgMQS65CjK7VMHnjNWVd1ZErp9Sk=,tag:koMXW8IjTL8P4bTToyzVHg==,type:int]
                                    type: ENC[AES256_GCM,data:rIOe1Vmx,iv:RwucIlZmT6ERUD263MY8HO+f7ir0xsU8tNYxJNeg3tw=,tag:M0qBMeFuFRlJAmB9wszyKQ==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 2m
                              annotations:
                                summary: Unusual logging for synapse.
                contactpoints.yaml:
                    apiVersion: 1
                    contactPoints:
                        - orgId: 1
                          name: MidnightThoughts Ops
                          receivers:
                            - uid: "1"
                              name: MidnightThoughts Ops
                              type: email
                              sendReminder: true
                              frequency: 1m
                              settings:
                                addresses: ops@nordgedanken.dev;mtrnord@nordgedanken.dev;mtrnord1@gmail.com
                        - orgId: 1
                          name: PagerDuty
                          receivers:
                            - uid: adz30e8814wshd
                              type: pagerduty
                              settings:
                                integrationKey: ENC[AES256_GCM,data:FmvQ0DUky6VXoARHyQKFcQ0zRmKS7G1DqBuAl2VR7ng=,iv:ywiiSEN8jjamZ+9NFsjVVJTtJXS/1q3Ib0HwxzF5SPc=,tag:RjmcYfmocMhyIzhJItDWKw==,type:str]
                              disableResolveMessage: false
                        - orgId: 1
                          name: PagerDuty Draupnir4All
                          receivers:
                            - uid: 3
                              type: pagerduty
                              settings:
                                integrationKey: ENC[AES256_GCM,data:BNIeqWcoHaSrk5H9fnCGvQXlDB0u9PBCWjfYxycwW5M=,iv:kB1IKJExfOe4gYfmIh0K5uDsovaB+QDYRCSFfqg1DJs=,tag:jmPvFpsC3yz+cBrWRaIaBg==,type:str]
                              disableResolveMessage: false
                policies.yaml:
                    apiVersion: 1
                    policies:
                        - orgId: 1
                          receiver: PagerDuty
                          group_by:
                            - grafana_folder
                            - alertname
                          routes:
                            - receiver: PagerDuty
                              matchers:
                                - service_id != "draupnir4all"
                            - receiver: PagerDuty Draupnir4All
                              matchers:
                                - service_id = "draupnir4all"
                            - receiver: MidnightThoughts Ops
            plugins:
                - grafana-piechart-panel
                - grafana-worldmap-panel
                #- https://grafana.com/api/plugins/parseable-parseable-datasource/versions/1.0.2/download;parseable-parseable-datasource
                - isovalent-hubble-datasource
                - isovalent-hubbleprocessancestry-panel
                - chaosmeshorg-datasource
            smtp:
                existingSecret: smtp-auth-secret
            extraSecretMounts:
                - name: auth-generic-oauth-secret-mount
                  secretName: auth-generic-oauth-secret
                  defaultMode: 288
                  mountPath: /etc/secrets/auth_generic_oauth
                  readOnly: true
                  # - name: parseable-secret-mount
                  #   secretName: parseable-secret
                  #   defaultMode: 288
                  #   mountPath: /etc/secrets/parseable
                  #   readOnly: true
            defaultDashboardsTimezone: Europe/Berlin
            dashboardProviders:
                dashboardproviders.yaml:
                    apiVersion: 1
                    providers:
                        - name: default
                          orgId: 1
                          folder: ""
                          type: file
                          disableDeletion: false
                          editable: true
                          options:
                            path: /var/lib/grafana/dashboards/default
                        - name: monitoring
                          orgId: 1
                          folder: Monitoring
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/monitoring
                        - name: zammad
                          orgId: 1
                          folder: Zammad
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/zammad
                        - name: matrix
                          orgId: 1
                          folder: Matrix
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/matrix
                        - name: nats
                          orgId: 1
                          folder: Nats
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/nats
            datasources:
                datasources.yaml:
                    apiVersion: 1
                    datasources:
                        - name: Prometheus
                          type: prometheus
                          uid: prometheus
                          url: http://vmsingle-vm-victoria-metrics-k8s-stack.monitoring.svc:8429/
                          access: proxy
                        # - name: Parseable
                        #   type: parseable-parseable-datasource
                        #   url: http://parseable.parseable.svc.cluster.local
                        #   access: proxy
                        #   isDefault: false
                        #   basicAuth: true
                        #   basicAuthUser: MTRNord
                        #   secureJsonData:
                        #     basicAuthPassword: $__file{/etc/secrets/parseable/password}
                        - name: ChaosMesh
                          type: chaosmeshorg-datasource
                          url: http://chaos-dashboard.chaosmesh.svc.cluster.local:2333
                          access: proxy
                          isDefault: false
                        - name: Tempo
                          type: tempo
                          uid: tempo
                          access: proxy
                          url: http://tempo.monitoring.svc.cluster.local:3100
                          isDefault: false
                          jsonData:
                            httpMethod: GET
                            serviceMap:
                                datasourceUid: prometheus
                            lokiSearch:
                                datasourceUid: loki
                        - name: Hubble
                          type: isovalent-hubble-datasource
                          uid: hubble
                          access: proxy
                          url: http://hubble-relay.kube-system.svc.cluster.local:80
                          isDefault: false
                          jsonData:
                            serviceMap:
                                datasourceUid: prometheus
                            tempoDatasourceUid: tempo
                            prometheusDatasourceUid: prometheus
                        - name: ES - Chat Sessions
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-chat_sessions
                          jsonData:
                            index: zammad_production_chat_session
                            timeField: created_at
                        - name: ES - CTI Log
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-cti_log
                          jsonData:
                            index: zammad_production_cti_log
                            timeField: start_at
                        - name: ES - Ticket Articles
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-ticket_articles
                          jsonData:
                            index: zammad_production_ticket
                            timeField: article.created_at
                        - name: ES - Tickets by closed_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-closed_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: close_at
                        - name: ES - Tickets by created_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-created_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: created_at
                        - name: ES - Tickets by first_response_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-first_response_at
                          jsonData:
                            index: zammad_production_ticket
                            timeField: first_response_at
            dashboards:
                default:
                    nodeexporter:
                        gnetId: 1860
                        revision: 22
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                monitoring:
                    forgejo:
                        gnetId: 17802
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-cluster:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/cluster.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-control-plane:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/control-plane.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-logs:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/logs.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                            - name: DS_LOKI
                              value: loki
                    asterisk:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/asterisk.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    traefik:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/traefik.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    postgres-dashboard:
                        url: https://raw.githubusercontent.com/prometheus-community/postgres_exporter/master/postgres_mixin/dashboards/postgres-overview.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    minio-dashboard:
                        url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-dashboard.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                              #minio-bucket:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-bucket.json
                              #minio-replication:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-replication.json
                zammad:
                    ticket_statistics:
                        gnetId: 14222
                        revision: 2
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    chat_sessions_statistics:
                        gnetId: 14224
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    cti_log_statistics:
                        gnetId: 14223
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                matrix:
                    synapse-dashboard:
                        #url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/synapse.json
                        url: https://raw.githubusercontent.com/element-hq/synapse/develop/contrib/grafana/synapse.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    draupnir4all:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/draupnir4all.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    matrix-media-repo-dashboard:
                        url: https://raw.githubusercontent.com/t2bot/matrix-media-repo/main/docs/grafana.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
            ingress:
                enabled: true
                annotations:
                    cert-manager.io/cluster-issuer: letsencrypt-dns
                    external-dns.alpha.kubernetes.io/hostname: grafana.midnightthoughts.space
                hosts:
                    - grafana.midnightthoughts.space
                tls:
                    - secretName: grafana.midnightthoughts.space
                      hosts:
                        - grafana.midnightthoughts.space
            grafana.ini:
                server:
                    root_url: https://grafana.midnightthoughts.space
                smtp:
                    enabled: true
                    host: smtp.fastmail.com:465
                    from_address: ops@nordgedanken.dev
                paths:
                    data: ENC[AES256_GCM,data:ODvhgg5h8SBlBNhIoUgu0wI=,iv:VQSG7Gu+ZsTgIjlnBW5rK71NBTyWG2KK6FR8itP4dwY=,tag:71oNAZGqNDSeg3GnGknAFw==,type:str]
                    logs: /var/log/grafana
                    plugins: /var/lib/grafana/plugins
                    provisioning: /etc/grafana/provisioning
                analytics:
                    check_for_updates: true
                log:
                    mode: console
                grafana_net:
                    url: https://grafana.net
                auth:
                    signout_redirect_url: https://auth.midnightthoughts.space/application/o/grafana/end-session/
                    oauth_auto_login: true
                auth.generic_oauth:
                    name: authentik
                    enabled: true
                    client_id: ENC[AES256_GCM,data:ruOBFEdX3WYK07A+VtTm3D3uCzV+7aogAAX0V98K4knZGHWDJpvJDY7U6yFPwE5cQ2U=,iv:EQNWqR/1qhNORwqwBukiQTOy8UZ1YytP9YgQEfMmY7M=,tag:W8tszKFkJAlUrSXRuVh15Q==,type:str]
                    client_secret: ENC[AES256_GCM,data:pVfilR+n5dguD783191sz0wHzOjLdsK+YY96F3cwwjB0Wyf6qS/qPlq8N8Iyqhw3N1GIz31H,iv:Ho0/AQPAJTsPGn6K2aayoKz0VYK5BE7yA/LlQeOMfIg=,tag:qb/4th3OYdTEglTaodNtUA==,type:str]
                    scopes: openid email profile
                    auth_url: https://auth.midnightthoughts.space/application/o/authorize/
                    token_url: https://auth.midnightthoughts.space/application/o/token/
                    api_url: https://auth.midnightthoughts.space/application/o/userinfo/
                    role_attribute_path: contains(groups, 'Grafana Admins') && 'Admin' || contains(groups, 'Grafana Editors') && 'Editor' || 'Viewer'
            imageRenderer:
                enabled: true
        kubeProxy:
            enabled: false
    postRenderers:
        - kustomize:
            patches:
                - target:
                    # Ignore these objects from Flux diff as they are mutated from chart hooks
                    kind: (ValidatingWebhookConfiguration|MutatingWebhookConfiguration)
                    name: kube-prometheus-stack-admission
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
                - target:
                    # Ignore these objects from Flux diff as they are mutated at apply time but not at dry-run time
                    kind: PrometheusRule
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBb0pQRnRUNklsZS9IZ2lm
            dzlpTWxrZnVNT3J6ODJoUk9pSkZSQXFpTWdZCmdLeDJzNDUwWExFWFllaUFZYlpt
            YmZRRVIreE5WcFVBYkYwZmJyUGtqRlUKLS0tIDlMRjR4NXBhUFdoTkFTU1RsQzFR
            KzF2TVI0aEFXQVVzdVJvL3pNOFB1eG8KA0tjNQJu7wQcAfm4oGa+dA/5aeWcR+jz
            IIENUJU8ttdVdfPpUF8NLTUe7ldkBDKhQlUMmU2dpq+s+5y0QawHKw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-09-26T18:56:58Z"
    mac: ENC[AES256_GCM,data:PmsxleLK34RJAxoeknDsRrhsSgu3I79J/gAiWnkapI3wk/mAZs1BUSbkPS8AZhietCf3mZB3LoHNGFQuxauQ00rKX+7586m8YeviNJJCSCXglyK3x0nhENNQ4Dvikg1igyobGq5KrdlgX4kUL0peAMToaOT1mfrF+LXWtO2F8UI=,iv:Qy7ML/qigG/bCw3Y5tbd9yOxCm3ZLjZi1KJ5AySnJL4=,tag:CSEKzb7eIra1Cd8U9wZrJw==,type:str]
    pgp: []
    encrypted_regex: ^(admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.8.1
