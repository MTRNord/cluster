apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: vm
    namespace: monitoring
spec:
    interval: 5m
    chart:
        spec:
            version: 0.20.1
            chart: victoria-metrics-k8s-stack
            sourceRef:
                kind: HelmRepository
                name: vm
            interval: 60m
    install:
        crds: CreateReplace
    upgrade:
        crds: CreateReplace
        # Force recreation due to Helm not properly patching Deployment with e.g. added port,
        # causing spurious drift detection
        force: true
    # https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/values.yaml
    values:
        vmsingle:
            spec:
                extraArgs:
                    search.maxSeries: "3000000"
        victoria-metrics-operator:
            operator:
                disable_prometheus_converter: false
        grafana:
            adminPassword: ENC[AES256_GCM,data:qdHHDmuhqTgdMTc4Fol4LrdM4SrxOI/t2LVLyOeifHCjShK9P23jJK+r7ccAX+DHA434X0dfilKjg2BVEMhnXA==,iv:fVRSo0WlahEhtQi2RQkbBg/8S56Lx/Zi5w6q4nik8OE=,tag:1ffznOrhsWomvgR0MgIS/g==,type:str]
            alerting:
                rules.yaml:
                    apiVersion: 1
                    groups:
                        - orgId: 1
                          name: Kube-system
                          folder: Cluster
                          interval: 1m
                          rules:
                            - uid: d2b94d3a-2483-4be4-bf2a-2fd9f9fac406
                              title: Coredns Failure
                              condition: Thresh
                              data:
                                - refId: ENC[AES256_GCM,data:01nu9RU=,iv:L9KAyGoFOpZiG2vWUQDxC7k1YOZh8jDWLL6mAAA7hmM=,tag:7NPlapSuduOvj8H+JzBD1g==,type:str]
                                  queryType: ENC[AES256_GCM,data:T81ffQ4=,iv:94bMHv0vxqA7QhlvuJRSask1wyFVmyOvr1MU3q3NiNA=,tag:x45m8mJcWhPn0CPCpKja/w==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:GNBe,iv:2M/l1z845aGZ2zFSgP5S2MwnSF5r2su+BzVGX29ShFY=,tag:4ky9ZkOFGlg50IqAEGtBqg==,type:int]
                                    to: ENC[AES256_GCM,data:xw==,iv:qytbX+LLYp9kF3W2qtLlUaBt+K+JoHisjTTmOvbqz7U=,tag:e3w0fV95yhb8NFt6glmvyg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:sb1Wgg==,iv:qEgHmkMNqXTtXVNp6Ig4ZxXnFOxR5SOFEH9mSIFlAvM=,tag:eLUMDSwBVLb7irh9el3LzQ==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:Zg+e8A==,iv:YsFAMhp2w25HmPmm4zu9WTJuD+T4VuMItN3JhZVfhwg=,tag:EHp1Fs2ogvSz30jM4KZJkA==,type:str]
                                        uid: ENC[AES256_GCM,data:d1Whjg==,iv:ganWKHfmcLOsmcncePNfseX+9E7Jgzx9yCZNXVYMyxg=,tag:GAITX1uKx2vTnFsU7Uwwug==,type:str]
                                    editorMode: ENC[AES256_GCM,data:15jzT/ub7g==,iv:gzRSje0iZidbsD0koYO5LvmXTYEJ879ReYKRJS2HrOc=,tag:t/nDUStBXgPynpdaTPH/1g==,type:str]
                                    expr: ENC[AES256_GCM,data:3LQJJTQw1+RLZtnAbggykIbiSy7+lG7cQ1xuIJeQwpuHQ7xq/zkbb6GP06PQLL2EJw9WJpb9MnB5JQjbgA9hZJdRa+JS,iv:tEe2HlBoCVivSCNwI/LwU4RmS1y3yy0eeyeGBusvu8I=,tag:QEBXxs2aMxxvMqYwIYtDLg==,type:str]
                                    hide: ENC[AES256_GCM,data:TP02y/g=,iv:1dcXk6ZlMlw+f1V1mzO3swhsLH0Y0zG7WT2t569s7Zw=,tag:PsD5IGyX7cwWFn3LVBEe1g==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:cRbjMg==,iv:CBkVjNX9Xiv/qu3RKhnz6saJqo+selWe+igpKBXzqHA=,tag:Z2yherVleSzTocxqdNFflQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:ZnArgx4=,iv:OcybEWVIsius+TsRTVP1X6eFmi3NfxHS1oiMXUYLwBE=,tag:M/KkPoOJXpEeRw1L0c5mww==,type:int]
                                    queryType: ENC[AES256_GCM,data:PUDDP2Q=,iv:Lh8WRwGVqjL7WFxdSiHqclntWmIYmeGiDU07Go440Lc=,tag:0dxtJj2dJskSZETJK3FhAA==,type:str]
                                    range: ENC[AES256_GCM,data:gE45Rw==,iv:msN6tDFvsNtVlJibo9rvzXYuhqSJeBHhYmNx7eg11q4=,tag:5Ssn+u26RfOSoB7POU+D7A==,type:bool]
                                    refId: ENC[AES256_GCM,data:swQOkw8=,iv:rpIvOJgJHwmWIPS1cGi9XuyclGkw/3149RrYsgQYGAI=,tag:KBMy9fyJ63A+PMbb22YOZw==,type:str]
                                - refId: ENC[AES256_GCM,data:a6Zdbm4E,iv:6i43r7O2jidVW7wYABfEBtLY0vltOcqpbZ5ZyvsPIqs=,tag:6KXR6ICk5z0yIyMCfsfuig==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:Zl2J,iv:3fOsja4fPXMEJR6wZ1AD1aVF1HLHloJeRskkLTWipr8=,tag:9FKZSpxHFHQe9R+sCSzl1A==,type:int]
                                    to: ENC[AES256_GCM,data:2A==,iv:nf/bQlSb7pHtTehxoIgYQN5LTVHWxH5FgV2h0/YL+Xk=,tag:j9YlTV8uONq6GVoOaSjp4w==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:SVFbvD8ZVD0=,iv:pNwpejHF1UBUOpj1jJkthLCoUlcWUHJMcuNamEGna4I=,tag:B3b63WdqppBBsOK++7Rc6Q==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:mQ==,iv:RdNZ5Nv55IKiLA5BcK3dsWB89CBRZDs0IOKFGZsI9lc=,tag:JeMrMeHrj9MHMMN0CKHofA==,type:int]
                                            type: ENC[AES256_GCM,data:qWI=,iv:PCMGlRTiQEtI6JSlFdL6LZqcPLYEVsISwEOJdFn4v7M=,tag:c9zJYPTLC4Z4LWfhylowMQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:1Lom,iv:EBmmW4hfrvfIP0dPAzvLAwqz0AwcfNXgiI60Upf/BkY=,tag:di0+Sj8plGtop5Z6mrwiDQ==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:cw==,iv:5gk4T/RxIZ4YyCZnPQz75rIT5NqJE2jrlILPoZE4BC8=,tag:CNMd9uzaAlvBZvUHEYYWXw==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:4/kYWw==,iv:AcsHLCS35G7fgVAxar/6vvsYEwkPQAfu0j0NrKFUDTc=,tag:yr+z8IYo20D3pSLlfWp6pw==,type:str]
                                          type: ENC[AES256_GCM,data:6Ye8NJw=,iv:FsxX5+dRk4r/C6IUU89OXcjrCg4MzSJYnucKWTmPOcQ=,tag:8sCl3ghypzYO5fp+6ftjSw==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:zeWYu/o26lI=,iv:VoqYerwRKI8oMGjLDQ/h2DHQ4K5ofJtvbcL8Mm4kRcA=,tag:8fCj4iH3FiW3zSXiECg8og==,type:str]
                                        uid: ENC[AES256_GCM,data:/8v+g6d727I=,iv:0TILPLcL7Hv4OKCDzg0gHafgMtCYFn4qCZX3+KmtW0I=,tag:9eve0stBFPzugQ8EqNx86w==,type:str]
                                    expression: ENC[AES256_GCM,data:uQ==,iv:pKXMdzO3YNYPBr577+zYEznSOayR2aoQLLt9riGwvxk=,tag:ncbi2LVnjqNENImw9jjKFg==,type:str]
                                    hide: ENC[AES256_GCM,data:Rad/Bdc=,iv:SyO/ah2Jr0nznYctxcVtu+SgG1yVSjY8Pe5NcfVo+IQ=,tag:otG3orWl3wqUhyTK5CAbFg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:gXWEDA==,iv:1HEP2Iq/pdRMlrMBFOElAB1M3b3pa1R9GSRd+9jYuVk=,tag:dXig8JUjwL0Dfstsjd1ZwQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:aeIj9+c=,iv:hQjQjKvXfGSCE4e0JReCQqvroMQfPKYbJv/WqWF+q48=,tag:VCXjvkwQs/QSUaAPSbU8nw==,type:int]
                                    refId: ENC[AES256_GCM,data:gH8SemkN,iv:6nFdc7zUdPUVXVRVOtUD0jeXP/s77A/al5zaAaofSBA=,tag:syExNFGuyIzM7iGx+LBsZQ==,type:str]
                                    type: ENC[AES256_GCM,data:OxpAL9wvc+Gi,iv:tgpi57UWS7TJto4XqRsX8OJBmaCKbpZTogTZBMI89GA=,tag:1uArNZTBIAU8AaXfjOIJLA==,type:str]
                                - refId: ENC[AES256_GCM,data:Ug==,iv:NJyZG8OJrtMhUTvIGFh/MksXKfql/xoVfNOEee2FVrg=,tag:/OqxJ6qAEDzmnS7MBXnm2A==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:5ExD,iv:mB++sEDvVF2XEwQ/Sxssd8wouTcfma8Pdi1nnL6sEr8=,tag:tpuZ3ht9yrRiZ0Wx9HGiig==,type:int]
                                    to: ENC[AES256_GCM,data:bA==,iv:+ojFyRxX9FxwlyaUipiiofsfRNRbsOd/o7HELozRjzg=,tag:+AEx+WOZjyOehwufqmvq5g==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:sXERjFmvmak=,iv:GLSnleiPAi5qQxngFh53HU7GyXBQG64PdrZaTIP+rfE=,tag:+yGKKXu8EeDkodMKZX1ZIQ==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:Ag==,iv:PXHbgZqZOy5E3zYpGlPsA0jCdkkuyzdyjNJIqURcwYc=,tag:GTqg2N5tfiLf5upsbWa3Cw==,type:int]
                                                - ENC[AES256_GCM,data:Zg==,iv:mqw5GvZJ62osDHRjHAXdkduI+8NpCRLo5AWC4bwrZhs=,tag:NCBViOzIq+m3GR7Pi+lpOg==,type:int]
                                            type: ENC[AES256_GCM,data:inI=,iv:QhZpuud/FC6PMqA4rcOne44yEWYO4zzbC7FLXbBn4Io=,tag:4LaWHtWpKTS07oaUN9//JA==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:k69l,iv:0p7ogH1RCjofWt/CO5nmxUbQEr0E0G1wHxva9KpGd0Q=,tag:LEKEUustLn4xwivCntP+RQ==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:Ox03,iv:u//VD9ohB9za6enTzVupqNpZdyyGOtTDajgQT41yEJc=,tag:Ttt8CdpnqtlKKDgy0OXtvQ==,type:str]
                                          type: ENC[AES256_GCM,data:4wxqPck=,iv:utug2Kh1uzuNmCjo6qjaNHSTEmngxcGZyc/KdEGd49w=,tag:VBtXiQhX3EE6vkp07glYmg==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:BNe/kFFOZ3/nKw==,iv:g5+k6sCDYOM3lxRXcA+7EMmOSTIKxkGCNkSVUTz7on4=,tag:jTBDxKZbibMzp1mIfejD5Q==,type:str]
                                        type: ENC[AES256_GCM,data:Ay2lGsH5qlw=,iv:y2AbbNlixUX3tQdSiI8OOaNRBGtZK+GiUy07XSs0q7Y=,tag:C2f1TCr2hyZcmZZzOG52Dg==,type:str]
                                        uid: ENC[AES256_GCM,data:zEY+XOfwm1o=,iv:nEz0B2ohNtBH0dRQGREQhdGaI+ZRLdLGsUHX/9ZGe9s=,tag:FJoGRz4jSUTXBkuhBXWyFA==,type:str]
                                    expression: ENC[AES256_GCM,data:h/6Zt3I=,iv:WeuQsO2pKTK5BDvdBD3NIh18KTqJKWlhPFpQf+xlLZo=,tag:VoEoh+KeQIwH8HbFI1YY9Q==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:XkSXpw==,iv:so+6B7ccMve7m6uGWVa24Wasw4IcBvdRTEFuTT42Eoc=,tag:O7qQmgd2eBUfGfPCbjkuPg==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:MhPIib4=,iv:PdagUBhmtdhVEai0xX1PM+cWBvz+yQJUV6whUF42Izw=,tag:U1Z8LqYHqaLCV1Vi/5UGgw==,type:int]
                                    reducer: ENC[AES256_GCM,data:+wXSlA==,iv:3p7fhwaqvaXjoe9REIGkpk2R6zw8xE39Wtd8aG39rv4=,tag:eN6SUyJXnMzmCpM+6+fizg==,type:str]
                                    refId: ENC[AES256_GCM,data:FQ==,iv:WZzBX37gt4n8qVDkgWNbW4CgTk0OeL42ivJSIWHybGA=,tag:8cqvIX/xvh+iEuJ0RGWG1w==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:G0r6OP3uTovy,iv:PzprwpVDNzPGX+CIY5RCkEZRts2Bmv0VffbvIl5ws2s=,tag:8Yxtsqwhf0zWSDM2XpeIlQ==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:6g==,iv:XgNgRNrpFLMxCJWglKrrvMpNj7EUY/zfAxhyzTkujpQ=,tag:R5RviDFp35C92m23bBEy8g==,type:int]
                                    type: ENC[AES256_GCM,data:H7uEvcFA,iv:h3Td059b7rlxO3Y8L9qRUhooanAs/GWTkOM8dNTB2EE=,tag:N1qwwKGrHuxCuSsHRDqvsQ==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 5m
                              annotations:
                                summary: High amount of i/o timeouts in coredns
                              isPaused: false
                        - orgId: 1
                          name: Matrix Synapse
                          folder: Matrix
                          interval: 1m
                          rules:
                            - uid: b6db960c-c0bd-4d4f-b0f1-e1f216ec81cc
                              title: DNSQueryRefusedError
                              condition: Thresh
                              data:
                                - refId: ENC[AES256_GCM,data:13XeHLc=,iv:MJZLXpS0LC6kDM8imfrtwl4Gsblcae950EBYRRetMgE=,tag:9gFzKdA/YZ8KjLjNChZWZg==,type:str]
                                  queryType: ENC[AES256_GCM,data:emp34u0=,iv:KqLxwo1O2O7iocd3YzTWLQaRSfvVM2a23vKTsyOrayo=,tag:qmsw0cVZ0KftjqJkIZu5Jw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:1/WK,iv:PkndFHmmlZ9D/r3VzF3oQAmyq/Qx4pP9x2nDrPYzFXI=,tag:Q8WAS6pliych0M0EuwPLpw==,type:int]
                                    to: ENC[AES256_GCM,data:4Q==,iv:8H/l0diHPxOzZE9r9f65gSouv5Y0Ppe1EYar10wjAvQ=,tag:HeMxjUvt+HCMhqt+DTev8Q==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:+Klccg==,iv:EPHlN6Wta6PnmkWE9nTNQp0RTdmCsX4TeJANNIYe0LA=,tag:hdmfAYz+ADPrQ7ZSE8ojqw==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:nexi7g==,iv:hLhr2xyQrHVXCKWMWfTjqZN92hlIx+mlXGvAiftK9YA=,tag:3MDtuiaa+z7rgAW5+7Vokw==,type:str]
                                        uid: ENC[AES256_GCM,data:85yLEA==,iv:sz3ifTaG37bE7ux4d1LwCUM6zVszIXwugjUzi2Ir1EE=,tag:b8nUSj2iIcK5MKpg59XiCw==,type:str]
                                    editorMode: ENC[AES256_GCM,data:AF2//3/CsQ==,iv:/ZWmIT2r7UtoQkqK5jWrDc8N/hxTgVNmgyMc4A3PCS4=,tag:DmLtYarwIhL3ohkNnmiV5w==,type:str]
                                    expr: ENC[AES256_GCM,data:w1vmCklbkXjUJ0yP88vfk7fHE17bOlEcBOM0P6q5nyvkpwvwz/QNtkDMyoOMlRh9/UqPp8bG4x2mGQj6G3i4XZnvUMY6vvZFUtQ+7o4fyMg=,iv:+P0XKF3X/ACjsOObFXdVkZZ5Ozu49YeXbj2tQ/npKms=,tag:seb9hE916V9N7h216XX0sw==,type:str]
                                    hide: ENC[AES256_GCM,data:q+xTnxw=,iv:ZCXw1A4BiQH7sP9KBj6JMSptAi+cZLGWJaxM6a8YAY0=,tag:taCAsTFq80ULvkGlYQXevg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:Xebw3g==,iv:5E/L7abzIugOZfKrrukqPv9lvc0a+PbK4jzjvopTPaU=,tag:/0VWwR8CP+elVOGT4k1lAA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:7QNZC4c=,iv:XBj5xgh8xR19HRPetg6Df1xMjoD2DJBinosATAGn0tI=,tag:Kl+k8zilnhADgD+g5laq+w==,type:int]
                                    queryType: ENC[AES256_GCM,data:JjOM9rs=,iv:q4PJp5gnNi8Qz1sSe8tnqqD12FO0PYAv37fw/G1BB9s=,tag:5eLG+/RH52TAPl/ha+SUzQ==,type:str]
                                    range: ENC[AES256_GCM,data:qV8wIg==,iv:UAMSTBxwXanAd4GagJCKsOimww5t8Tru4BFHjntdYyg=,tag:rZDsOsoz/8gwr3GBysjdZA==,type:bool]
                                    refId: ENC[AES256_GCM,data:qWsKR6M=,iv:0KJ6wbjfihobt3/tDNMbQJtEBHnO4MgAQPc3GtYy/A4=,tag:0RRujHK7/FCHdnPrUPTzMw==,type:str]
                                - refId: ENC[AES256_GCM,data:yTokVlLD,iv:le0T4vE4EosrPwKUK2mvZ2rGGp340OOublr9jWa9QvQ=,tag:HaZtl/oeRcarAAhsUwPjcw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:lbiG,iv:mPibjZULR1YZem92eyvDkTTHJ/q7kvw0oP+U9QEhQFw=,tag:+wRTipzAkJO6oP3oLdR00A==,type:int]
                                    to: ENC[AES256_GCM,data:Zg==,iv:6Ub0oSxTKo3lLxSFLR+0hXGwsRbTg0xDp03Avdn4mEA=,tag:0XJv4HPVVoedA5/6LuH5pA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:Yx5DFiXHDyQ=,iv:uDGM/QhMDPV3axbGkCMxqfVJgxyR0PcysaLKv49VUtY=,tag:3Y5w2pxp9zyoyOZ7g8OyFA==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:mw==,iv:KsBkc8a8D5Pjc/9745IrbnangktAV+Rt10YLWuruejc=,tag:M7n5ZRGnZk+4B7fXKOec8Q==,type:int]
                                            type: ENC[AES256_GCM,data:Bu8=,iv:OdjDHQVbCz02hGP9vdYJB//KpzXxTkOloEbPnvcEnys=,tag:FHtW0Pdp9T/sptVeNM1niQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:EGss,iv:hmbiuh2CRW1t0YxJI9k1WSn9vuPyN/aSlr84abvR0e0=,tag:ZkWfCXwMfd9IjBmlWWt+vw==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:JA==,iv:N7S5v0ocDswpJx15pnAHd116Le6zNekefKj5D8pW0Uk=,tag:Op4q8ULLsHqOfvtwdZ/L6g==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:ddOKyA==,iv:KANZB2BOJZ7dCJ9yM2yX0gTdP8ERhBjW/KoI4YLlSRM=,tag:oBaoBN7I6npIhOvs+lTwVw==,type:str]
                                          type: ENC[AES256_GCM,data:E29Y3FA=,iv:upBb3N3mVPgmSIX3yxpWTz9tIzpI2TrS7YfIO/T76Zc=,tag:GbGUgfKqL1tEujbCJn5MWw==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:jy7wEcr2VUQ=,iv:dabNgWPxbRXjl2zN5wzqAO0PnpqL4EJ6xyWGh27Og/Y=,tag:8xj63bWWmGpQ7SbtFq/Pfg==,type:str]
                                        uid: ENC[AES256_GCM,data:W7cUX9kwywQ=,iv:uvNY1/55ftYChJs2n0qBce5Jz2OKCW4LOYs4mxVn7Dg=,tag:8Krh06IbVzkUIx9iGo1qUw==,type:str]
                                    expression: ENC[AES256_GCM,data:/A==,iv:FDMju6BF8+hmzxriAurRTqcWI01Lse/9XkBImaNQ6r4=,tag:g0ylRPkZUUCOY0dlYDc9zA==,type:str]
                                    hide: ENC[AES256_GCM,data:VDOEf0Q=,iv:FnZp6d9iqHdIR5TmNxOAbWC0MNSGlnL/UQRD98S+K3Y=,tag:px88397I2nZaxiNfDKboUg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:VuY9Zw==,iv:exmCT2KrVKI5f+PH2NKLEqN2PlACdVnc5gd+d08GBqM=,tag:AYHAXnu6CGcNwaYTw8b8wg==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:uHkzAEY=,iv:Vi+dJ4uDhM64kb91K6iBzUMjAo6Ch+VGyDhTuTHRL9g=,tag:NVqSjJJfavZZKIpKvKnQiA==,type:int]
                                    refId: ENC[AES256_GCM,data:aJQG4JMs,iv:mKAF3w0nacUfeWqeMVEVy/SQ2/NfmAnyMZUL1eA1VKQ=,tag:zl9VHW8cREjKkpp3CXyusA==,type:str]
                                    type: ENC[AES256_GCM,data:EV1ZJcylzhKX,iv:9zcn1ceuT5/2jAhcN+h/czq383NHmgULKYDA0Zgh+7w=,tag:6CufAvlAQL357t9DcbVCLg==,type:str]
                                - refId: ENC[AES256_GCM,data:0A==,iv:Z5zMed5UtdztYxZAn8HL1zYRMCyZpNJ1AciOVAUvZ2Y=,tag:2YrhouGVylF+Gtrfga1UMA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:T2ec,iv:VoS6nzK+MASQp4biF4to10lno5HFpJSJAgpsq7zDF3E=,tag:NxgQZfv2T2qQUMMoPqMrcA==,type:int]
                                    to: ENC[AES256_GCM,data:vg==,iv:C1Ir46ed3lLK1vhp7dB8HAEF+kfgbJ7HgEY5zu+tbNc=,tag:jc6EjZIoWZ/NgL2wd2uXpA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:Hvg6Stzo6+w=,iv:9TmPIpnM0tFjlGj9R1F8q61ezjbZPEgEXyrFwo0pjqY=,tag:27uFQNqIxWiBN17hxQ8iQA==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:8g==,iv:QmAT4mQIcgNPYk/YeRqKhr3mhSyyWm6IPvVAfgij3Ks=,tag:kSnY55M4ZKEmA7Q32jKk2A==,type:int]
                                                - ENC[AES256_GCM,data:Lw==,iv:oxCLnHE0j8S++Xw6qv4WQqTkmRULL6l57Zh9cQTGVCk=,tag:NHQ5wYtbAuD2Jh77NyboaA==,type:int]
                                            type: ENC[AES256_GCM,data:cCw=,iv:L7NBFH2kihF0pv77aHN0JGvXGOD4ZiycspyrbJRhULg=,tag:8qAb4TWOYDhkYC+QmW2zNg==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:6IJs,iv:yPVubakWxC8mNm0qweyxeNp0rCLNiDzNO4anHxVmipY=,tag:YexrO3s8jJmqsgoLJhgu6g==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:lRXB,iv:D6VxQrZS5XbbXkK1Z5oII3bwJ+U3btLPXVrdNzHeKh8=,tag:dNVtx7a1k+ZGpPyJR5Jfuw==,type:str]
                                          type: ENC[AES256_GCM,data:Uf0nDKc=,iv:qbCde43QA7SYh7nk/BOV0f/vgVbSZS/WfqV0av9PE8k=,tag:LrvqL8HA6hDH/JDIm5TLVg==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:15/FaG5ec0KV8A==,iv:IEtRG2FEOdm2myMtSfXF7rmLDRsjcRH8Oki4hZ9pPq0=,tag:gTgbAaZyCPfJasjFCkG5kQ==,type:str]
                                        type: ENC[AES256_GCM,data:RkK4rvme5/A=,iv:B0uoKG90GgcAqF2Cux7iuA9mutVC5nb1n2gSoTDFjSE=,tag:G18yPOucNwRD6Ezh+Q46pg==,type:str]
                                        uid: ENC[AES256_GCM,data:LsTJ0HMWoEE=,iv:aDANZfPepeAPXPRGkUQe667eiZlOjcqyHFWXlShX8s8=,tag:gWfgIjysEIjIk3cUCygaDA==,type:str]
                                    expression: ENC[AES256_GCM,data:9Oayg2k=,iv:cePyIywyQ7n8wZQUtv9lN//w4NXOsvb2C1k8sW1O20A=,tag:4Vkyd8YsQViOrrvY+EJUhA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:sD6iLA==,iv:dHOiu15mVkF/khyxjPiH7mxdomPxGDllVhZdx7f15ss=,tag:VWMwGj3wF0StFdK55wDPnw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:lYrG+Ws=,iv:/TAxOPFAeu+hXaGDq4pA4TTKmwhwvpuu2o3UJPWJVjg=,tag:UmUriGULFEf7iPBlEgLpEQ==,type:int]
                                    reducer: ENC[AES256_GCM,data:2r42kw==,iv:iqe2TKiWg8VpK7zcVWeJIsXn7CaYUhxV3+NkctBoswU=,tag:MdwVz3bx50J3WrX4+4qvfw==,type:str]
                                    refId: ENC[AES256_GCM,data:SQ==,iv:aUzRPcGOR0Fo1Fa77Tt3QSjseQ3N+qqiy2IzXtPMZnA=,tag:2ekWrYm32KpVi0hHKWa+IA==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:e+j2xdn/SV/g,iv:lOwgNwWQz/XmwjhVqVMrXatqNahCGGiENvA5RLFDBjg=,tag:sr6DBNK9pH2oZTH4uqTCsw==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:Jw==,iv:TSFkJ4/zM02hFM04j845e8m+KN3ZDFvuYExbdl78pcs=,tag:wiUqwtfaauIzg7Lm2B5BuA==,type:int]
                                    type: ENC[AES256_GCM,data:jiah/JRv,iv:Zr90vOzkuJSYWcxzP5yGw1qmlgDHRs5m7nQU6vl+YjU=,tag:ZlGuCDJeaYtL3TIM1ZUQng==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 5m
                              annotations:
                                summary: Matrix Synapse DNS Errors are higher than usual
                              isPaused: false
                            - uid: de30a1da-84da-45f4-a4a5-d641dbd92e6c
                              title: psycopg2.errors.ReadOnlySqlTransaction
                              condition: Thresh
                              data:
                                - refId: ENC[AES256_GCM,data:4L5eUo8=,iv:Rvq/wgkZq9aCpRLNgCqMG5ZRo2lUcVBLCY1OWW4+pi4=,tag:3ELiAiXuyJ/dzsCIAlQLPQ==,type:str]
                                  queryType: ENC[AES256_GCM,data:eVXRzqQ=,iv:MKRP85CNNecE9Z1/8RdtsyvcMtW5yIoMZaOgYX2WNOs=,tag:n0VUlKpYQghGHDJPcgiylA==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:27Yf,iv:6XbdDCwhTUae8n5HpCAtArGiWIahQq9vpjBo/kW7c+w=,tag:yGAYUaYvX6322/HJKAR8VQ==,type:int]
                                    to: ENC[AES256_GCM,data:vQ==,iv:rCayTo7d9A1UKxs9QF1CwfGkFpklWlRyaJYZseGtlc0=,tag:3hC/U7SjxclvqT4LZV9muA==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:CmbZgg==,iv:pirlmxa38FDADVePY0CVB5Fjkzg8TE6NcEG5nDuEcD8=,tag:YyvTuVwgFAfTovcuFkIK0g==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:3GXMww==,iv:dAATh43fEbCMlIMDOkmvdP1c/45PDMH5X+eC1gEGpGw=,tag:wXd1AuLrXpeWYRa7Iif//Q==,type:str]
                                        uid: ENC[AES256_GCM,data:ZnjeIw==,iv:l9PliHH0lSIijXSOHj+zehPUewgAXVm9UVzCRcCCSaQ=,tag:vtwsTElNLFqzUQXVWXCCCA==,type:str]
                                    editorMode: ENC[AES256_GCM,data:0F9T4sR9Qg==,iv:iytqIQECD5CVnKh3UfLWaz0QyCaVuUHYRb80esJjf7w=,tag:6gC/MaU2YqWVceBMMtaZdw==,type:str]
                                    expr: ENC[AES256_GCM,data:2+U9N//t/RNkLL1E9tu7Mwb6uAy6Q386EjnXMhUwdOLzCW9DIS9RaNNZHxBX/6IE+SG7uGcztIdiPWFU6nQA3OtK28xBwGrqDUb6SPwx+kFhpmUOsjKTDwSkNIjyBuSWALY=,iv:cvZLGOdYo+2KzLixJWX4+m8UVU7nucxU8VTrl4BnJ9Y=,tag:8dpXIssNo5YZWS23HkCRkg==,type:str]
                                    hide: ENC[AES256_GCM,data:zFgrwi0=,iv:OwO41nCGQ52xDbyE+R1v69YK405J3QlHP+AKI78BgSk=,tag:1ZcCcdKXtQUj34hpMGFy+A==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:3VL4MA==,iv:MhkPrDJ+SaySZ7UWjZS9OBXt1Hf6vv1XwZOZcACkbbA=,tag:HXNkCXAU1Fryf0fKVRVNig==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:Sum/82s=,iv:qKnAmMVHnnpTomko6LC+Jf53hhNKOlpjdN3duuKcVv4=,tag:pZAnoa0euKoWNue9NE44sg==,type:int]
                                    queryType: ENC[AES256_GCM,data:aE5+qQs=,iv:s23LTNJWPnLao96YVfILKvXg8Hfk7q8IjhJ5qJ7fklM=,tag:+5g2kJPlxmX9BgOGUNb3Bg==,type:str]
                                    range: ENC[AES256_GCM,data:N42Iqg==,iv:w0e2u+ENFeiLLeG7Pp+O4HeXznntgZacS5xE39ohwIM=,tag:A8LUKdQ1pEpyE17NvOtP7w==,type:bool]
                                    refId: ENC[AES256_GCM,data:L7rR+TM=,iv:T6e2f5Gu5INjoOwkpn01pnAQ7rU4yC0WVBhHc5Dni/E=,tag:44DRADl5zHLPyVU5z/FtSA==,type:str]
                                - refId: ENC[AES256_GCM,data:VG7FBOcH,iv:ISF9KiZqS+iQQYt7KctJw0ZA9Mpn33zmRUqvXORpJHw=,tag:RlWHBaqgi4pgk7RsqlT3Aw==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:v7Wc,iv:E+D4ae+ugRQRosIlbV8w2H8ZU0UUE/YTJBgYhi/oOMQ=,tag:gNsPxN0JNhValIpOmHU9HA==,type:int]
                                    to: ENC[AES256_GCM,data:DQ==,iv:YPWf2u5em27aVWiEGih83DmQ4z/z65TPnTQFHO+3Mlg=,tag:UQRSoSQIPUFOUtO+0vsGNg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:xKuCWaC+zaY=,iv:cWUMOLW+GoIVnqb6NI4pVyzhmU368WJxKbQp4wdxQs0=,tag:E9rcj02o/QMxbdzMKb3ulw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:7QIE,iv:fyqvFgabmrbkRw3mO23k0H2Qwdk8UjgT6v2Uh6hEqtc=,tag:mcJWtOrF4BZPeXtq87bRLw==,type:float]
                                            type: ENC[AES256_GCM,data:ryg=,iv:c1Ntr+9yWfQcXlwIzVhgV7YUDvpKPC4A/HgSf50Nwhw=,tag:A+nQ1K5fvS8WdueouXbBIw==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:Bpkp,iv:SSKqmdo7gQLCES2AjCMoVvePe+ajY+fMeSjmV0JJRJ8=,tag:nPxJ6/KBkCON6PZhjIPqYA==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:Wg==,iv:Cu2j3f5llk+j6TRiI4RK0eVtfHcyngJ+0Iq33Y5tC84=,tag:GRH/DiLDs+pwlyg3BqB5BA==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:cqNj2Q==,iv:GA2cwJaskjnVxiq7NuSxr6wxluWTrtsGsl20VAtQisM=,tag:bpPLIdYek+CnPkgAtR4Liw==,type:str]
                                          type: ENC[AES256_GCM,data:yF2Vtd0=,iv:h7T3GND6nxyti7pALNBvGFQKjCnZslyQs+KZQy2en4M=,tag:0k/V6G2ZPkNrx0OfMmidDg==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:IsVDcvmCTrs=,iv:AIzd49gE344OjyProjB94KQr2eQJT0JwlrliEtz1PWU=,tag:DzktGNme4KD6ycGohldRhA==,type:str]
                                        uid: ENC[AES256_GCM,data:xbVVJZE5EC8=,iv:qML5EcVahM7dE1es68dvGnJSWlmCjwlf4JQuFOHTlMw=,tag:2XK1H83n/fVZBfR0vPHyLg==,type:str]
                                    expression: ENC[AES256_GCM,data:jA==,iv:+qGThV8xThyTlZvLjwc9zrOT6RCe6rTE+oJIa5EJy+Q=,tag:3eCJzgEXqYiIk/PAhLofZg==,type:str]
                                    hide: ENC[AES256_GCM,data:/qhvHX0=,iv:x8yv1DcT2Acbpf0tPYxLD881bU28x05AWQLW8qI1y8w=,tag:dMffJeZipxH2jn8BjAQNDg==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:cw5kbA==,iv:jZzJ/Wvj5jj19v5j9ZoxZgPsaG3cMilZLvTPmRmubtY=,tag:S+L8mYM7BQBgowlXFBiRGA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:MWW6pp4=,iv:EBcBJ0KIEcOzqJ8RTuL87eaFhe/7EyKrgFTMCDmeS58=,tag:g/8nFE3/VCR+MiAfyiIIVA==,type:int]
                                    refId: ENC[AES256_GCM,data:sOKIKavL,iv:wTMt/qpj/NNBQ2psvLNZci2vXNys57X25q0vUW5C5NM=,tag:OcZOqUDx+lZQREyaRfPaQg==,type:str]
                                    type: ENC[AES256_GCM,data:LMJ1haDxL/+l,iv:kQH/YS70VmIP70nuSCQMD8rRk0+NcFwKVNHKAGscmtc=,tag:oO6sX0LBafaQMddPcvpgBw==,type:str]
                                - refId: ENC[AES256_GCM,data:WA==,iv:wE+vy53LE/MFv6OqbwxoY5aG7QHHYUOYm2LYRj8gJi0=,tag:Apu3YUa1KuyZ6VRgwhbfJg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:0Ikq,iv:ASDeezL6dUzcYITzR8YNL6t3g6gVx65ftiVemNlHX7Q=,tag:8+Wd76Pc2oFkLElYyXwPGg==,type:int]
                                    to: ENC[AES256_GCM,data:Lg==,iv:bi1LdYCZk/f5l9mqU/zHhVuFZDiJJ+kq1gPXlRLDqvU=,tag:t8E0fm37TT4BWl1fTQ/6Rw==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:xg7KG+JDs/Q=,iv:4mOyA8hpvoB80az+Fb4RmzpkXra6Ar4lD4IWpliQCO8=,tag:7mMdUO9811QzF5X0YFiAlw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:Tw==,iv:3X5gMWcxkARSywiEdzHvqYOofIgzxkngoQ+Wzkz0vTY=,tag:+AkJdPmOubNCJnttTro78w==,type:int]
                                                - ENC[AES256_GCM,data:1Q==,iv:7Qg5jqBhJfLFh8CVEmYcQbjQNzFTC62mGaiYHQ2AmJ8=,tag:FonLuN5In8q4hVMnFM36Tg==,type:int]
                                            type: ENC[AES256_GCM,data:Weg=,iv:aR3CvA+BRhuv7lw3nEbSZGpfr0g5Rog7vAAtR2seBRE=,tag:Bg+ACtvAnnZeT6B0sC4ENw==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:+yUL,iv:GbbURl2Idklht3D0mMSP+GdArPMD4de8qQH+hgjDYHg=,tag:CeryB2tZktU+cIh0nfoaSw==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:PTin,iv:YAuxmdZA8P75iFflGkIMj5W+EjdBa/MokEu4Udj6Gxs=,tag:pLsUt1HFtKiHFPiub+PJdg==,type:str]
                                          type: ENC[AES256_GCM,data:QzMDWzM=,iv:uRJmRadVKNrLihJjoxhmR3uMriwYwB562WVpiaAU5po=,tag:akggxup3SXUQ42yz7y5HCg==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:pvpG+xxYD2wjUA==,iv:QCv0rTNk8woMpL8eM5oGyAM8lMdppibXg7hmx1KBAGU=,tag:3IZ+Lw1si0ojfBaSu1djNA==,type:str]
                                        type: ENC[AES256_GCM,data:vRcGCyha0TY=,iv:Wcu4DfsaRRhUmrpaBVIdmq1BPAFpl41WxBnhsV4s9kw=,tag:U6+ojeufOlTkUrRigRfquQ==,type:str]
                                        uid: ENC[AES256_GCM,data:nnvZKNmKpF8=,iv:wq9D5JuIWbs4EV5BuAN4EXd1oj622vqMpIaynLLqDRM=,tag:IZOghpx35yrDrnckgBqZGg==,type:str]
                                    expression: ENC[AES256_GCM,data:rHYphis=,iv:qgyxb4j0EDNfdDKPNpVjBp0GvU7gdlu/N1cbtDmsr7c=,tag:GoNNIi4ilT++MRyhpKkhLA==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:ugaigQ==,iv:sN8RKYVAhfFI1980l2CQIFNsN+TxZWzdP3Yq5KSVNjA=,tag:5661tGPaVRXeDiz0oX2Isw==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:yy/4OCk=,iv:nLl1cQlBqYorptgNEh2xGIAh8O8C4SoFLiJG9lwfHQk=,tag:7RsYDq2Xb8d/++UzoVu9Gg==,type:int]
                                    reducer: ENC[AES256_GCM,data:alhkQA==,iv:ssJY2nl2wqlx5uaFE6Wg7aV5U0lyJqD5n4xetp1p2Lw=,tag:Lzq1+wPxfc5zwKH4fhLczQ==,type:str]
                                    refId: ENC[AES256_GCM,data:Pw==,iv:xbK5fzDoSylXMdfSYcvRyBXRuXE6apeukTnVAFClHgQ=,tag:QEOKcKLc+YQndGMMH2KYoQ==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:BC5eX5v9WE76,iv:UJjPamRpfYRBUZf7x/Y0SiSNr1M6O4webSs5fVQID84=,tag:HSWVB00nX0f3vg/AXjCDEw==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:tw==,iv:EkEoeVwcwCntI5OyI2bsZ5t2D+nIkVLchvAFj9pgENs=,tag:xIgbIc5rjXMnXvw4RMgOpA==,type:int]
                                    type: ENC[AES256_GCM,data:L+WwBsKF,iv:eskc+QazCJ43bov/w5ZA+3jL4ytd9oIadh0xVYnXUZQ=,tag:BPUoLFhYYiCvkldSlyn4GQ==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 5m
                              annotations:
                                summary: Matrix Database rolled over but synapse crashed
                              isPaused: false
                            - uid: d16dc343-31d9-466a-bdc1-c2466b0bc18f
                              title: Unusual synapse logging
                              condition: Thresh
                              data:
                                - refId: ENC[AES256_GCM,data:hoif7SI=,iv:R7PrlOuS8MW8KcxPi+YSi2A7hdWUENMj6AlWJuZUoh8=,tag:CEooa7oKe8xWO2Nn/Jbaew==,type:str]
                                  queryType: ENC[AES256_GCM,data:LBbCxqk=,iv:mrr0WU8pGMWa0UWxTKz/oARCwANDCYP64pWq2F/aCnk=,tag:8f7WaKxr14FePNAzeHALsg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:b03b,iv:Y+vE7KVvfagYi8lczCWf6uFMgr0phDsW2KQDlfLn2Eg=,tag:mFHNk/RH3v+FMBZumuOMdw==,type:int]
                                    to: ENC[AES256_GCM,data:CA==,iv:dLSs1mtdyHpbrP9c1rIGQupxU5AL9LZ7IR0uVaLWhLs=,tag:XoLhoyofZfHBEWg64iayrg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:1cJ9Zw==,iv:url9Rb5SXO7rfECjRJfF3km3L3TfjftSjWDZ7KACwE4=,tag:+RylOUK8ODksvzPKxIjaHw==,type:str]
                                  model:
                                    datasource:
                                        type: ENC[AES256_GCM,data:aEbn7g==,iv:Eg0/us994GTxJvQdkcv5pGfEmo2WmiZbKmq/u6jd5jk=,tag:AqLvwlDp2sOZaM1VBdCm6A==,type:str]
                                        uid: ENC[AES256_GCM,data:/5rBcA==,iv:Gx+GdLM7OI0TPR2l9KYaVrdhPN4+VKw36sVO7GsfqzE=,tag:Raxk61tTUMpFDy0ZUhdcIg==,type:str]
                                    editorMode: ENC[AES256_GCM,data:hcRu7iMRLQ==,iv:1Vs/yvmYNfbyOAH48XaDoqSjvGs3SZQKXn0dx+znaq8=,tag:pZxNMaFHCmNAzbEnwQi3bw==,type:str]
                                    expr: ENC[AES256_GCM,data:laXzsjC1cOTNShsqRG3QZSlpBBACoQOKRgIo3EyAW+sQCCesNyPy3jKSADvoRJ0/iwHa83V+3nv/AY4bOctJoV3U7eY6vrqtMDK8RarKuQPnrT4ZBhoUkMD9wxcu5hssbyaDsQrcc285LnwAsy5ZNZ4kVfwrfcdqTmey/sgkxuamC+LBBWBlca6fTszhBqAG7MwOAL/j84uXvKIIBzlpCTuVFNu3hK9UUTE253o=,iv:LFtbNlKv6gKm60XpRxsmRUO1qoPRxf/yZ6+UASGP5+w=,tag:Z3JYpqg/89yLNosSwYL7uA==,type:str]
                                    hide: ENC[AES256_GCM,data:XzZ4UDU=,iv:K7aEPSjfE0I4dyM/xMhSl+LHKpeSpsT8SedxhcaTcHs=,tag:eQqrnKlOfzKgagFkJa4Tog==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:fcAFzQ==,iv:qiCi3iC88XBdEK8GDdPZoGClm67l0TpqDqyeOxpXggI=,tag:SBI9RTJJSuQ1PcmPapv4KQ==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:/YunLjw=,iv:egRJgm81BW2GwDymt+r4jIKo1WStYxQepWA22WEpPsw=,tag:fGx7FdB9K02F6lutEZ8Gsw==,type:int]
                                    queryType: ENC[AES256_GCM,data:KoEeWp8=,iv:tFBkZAa6m5562lug2RRSzLE276MEf7yTRDvGZmoppkM=,tag:iPvz4eLVTgkj50fIYPdvqw==,type:str]
                                    range: ENC[AES256_GCM,data:iiGrgQ==,iv:YpR2UlfRPyvrS9tc+dbUYe6WD3+XnS5MsWlaG2fpzaY=,tag:/BjMzTABFtBHCKnFdsDXGQ==,type:bool]
                                    refId: ENC[AES256_GCM,data:G69yAZs=,iv:CUg244Xb63Xd37lidrcFL9Uz+G6dd3iIZzU3x/K43Ok=,tag:vXg9WeFVq7q7HWsBfHuJdg==,type:str]
                                - refId: ENC[AES256_GCM,data:bGfaX7Ak,iv:EmxsQioo7gKcl+2DYVyb/MENwKGJEKe48icwT3TnV50=,tag:bZvhvNmSTCYz14xnigmW2Q==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:GtGP,iv:tYdUGjcwe+Tr+zGM9E1jNeXc6VxzYTO55Ompw71NR2A=,tag:lTRkYlKH7eOFt8KRDiH/Cw==,type:int]
                                    to: ENC[AES256_GCM,data:0A==,iv:IYdX+/CZpXFdu0e0pr/9t6MgvVaE/NUMeT1eBlkBqYc=,tag:Chpc1ecuS5CsWy1f/flPNw==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:PJWD2FdsdyY=,iv:BWkX5Zpe7OgWin1nSQXk0R6Vo6ssJSfwwq0hj192o7Q=,tag:MOGv1qV0uHi4UX1j/ebgNw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:qWQ=,iv:BqJE0qzBxZ0BNR5/T+mhMd61Mpx/eBie/xGCcReywtQ=,tag:W+yUwQaj7gRCnO7ndvM7Cg==,type:int]
                                            type: ENC[AES256_GCM,data:auE=,iv:5kqwPe8pfiWfKpDwNnCiRdwk4fbRqvNIR59x72RqCFo=,tag:w3n/gal6WGQ8N8LWnHkRnQ==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:nYoR,iv:TOo9qqyqbekXpFtHThw96G0cCmr517K0VdxOHL0GkIs=,tag:31EciFUzxmqLMcOAgyUmcw==,type:str]
                                          query:
                                            params:
                                                - ENC[AES256_GCM,data:og==,iv:cUe08SlzaOesbBTlE0dmAH2hnstOu3HH6+WXad4DHYc=,tag:SuW95VI+7rN634+/Hjruvg==,type:str]
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:lz5VIA==,iv:3wvmS1DJVfcGqnoDKIxPkgLTrjY+UJTA3lBPoC9O5ac=,tag:1af5OC7kJnzLbFjs70XOPA==,type:str]
                                          type: ENC[AES256_GCM,data:VYHioFM=,iv:PbpKoTAOu8DVfHKBtm+ZSce5IvBT7WB1lZIDILhWNC0=,tag:wvLxkVdTgHXMTPol4VD3Fw==,type:str]
                                    datasource:
                                        type: ENC[AES256_GCM,data:owRVnVnB3Fg=,iv:E5qmXwH4utb1kQWpc9xjpuWUQDnjzWaWr+nwpjVJifM=,tag:oImNxr0Ton4ncHSTf5wXHA==,type:str]
                                        uid: ENC[AES256_GCM,data:3bjQMMRDrM4=,iv:rWsizLLnUK4f6XmEc1GYxlXOiKU1qXCYHFVtjXKboVw=,tag:dwtfuA1Jm3sfzYBOrPDS4g==,type:str]
                                    expression: ENC[AES256_GCM,data:ug==,iv:zqtNqyomy8J9pNlsP/UPRZPvQyjCOvT8M+q4PhcKRdc=,tag:DBxl7Iuija6uh6xFH0Enig==,type:str]
                                    hide: ENC[AES256_GCM,data:K93cA38=,iv:iilGv6alK7X7cdzlrSGE/+PYIQZWEBUqurNzT5l+DZc=,tag:kdWikBmQftwT0zGsS5qcoA==,type:bool]
                                    intervalMs: ENC[AES256_GCM,data:iAhSqQ==,iv:t2cQapEViOdtLb2/jEVIpXp0wBcmfVlcw/pZKymiAJ0=,tag:MQw+F1DEK69fhzP94cD1sg==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:ker5Nfw=,iv:hwh6EwEX86XAikAYCA6/DF2nw1Gwx2V+50BncX1QB8s=,tag:Tjxrt9txcRFyS3Ma4SdXyQ==,type:int]
                                    refId: ENC[AES256_GCM,data:DEeqGCNp,iv:kLSxIn1T68geb6utxNUWsIrdgosjuFBUZGb4Odvqbrc=,tag:/kaVoDt908hZg5NanYR5EQ==,type:str]
                                    type: ENC[AES256_GCM,data:IuTLbmxbuOhB,iv:ljayQz0aHOFw59eAukJbWBwKW9zse67bPH78dRfaDSU=,tag:qIFl0fqEaMHhL8uE68mhgg==,type:str]
                                - refId: ENC[AES256_GCM,data:HQ==,iv:1fFy/vIe+xKu5Bkn/gTbxdj4nsJfOaqTYKhoaqK/vG8=,tag:erPrhh1IX6wbuOBCulNxbg==,type:str]
                                  relativeTimeRange:
                                    from: ENC[AES256_GCM,data:kKGk,iv:xkIcnN+napRsTS19PpBJxa+BjzmWAYQ/CTgwYXNkHLg=,tag:FDJ4uGXim1jzLVd3A4b5qA==,type:int]
                                    to: ENC[AES256_GCM,data:lg==,iv:ogepO8Jjf4EbbsUr8+Un0Wcz+Lyv+VZb5x7lFDkutnQ=,tag:6pzIUnRgr0ic1ejB004BUg==,type:int]
                                  datasourceUid: ENC[AES256_GCM,data:gjjqwS7Yl3o=,iv:2fpp0J39sjDzFcjclUVk2as1jc52lZ7m8RDwyMvF+kk=,tag:BpV9jcUiFt+cRnIOZGw2sw==,type:str]
                                  model:
                                    conditions:
                                        - evaluator:
                                            params:
                                                - ENC[AES256_GCM,data:8A==,iv:Gje1NPXMKnbncdRpDqQNqECMHr0kfhTeEw9xE5Cj6co=,tag:n5/lnet4AswJj2BA21VKzQ==,type:int]
                                                - ENC[AES256_GCM,data:6A==,iv:WEREA0eQLBJcB7wexXYmgjQq3H8CfjlHenxYExHAkGw=,tag:tF+CeYir4IKYS7cgbyYj9w==,type:int]
                                            type: ENC[AES256_GCM,data:eXU=,iv:8VGWiQFzJK4iGwkeVMaKtmwWtfdvzMfcAXzZMa1Dm8o=,tag:/oF6A2urXReqiucpmzLFdw==,type:str]
                                          operator:
                                            type: ENC[AES256_GCM,data:g51X,iv:2YLLkKCOvGRQJwXWUN0L3p2dzU39+uxVOQbZWm8nNhI=,tag:G5n3UmwG8Bdo7ItTOSb3Iw==,type:str]
                                          query:
                                            params: []
                                          reducer:
                                            params: []
                                            type: ENC[AES256_GCM,data:/Fc5,iv:ZQkNtfyjUlEuq6z12eGZzLv85LzDtLbvAPsz7eGXCi4=,tag:BlB06M+EltFsCT6FdWlbOA==,type:str]
                                          type: ENC[AES256_GCM,data:Dey6+zM=,iv:uWxJgzZz1JXxASKEm05rUVXLb1ZY90WYGTSBxFbT6GI=,tag:nvlZh3QfeiiPUd0mRUYs1Q==,type:str]
                                    datasource:
                                        name: ENC[AES256_GCM,data:3V4wEZubT0x02Q==,iv:bAWjfFY9DBurkbaYyNARSFqMv2hzRgKQ8Iw/sZmwOQE=,tag:/Ew+64Bm0N3TL180f8NX7Q==,type:str]
                                        type: ENC[AES256_GCM,data:ZNpFbRla9gU=,iv:EPQoeUV/6E085S1Om+BDjH7w1zT4wNvR7td1u+EHzJ4=,tag:yYiEy+9vIyVbGjEeBZQIqw==,type:str]
                                        uid: ENC[AES256_GCM,data:SoiD9NoTYsU=,iv:AqLDZoFr24x9pkNr0xgLGPMkpBMW9cKxDAeu+hLVkaY=,tag:YVG0B9J/0XPK9o8jaKKQxg==,type:str]
                                    expression: ENC[AES256_GCM,data:XSqWYOE=,iv:8lrtLINhrxO6x5YmpdEo4NI5Z0eyyVcspSTkXaxlkiI=,tag:+ffm4rrS+epwQj23IKBNbw==,type:str]
                                    intervalMs: ENC[AES256_GCM,data:3tfrPw==,iv:OQRABAPo/4abohn6TE72e96odO11zFqzirVft3G3UsM=,tag:HhzHMdLCP2JUTyOWJM+pHA==,type:int]
                                    maxDataPoints: ENC[AES256_GCM,data:Ry9xfk8=,iv:X3CCpwOI2se+zRyey8oovuMeXaxUcxYA3KsKpOFmSb0=,tag:/+dWcSlduF1VbYl7YXuC2A==,type:int]
                                    reducer: ENC[AES256_GCM,data:3ie5Gg==,iv:URcH2RVp3t2iHgcSclAf4kC9mLFyTOKLXSPE4MRKmQU=,tag:upTY5EF9qi0TsM2e2Jr8aw==,type:str]
                                    refId: ENC[AES256_GCM,data:Ug==,iv:aYItE7Bko96+soaOEOJ3veLIn7VW1pK866/2g8DSjoE=,tag:owE9P5UM4HTRHahx5/kH0w==,type:str]
                                    settings:
                                        mode: ENC[AES256_GCM,data:+DSY+b9XQwVf,iv:3xLBRMc6bA9HCF6lhYVyY87fx3LGcdPW/I6gd8BjnPc=,tag:u9dx69WBpTi9aVc2IOSKkA==,type:str]
                                        replaceWithValue: ENC[AES256_GCM,data:wQ==,iv:XvdISiTAljho6pNaZsr2ZtUeCaP2qF83jvuD4a7iGlc=,tag:uRcZHa1ZWrb3y4zMDnyt4A==,type:int]
                                    type: ENC[AES256_GCM,data:dBXj0eti,iv:YKDMV9u/O0LES9iNYU578aPvUsa1qbHty044OKj/w3k=,tag:6+EmRDeLR8UE50ZmIfHqHg==,type:str]
                              noDataState: OK
                              execErrState: Error
                              for: 5m
                              annotations:
                                summary: Unusual logging for synapse.
                              isPaused: false
                contactpoints.yaml:
                    apiVersion: 1
                    contactPoints:
                        - orgId: 1
                          name: MidnightThoughts Ops
                          receivers:
                            - uid: "1"
                              name: MidnightThoughts Ops
                              type: email
                              sendReminder: true
                              frequency: 1m
                              settings:
                                addresses: ops@nordgedanken.dev;mtrnord@nordgedanken.dev;mtrnord1@gmail.com
                policies.yaml:
                    apiVersion: 1
                    policies:
                        - orgId: 1
                          receiver: MidnightThoughts Ops
                          group_by:
                            - grafana_folder
                            - alertname
            plugins:
                - grafana-piechart-panel
                - grafana-worldmap-panel
                #- https://grafana.com/api/plugins/parseable-parseable-datasource/versions/1.0.2/download;parseable-parseable-datasource
                - isovalent-hubble-datasource
                - isovalent-hubbleprocessancestry-panel
                - chaosmeshorg-datasource
            smtp:
                existingSecret: smtp-auth-secret
            extraSecretMounts:
                - name: auth-generic-oauth-secret-mount
                  secretName: auth-generic-oauth-secret
                  defaultMode: 288
                  mountPath: /etc/secrets/auth_generic_oauth
                  readOnly: true
                  # - name: parseable-secret-mount
                  #   secretName: parseable-secret
                  #   defaultMode: 288
                  #   mountPath: /etc/secrets/parseable
                  #   readOnly: true
            defaultDashboardsTimezone: Europe/Berlin
            dashboardProviders:
                dashboardproviders.yaml:
                    apiVersion: 1
                    providers:
                        - name: default
                          orgId: 1
                          folder: ""
                          type: file
                          disableDeletion: false
                          editable: true
                          options:
                            path: /var/lib/grafana/dashboards/default
                        - name: monitoring
                          orgId: 1
                          folder: Monitoring
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/monitoring
                        - name: zammad
                          orgId: 1
                          folder: Zammad
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/zammad
                        - name: matrix
                          orgId: 1
                          folder: Matrix
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/matrix
                        - name: nats
                          orgId: 1
                          folder: Nats
                          type: file
                          disableDeletion: true
                          editable: false
                          updateIntervalSeconds: 10
                          allowUiUpdates: false
                          options:
                            path: /var/lib/grafana/dashboards/nats
            datasources:
                datasources.yaml:
                    apiVersion: 1
                    datasources:
                        - name: Prometheus
                          type: prometheus
                          uid: prometheus
                          url: http://vmsingle-vm-victoria-metrics-k8s-stack.monitoring.svc:8429/
                          access: proxy
                        # - name: Parseable
                        #   type: parseable-parseable-datasource
                        #   url: http://parseable.parseable.svc.cluster.local
                        #   access: proxy
                        #   isDefault: false
                        #   basicAuth: true
                        #   basicAuthUser: MTRNord
                        #   secureJsonData:
                        #     basicAuthPassword: $__file{/etc/secrets/parseable/password}
                        - name: ChaosMesh
                          type: chaosmeshorg-datasource
                          url: http://chaos-dashboard.chaosmesh.svc.cluster.local:2333
                          access: proxy
                          isDefault: false
                        - name: Tempo
                          type: tempo
                          uid: tempo
                          access: proxy
                          url: http://tempo.monitoring.svc.cluster.local:3100
                          isDefault: false
                          jsonData:
                            httpMethod: GET
                            serviceMap:
                                datasourceUid: prometheus
                            lokiSearch:
                                datasourceUid: loki
                        - name: Hubble
                          type: isovalent-hubble-datasource
                          uid: hubble
                          access: proxy
                          url: http://hubble-relay.kube-system.svc.cluster.local:80
                          isDefault: false
                          jsonData:
                            serviceMap:
                                datasourceUid: prometheus
                            tempoDatasourceUid: tempo
                            prometheusDatasourceUid: prometheus
                        - name: ES - Chat Sessions
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-chat_sessions
                          jsonData:
                            index: zammad_production_chat_session
                            timeField: created_at
                        - name: ES - CTI Log
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-cti_log
                          jsonData:
                            index: zammad_production_cti_log
                            timeField: start_at
                        - name: ES - Ticket Articles
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-ticket_articles
                          jsonData:
                            index: zammad_production_ticket
                            timeField: article.created_at
                        - name: ES - Tickets by closed_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-closed_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: close_at
                        - name: ES - Tickets by created_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-created_ticket
                          jsonData:
                            index: zammad_production_ticket
                            timeField: created_at
                        - name: ES - Tickets by first_response_at
                          type: elasticsearch
                          access: proxy
                          url: http://zammad-elasticsearch.zammad.svc.cluster.local:9200
                          isDefault: false
                          uid: zammad-es-first_response_at
                          jsonData:
                            index: zammad_production_ticket
                            timeField: first_response_at
            dashboards:
                default:
                    nodeexporter:
                        gnetId: 1860
                        revision: 22
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                monitoring:
                    forgejo:
                        gnetId: 17802
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-cluster:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/cluster.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-control-plane:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/control-plane.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    flux-logs:
                        url: https://raw.githubusercontent.com/fluxcd/flux2-monitoring-example/bcae1ef44963da89caabe962a93280c0dfad3381/monitoring/configs/dashboards/logs.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                            - name: DS_LOKI
                              value: loki
                    asterisk:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/asterisk.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    traefik:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/traefik.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    postgres-dashboard:
                        url: https://raw.githubusercontent.com/prometheus-community/postgres_exporter/master/postgres_mixin/dashboards/postgres-overview.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    minio-dashboard:
                        url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-dashboard.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                              #minio-bucket:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-bucket.json
                              #minio-replication:
                              #  url: https://raw.githubusercontent.com/minio/minio/master/docs/metrics/prometheus/grafana/minio-replication.json
                zammad:
                    ticket_statistics:
                        gnetId: 14222
                        revision: 2
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    chat_sessions_statistics:
                        gnetId: 14224
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                    cti_log_statistics:
                        gnetId: 14223
                        revision: 1
                        datasource:
                            - name: DS_ES_- TICKETS BY CREATED_AT
                              value: zammad-es-created_ticket
                            - name: DS_ES_- TICKETS BY CLOSED_AT
                              value: zammad-es-closed_ticket
                            - name: DS_ES_- TICKET ARTICLES
                              value: zammad-es-ticket_articles
                            - name: DS_ES_- CHAT SESSIONS
                              value: zammad-es-chat_sessions
                            - name: DS_ES_- CTI LOG
                              value: zammad-es-cti_log
                matrix:
                    synapse-dashboard:
                        #url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/synapse.json
                        url: https://raw.githubusercontent.com/element-hq/synapse/develop/contrib/grafana/synapse.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    draupnir4all:
                        url: https://git.nordgedanken.dev/kubernetes/grafana/raw/branch/main/draupnir4all.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
                    matrix-media-repo-dashboard:
                        url: https://raw.githubusercontent.com/t2bot/matrix-media-repo/main/docs/grafana.json
                        datasource:
                            - name: DS_PROMETHEUS
                              value: Prometheus
            ingress:
                enabled: true
                annotations:
                    cert-manager.io/cluster-issuer: letsencrypt-dns
                    external-dns.alpha.kubernetes.io/hostname: grafana.midnightthoughts.space
                hosts:
                    - grafana.midnightthoughts.space
                tls:
                    - secretName: grafana.midnightthoughts.space
                      hosts:
                        - grafana.midnightthoughts.space
            grafana.ini:
                server:
                    root_url: https://grafana.midnightthoughts.space
                smtp:
                    enabled: true
                    host: mail.nordgedanken.dev:465
                    from_address: ops@nordgedanken.dev
                paths:
                    data: ENC[AES256_GCM,data:bClILgBUKKIwUuXUNaIfUO0=,iv:OyoYtah6haEyEspFS1QXuqVUtxN6a3M55vduMhgbVSc=,tag:Kr9q1NsX99L0j9EzS/WvzA==,type:str]
                    logs: /var/log/grafana
                    plugins: /var/lib/grafana/plugins
                    provisioning: /etc/grafana/provisioning
                analytics:
                    check_for_updates: true
                log:
                    mode: console
                grafana_net:
                    url: https://grafana.net
                auth:
                    signout_redirect_url: https://auth.midnightthoughts.space/application/o/grafana/end-session/
                    oauth_auto_login: true
                auth.generic_oauth:
                    name: authentik
                    enabled: true
                    client_id: $__file{/etc/secrets/auth_generic_oauth/client_id}
                    client_secret: $__file{/etc/secrets/auth_generic_oauth/client_secret}
                    scopes: openid email profile
                    auth_url: https://auth.midnightthoughts.space/application/o/authorize/
                    token_url: https://auth.midnightthoughts.space/application/o/token/
                    api_url: https://auth.midnightthoughts.space/application/o/userinfo/
                    role_attribute_path: contains(groups, 'Grafana Admins') && 'Admin' || contains(groups, 'Grafana Editors')
                        && 'Editor' || 'Viewer'
            imageRenderer:
                enabled: true
        kubeProxy:
            enabled: false
    postRenderers:
        - kustomize:
            patches:
                - target:
                    # Ignore these objects from Flux diff as they are mutated from chart hooks
                    kind: (ValidatingWebhookConfiguration|MutatingWebhookConfiguration)
                    name: kube-prometheus-stack-admission
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
                - target:
                    # Ignore these objects from Flux diff as they are mutated at apply time but not at dry-run time
                    kind: PrometheusRule
                  patch: |
                    - op: add
                      path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                      value: disabled
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBRU2k3QUhSQ0t2cWNLUkxM
            QlIrbzNvN1ZlM3ZvMXE4OUdaTEdZdzJhSlM4CmJKeGxrd2dkN0t3VjZqdUROVmJo
            OUsxalhmZk9nNjNEUTJWWGJhZjI2VzgKLS0tIG1kenRMczVmUE91NmR5TGRySUxv
            bEVmVXVERkVvQk9RTk9JUmNnSWxPVWMKC5eb3kVsqdFg6z88av484YxxnxXbOYxC
            jc9qDiX0Nd/diFeDorkTdUwkGnN1Ojs4rAr0ltpRnkebrDNjut5h5A==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-05-06T09:13:31Z"
    mac: ENC[AES256_GCM,data:wvZ3REPrGh9MCiqICMaDmO88Uvj6CXfYaau4lqK4fOkfFQCDskb+LncGGDXPOeGhXn4GuI3XnvGXh72QSsOkUuYcggU66N/kwjb/qlW5kuXAYJlkpUrmtzT7FiqCDi3ETimIqy9bGILUr5o5od19o6we/DfnrNNLngXEa0aLlVw=,iv:CAt2nADCgTNDmXZjSct1pPLy3CBIddKqaNtCMm2//M8=,tag:DVjMpDWbaBT8mqC0kuct6g==,type:str]
    pgp: []
    encrypted_regex: ^(token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|PASSWD|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|adminPassword|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret)$
    version: 3.8.1
