apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: docuseal
    namespace: docuseal
spec:
    releaseName: docuseal
    interval: 60m
    chart:
        spec:
            chart: docuseal
            sourceRef:
                kind: HelmRepository
                name: docuseal
    values:
        ingress:
            main:
                enabled: true
                annotations:
                    cert-manager.io/cluster-issuer: letsencrypt-dns
                    external-dns.alpha.kubernetes.io/hostname: midnightthoughts.space
                hosts:
                    - host: docuseal.midnightthoughts.space
                      paths:
                        - path: /
                          pathType: Prefix
                          backend:
                            service:
                                name: docuseal
                                port: 3000
                tls:
                    - secretName: docuseal-midnightthoughts-space-tls
                      hosts:
                        - docuseal.midnightthoughts.space
        persistence:
            data:
                enabled: ENC[AES256_GCM,data:HmcNMg==,iv:JjXT4OOu9oUAkNdVXmgwo0rS4CGKMnubME0xXiExLng=,tag:bSQDwQBir5+aJNih5xJ7Kw==,type:bool]
                size: ENC[AES256_GCM,data:yX8h,iv:4Q3lKvtW1owz9+9CIiQTCSoj6lwtHAzJ8ruX7/hbwiA=,tag:T/x2LtQUKYqTZ4v2N/oGkg==,type:str]
                accessMode: ENC[AES256_GCM,data:ouAeaDFpgIH+8aSvVw==,iv:Aw6uhnShso8J8PhLCp2eOvVHFVl2786flmkedm4Utwo=,tag:KbNB3zCklHRpAc4bBZ1y6g==,type:str]
                existingClaim: ENC[AES256_GCM,data:ZXzIktlXZvQAw9MfbNk46w==,iv:5g4dYchyn+SVG0CBj9Y/I2CXmz0z6kLxihrXeOaED9E=,tag:XiDjlnr8okL/XRxpexZGzA==,type:str]
        env:
            SECRET_KEY_BASE: ENC[AES256_GCM,data:n8A1Hl1sNECHSSiMbRXtPjMyKof0hodmcTXovl2KD429UemRLexDtewKQ9eydNkig2Ws5ZkDo1OexGwt8jzFAGM9uKaTnK19KJuM6y6K50DZxwr7+f0MWGnBLcDbwuBABlf0ASbmInajNkl4cR9d5TP8joZjh0gXGPnyOU7qcmM=,iv:1W9fynmpOn3wrLMomucDbyNrqP15UPEdnLywPTyUH9E=,tag:LZ4Pom+bNUyArPdvDvk1dA==,type:str]
            SMTP_USERNAME: mtrnord@nordgedanken.dev
            SMTP_ADDRESS: smtp.fastmail.com
            SMTP_PORT: 465
            SMTP_PASSWORD: ENC[AES256_GCM,data:5OY85J4faVXo0FlyowpKKg==,iv:RQY5vVwS8pUBn9S+LoQtLrdfuo2tue4Yctam2J+4YXU=,tag:ZYrxSlTeiqnYNjEEvqs34A==,type:str]
            SMTP_FROM: ops@nordgedanken.dev
            HOST: docuseal.midnightthoughts.space
            DATABASE_URL: ENC[AES256_GCM,data:0fRxBndaOBWJ1dGzkBqwu/pzUlxK7QQS944e3gJgMoorMobUgdN2vJ6UmYfVrtAy4CMgvHoaI5B1E9N4T4V9maBkE4iqBTzrx0ImAj55r93IVStCvdHO2plBkhbJh1YUgi8GN75bnAHQEjhB/Yegaz7qa5t/mBDoi3FKSFNfyIqMWOJArXwvaZ6o/IinNyP8AtYmX8xtRzb9qEyZ7RigdL4OKac0EJI=,iv:5uVoMNv5euQlG2UexWeBEBqi4ZEehkadcVgtjiY7LSo=,tag:fE7YpFOF2snKSeuaV0GLlg==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBka2JjMVF5ZEVIQXlZZTFC
            ejJtb2VsL2JtWDBYSmpoNFlUaDF6aHU4N25nCkFLMk5iaDZtdWNXOEptQ0VsNjVN
            ZHZaRFpvcnBsbXY2MEk2UE9GUTBKS3cKLS0tIGREZkl6MUxzeUROeXQrSUxLa2lo
            U0lhTWVqTmU4SzBmWEZKRWhhSjNNV2cKITPbxcvGb7yRd3VV/DEUkaO4Jv711Hk3
            ZIG3nN831AjirtFa8jNyrwBmmqdPt3MfdcZQ9DMalw+qzWwbti7BdQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-11-16T18:28:32Z"
    mac: ENC[AES256_GCM,data:CSUBt32nJ9HTM4/xJCqricUSS4mfprh34BsnwnFKTWqs7MXlhEeWgH+7TZ5t4jRRLBrSYVqBFytbui0mh7Ee2o6rgtyZ9pfZR8WO/hexgzrMK1CpSpo5fgHipuKCXzB9Qo2dTdHzW2z8CeA877s6hZ9VVDw/sRq6DWTGW5rk1PA=,iv:184VCgxDsyzx/ZxFENC6sQI1b+jEQZVY9FTUGhtO+G8=,tag:ciie68/U3xyVFbkmbw9v9A==,type:str]
    pgp: []
    encrypted_regex: ^(routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.9.1
