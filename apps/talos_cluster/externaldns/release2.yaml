apiVersion: helm.toolkit.fluxcd.io/v2beta2
kind: HelmRelease
metadata:
    name: external-dns-pdns
    namespace: kube-system
spec:
    releaseName: external-dns-pdns
    chart:
        spec:
            chart: external-dns
            sourceRef:
                kind: HelmRepository
                name: external-dns
    interval: 50m
    values:
        logLevel: debug
        extraArgs:
            - ENC[AES256_GCM,data:fHGsjniwBGhkF6Tu8buDTaIVO5Ng3lApvqz0iC51,iv:2nxKUEEpxcUWNREtob2GYE5a0JNm1JU8qC8fqvYPaHU=,tag:ITaJLMjyoKN53H96ZLn19Q==,type:str]
            - ENC[AES256_GCM,data:s01RAUO7cC0xWk+Zy2xaZoqtqtb7rB3TCChmPedOtvUSI3opp9I98/pyDQ46Pi6jMqbwrGw4uWHDAIliiDqkL6KEJzU0NTrAD16mjAwKFw==,iv:Z92RZDCtI9C0wIRh2VhYdsPd+zevEG1J29aEBvti8ek=,tag:iSaF9xKCopVkSeuU1qEYcA==,type:str]
            - ENC[AES256_GCM,data:WAF/WIvh2kaRFyGHAFZGVYMHIg0p0Z33LGCIVQcASA==,iv:Mmd5eNsp0YWEsFT9KgrTijuSvGibQb+SgFOaGQ/G/2g=,tag:xlxXDUNCm1JazWam/iVWcg==,type:str]
        provider:
            name: pdns
        sources:
            - gateway-httproute
            - gateway-grpcroute
            - gateway-tcproute
            - gateway-tlsroute
            - gateway-udproute
            #- service
        rbac:
            additionalPermissions:
                - apiGroups:
                    - ""
                  resources:
                    - namespaces
                  verbs:
                    - get
                    - watch
                    - list
                - apiGroups:
                    - gateway.networking.k8s.io
                  resources:
                    - gateways
                    - httproutes
                    - grpcroutes
                    - tlsroutes
                    - tcproutes
                    - udproutes
                  verbs:
                    - get
                    - watch
                    - list
                - apiGroups:
                    - ""
                  resources:
                    - services
                  verbs:
                    - get
                    - watch
                    - list
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAzUWlONElUOEtQTzB3dDRT
            WXNDNEkwY0RjcmFKRG93UE9xUHNudzgyU0JZCit6b3l3R2prYjNwbCt3Ryt2UjUz
            UTNMUXcwZmlEZjltQXU1Y0s4NzlrUGcKLS0tIFZodjY1bHhzbVZpRU84MjBFd00y
            MCtyNWFDN1BTSDRDZ0lnRXZ5b1p4ZkUKSnZM1LFWf3N54na2fj8Qe3EocJ3m30ct
            CTJTxTaM0h4+707QKpjQiZTtwfyaxGzMY3SI9linmT2fYK4z679h6w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-11-18T14:31:04Z"
    mac: ENC[AES256_GCM,data:RcdKVKfFX1S69Hac+LjqmsXsa49N7B6O/9lJalIUmtmS7l9HQR9ttyIqexzWFZY8vSDi/EPu7K5xjuK7P9yXzIIdMuwZjHBZ3EzdphF46pDOGvFostkcMhEkqKrmNvMWX+9UH24z3QrcK1ftJhB3Y/9B20+F7+NdsBRtiOXqdRo=,iv:bBxcQmrQ4w5bhcbtlQIp6oQcCZuHkI2JJhZxfvcd9dk=,tag:wDz1m79bVG5BGEvdw75KRA==,type:str]
    pgp: []
    encrypted_regex: ^(extraArgs|harborAdminPassword|totpVaultKey|kimaiAppSecret|kimaiAdminPassword|GITHUB_CLIENT_ID|GITHUB_CLIENT_SECRET|GITHUB_PRIVATE_KEY|woosh|root_password|rspamd_password|pgdb_password|matrix_access_token|pgdb_remote_url|hmac_secret_key|adminPassword|adminEmail|jenkinsAdminEmail|securityRealm|gerrit.config|routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword)$
    version: 3.9.1
