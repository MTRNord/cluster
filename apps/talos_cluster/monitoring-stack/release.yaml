apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: vm
  namespace: monitoring
spec:
  interval: 5m
  chart:
    spec:
      version: 0.72.x
      chart: victoria-metrics-k8s-stack
      sourceRef:
        kind: HelmRepository
        name: vm
      interval: 60m
  install:
    crds: CreateReplace
  upgrade:
    crds: CreateReplace
    # Force recreation due to Helm not properly patching Deployment with e.g. added port,
    # causing spurious drift detection
    force: true
  # https://github.com/VictoriaMetrics/helm-charts/blob/master/charts/victoria-metrics-k8s-stack/values.yaml
  values:
    vmagent:
      externalLabels:
        cluster: midnightthoughts
      spec:
        externalLabels:
          cluster: midnightthoughts
    vmsingle:
      enabled: false
      spec:
        extraArgs:
          search.maxSeries: "3000000"
          search.maxConcurrentRequests: "25"
          search.maxQueryDuration: 60s
          search.maxLabelsAPIDuration: 60s
        storage:
          accessModes:
            - ReadWriteMany
          resources:
            requests:
              storage: 10Gi
    vmcluster:
      enabled: true
      spec:
        retentionPeriod: 30d
        vminsert:
          replicaCount: 1
          resources:
            limits:
              cpu: "1"
              memory: 500Mi
          affinity:
            podAntiAffinity:
              requiredDuringSchedulingIgnoredDuringExecution:
                - labelSelector:
                    matchExpressions:
                      - key: ENC[AES256_GCM,data:K6qB,iv:U4xTX1GA2HeiSeMt9A+QUhaapOMUr33sZukYRmFbPPw=,tag:nGv4cjBznjpRW9GdB8lVBA==,type:str]
                        operator: In
                        values:
                          - vminsert
                  topologyKey: kubernetes.io/hostname
        vmselect:
          extraArgs:
            search.maxSeries: "3000000"
            search.maxConcurrentRequests: "15"
            search.maxQueryDuration: 60s
            search.maxLabelsAPIDuration: 60s
          replicaCount: 1
          resources:
            limits:
              cpu: "1"
              memory: 500Mi
          storage:
            volumeClaimTemplate:
              spec:
                accessModes:
                  - ReadWriteMany
                resources:
                  requests:
                    storage: 2Gi
          affinity:
            podAntiAffinity:
              requiredDuringSchedulingIgnoredDuringExecution:
                - labelSelector:
                    matchExpressions:
                      - key: ENC[AES256_GCM,data:CTG1,iv:XzxzulYhwnz7TBwLinkgDqxRMkiyHQRHp5tyiZCDOoE=,tag:HvClbjltbSCaLlsiC60JuA==,type:str]
                        operator: In
                        values:
                          - vmselect
                  topologyKey: kubernetes.io/hostname
        vmstorage:
          replicaCount: 1
          extraArgs:
            search.maxConcurrentRequests: "25"
          resources:
            limits:
              cpu: "1"
              memory: 2048Mi
          affinity:
            podAntiAffinity:
              requiredDuringSchedulingIgnoredDuringExecution:
                - labelSelector:
                    matchExpressions:
                      - key: ENC[AES256_GCM,data:Tkr0,iv:ICe2uYGWqb5iYCs6zlAMwuMN9WUwFV6qLQc3W5Wmf9k=,tag:4HuFpfrJa3NtHUbw3Gzyzw==,type:str]
                        operator: In
                        values:
                          - vmstorage
                  topologyKey: kubernetes.io/hostname
          storage:
            volumeClaimTemplate:
              spec:
                accessModes:
                  - ReadWriteMany
                resources:
                  requests:
                    storage: 10Gi
    victoria-metrics-operator:
      operator:
        disable_prometheus_converter: false
    grafana:
      sidecar:
        dashboards:
          folderAnnotation: grafana_folder
          provider:
            foldersFromFilesStructure: true
          logLevel: WARN
          watchServerTimeout: 3600
          enabled: true
      adminPassword: ENC[AES256_GCM,data:DjBlUhywK/TX/XUf2AS5WDyuq/OtthRlUAfW+/gCy8+w3VGBW3HbzCFVa4M7R71sOR3T7Euy44aZQOokxmiUgw==,iv:ypzRkLfzG3LafGjSchY8yG07E5B+YhXFQ35iSLdTErU=,tag:LL9WIyyEcjLZIGaTlNahnA==,type:str]
      alerting:
        rules.yaml:
          apiVersion: 1
          groups:
            - orgId: 1
              name: Ceph
              folder: Ceph
              interval: 5m
              rules:
                - uid: fef44llxxufpca
                  title: CephOSDNearFull
                  condition: A
                  data:
                    - refId: ENC[AES256_GCM,data:3g==,iv:kNAN6t4H7qzVaVX5xRr95QVZvlS3effYw7ZIA/72Tus=,tag:Yyi5+TUXIWYZBb0FJnRx1w==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:kNPF,iv:LsA41gk4ezv/TH3dtn5ueSK7rWuNE/uM1JPJ8YQ5pZU=,tag:g/OzYIOC1pYddhJw1KdB0g==,type:int]
                        to: ENC[AES256_GCM,data:Tg==,iv:ImXJ823oYhcsYRAhbXXq4OC47xHWzjv3fqiQwWQECVc=,tag:L64l1IkkoJ4KxvXd8NM1/g==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:TeH7SlQNG1gSC3yGWGX4w04=,iv:MFfgx6w0Zl2IARLdydjfj9KMnHN9D/iHNVCkfjmvpXE=,tag:EkCiGE/fNJXV3QvsHw52JA==,type:str]
                      model:
                        editorMode: ENC[AES256_GCM,data:j4VAYg==,iv:54KdK+xgW+n5XX6QGlt19RdFC1joVePHfpqVasJU77A=,tag:Y5BbqSdfPlKKlLc9rve4Wg==,type:str]
                        expr: ENC[AES256_GCM,data:6svBXIS/sV7yjkYzToAAV8ip68Lj8csQu3XK8LXBW16MwO7iZNxf+TC3MtU=,iv:Lm3Y0oX/Dn/6xcgcoAK4H7LmpTC/R7e64IrcBkPe0y4=,tag:Wz5l2lcrEzkNf2DASgh/Nw==,type:str]
                        instant: ENC[AES256_GCM,data:6914lw==,iv:ArfXMvR4nF+Vguy+fAj1YU1ABms2smHjrsBCkLpCWPI=,tag:wCht7UCFAoNE2PJtdjSJfg==,type:bool]
                        intervalMs: ENC[AES256_GCM,data:M/dWBA==,iv:nYUvrxvXz88paY1I8QyX5ca+4XNzYRNkojFvzIUijuU=,tag:VtIBa+T+ods/sDizKV/64g==,type:int]
                        legendFormat: ENC[AES256_GCM,data:tFtby/eb,iv:hFW5/cmJeiOdOb+Cm+aWqvy+ZGl0mxX9unxPiCEWa8M=,tag:vL15VUjGeMX06G5M4g4gww==,type:str]
                        maxDataPoints: ENC[AES256_GCM,data:qv/q6GI=,iv:O44sVlQHz3q4p3UpfEKmRYDyjHkvrDM0KlTm/0cUwNQ=,tag:nF6LbsJqSAgouGEmqraPcQ==,type:int]
                        range: ENC[AES256_GCM,data:knriAvY=,iv:yBrDPa4g1D21AChWVLOpyNFe0f9Kp3ckdKVn9JL8VME=,tag:XA4tmZzKxwSMGJE2Y4UBYA==,type:bool]
                        refId: ENC[AES256_GCM,data:Yg==,iv:tnS93ylQ1xW6jEntOBRK+hwCKDRB32+orTXem0W79h8=,tag:Z0LYR4Wc6jrr7HB8Wv6hvA==,type:str]
                  dashboardUid: tbO9LAiZK
                  panelId: 7
                  noDataState: OK
                  execErrState: OK
                  for: 5m
                  annotations:
                    __dashboardUid__: tbO9LAiZK
                    __panelId__: "7"
                    description: One or more OSDs have reached the NEARFULL threshold. Use 'ceph health detail' and 'ceph osd df' to identify the problem. To resolve, add capacity to the affected OSD's
                      failure domain, restore down/out OSDs, or delete unwanted data.
                    runbook_url: https://docs.ceph.com/en/latest/rados/operations/health-checks#osd-nearfull
                    summary: OSD(s) running low on free space (NEARFULL)
                  isPaused: false
                  notification_settings:
                    receiver: PagerDuty
            - orgId: 1
              name: CertManager
              folder: Cluster
              interval: 5m
              rules:
                - uid: ddz3zj028wb28b
                  title: CertManagerHittingRateLimits
                  condition: B
                  data:
                    - refId: ENC[AES256_GCM,data:qA==,iv:YItgQfw0Cr+rOf7mSCfB286gnUqH2mSZqlJyszfTsF8=,tag:uPYNGgl3woVvjoe11lQ2rw==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:fiOK,iv:/XfjX8cv6g+GDJsD85L8DEThahXGjpdqWVrYKKsghYQ=,tag:rkKd7uAbAvdBUI9cJCKKuw==,type:int]
                        to: ENC[AES256_GCM,data:Sw==,iv:YeMQIMPuPy3IP9+U10bEsNK9XVUKJK7LBuLPU6YgFTg=,tag:qM6msZg2Emlr2GuWKqEBwA==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:Ih0kxbkAIITjKg==,iv:yYBfCFEZG8/teSZb/ENtc87CDw11w4709MKHO9m91zE=,tag:6IwFMZOtlc16zclwSCe2VQ==,type:str]
                      model:
                        editorMode: ENC[AES256_GCM,data:XBAvDQ==,iv:O2/HKFfm8DzFrv6ZFs8Y2nnmpURIfuNEP8OeqaDS5+I=,tag:/tJ5Q1wgOsZFAuI8YQr1MQ==,type:str]
                        expr: ENC[AES256_GCM,data:Dm8c54dglX79tyGB9xVV8I14tj3+IlQapMsGX1O0iDphCc+XbeEMWUucHeJ0yWdmvLgxypkr10gE89kHo+0cKu3RBKzqtTRPrAmqrCwjBDEnH7I5Z2djGZU4IrDsf4HB/WtTGhNpcljXEzi7bHADTBid,iv:c2NSsTdOiN9NmbisdzcZ2YrktPNn1gE1XXBdw/fQKZw=,tag:8mJ6zy986WFSCwNHqfbF6w==,type:str]
                        instant: ENC[AES256_GCM,data:zo9o3Q==,iv:AKDv3ZEYdvMcS5ge89eA2mlOe9oBLO4D7ayTyDKaOn8=,tag:ati5IkVU5RF/gkYH1voorw==,type:bool]
                        intervalMs: ENC[AES256_GCM,data:+4uNzw==,iv:V0FRxq0rpDklhebaPn3+RgQ6bOhwfVdAZCrcpiJPm+Y=,tag:OGOgl6pJh1WPnhzPP3I+vA==,type:int]
                        legendFormat: ENC[AES256_GCM,data:5lw/aPoX,iv:qdbP6SA5iYUnAU1z5l3D6RyvaCK6oD7/waenCnZGYk4=,tag:vUX9+0MUqVfD5IVBkz/+sA==,type:str]
                        maxDataPoints: ENC[AES256_GCM,data:sfWAcvM=,iv:+HS3Gs1bKnKs/bazwCiW7Rn0MW3onQZDQNYWGtO3UPk=,tag:mSkhWWyiKUrqJQetL0/Nvw==,type:int]
                        range: ENC[AES256_GCM,data:6mu/auQ=,iv:M+HUWKuwgBoqiLIKAjhN8lxL6XzWFnOtOtNYM+/ZhUM=,tag:qJ2JaXpouSsHIO+iCRTtZA==,type:bool]
                        refId: ENC[AES256_GCM,data:+Q==,iv:M/EQJKdSKoHYgfBgSr7ijklrbqjeIO5OVpc6rjD7ju8=,tag:6wDoyma1d0IKB93gZUhGFw==,type:str]
                    - refId: ENC[AES256_GCM,data:NQ==,iv:W3HjFA55dm+kd+6QvHNgxVXbMMwBuDSUvP8b4miDRLA=,tag:s+Y6POXbU/EBrs3frR2WsQ==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:bHI3,iv:bI6spZCTLppWiYITfbFSRrNKOUzx1Em+WdQ/b+l+Qz4=,tag:2JGs0HH9cODHp1nSXYtPpg==,type:int]
                        to: ENC[AES256_GCM,data:3g==,iv:Db+Jx6faplDNrQv7k/Mq6vriwGvTHyaOQ0RnVwNateM=,tag:VP5fZLZmP0eZJvkE9HSwDw==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:WR/xwN9Xr2c=,iv:Rz9llBgatngUI1ltKj4wiV3IsDhAfBAnmncE/+APeVs=,tag:GbVq5L06hOOQb1W/kDXGAg==,type:str]
                      model:
                        conditions:
                          - evaluator:
                              params: []
                              type: ENC[AES256_GCM,data:ESU=,iv:xJ0YW5bGFUsERiaNco9SvLn1dWRYnPZlfngrIeWjoLw=,tag:l8ttlPevifOOxg3MVxqnXA==,type:str]
                            operator:
                              type: ENC[AES256_GCM,data:MVuE,iv:zQ6QpG5hHBs9rjlC0nujdOCE022BlLHozUbgWsSnuN8=,tag:zRyB+k4d0YlIKjbWzpGuhw==,type:str]
                            query:
                              params:
                                - ENC[AES256_GCM,data:GA==,iv:ZPxcDpOdyjzK62RX3S/dOCK17NWLtV25uxPalcEuaoQ=,tag:32nWLTlrqB9Km5R5IeK2xQ==,type:str]
                            reducer:
                              params: []
                              type: ENC[AES256_GCM,data:/izxmQ==,iv:ZCMqvltMlQqVhOzg0BoVp6fCpQA/5eN51QR5q690jbc=,tag:mjvKLZlSkRGVmjdp+LNsUg==,type:str]
                            type: ENC[AES256_GCM,data:7PKsoBM=,iv:j+U86pB7fp7lxmkuCRRHamuGw9BCSxcnGgYCpzKfcDU=,tag:j0OdY5AIugV5ASBSyK6L/Q==,type:str]
                        datasource:
                          type: ENC[AES256_GCM,data:tjTgEsJ3h9I=,iv:C6Tdkaje/1p858zYxXyZeWGoeZicxYylo1znVmVcW8k=,tag:ho0ixSWilNGte7EGQXOeoQ==,type:str]
                          uid: ENC[AES256_GCM,data:bPXi+3MOks4=,iv:FzZRAUcZHX60TFqKuWKjQYaE1WdHIZTZprKGp4NRSNc=,tag:89l4L2YP6CQQE+hfyj4umw==,type:str]
                        expression: ENC[AES256_GCM,data:dw==,iv:ELUw59kup1oANSqIBekRvAd0p1d+/gpTeDIFCvxpgRM=,tag:+Kwpw/j51wMwsKfLqqEqLg==,type:str]
                        intervalMs: ENC[AES256_GCM,data:zTnFYA==,iv:qny0LmQNk+/hQ8omUgnvgqKWZxwXnu2uJI1aZ3NIv9Q=,tag:MeKr4Lyt0x7Gi2LHuO8TqQ==,type:int]
                        maxDataPoints: ENC[AES256_GCM,data:2jp4zQI=,iv:f3jzuCxb2x4NutHfonO9n/S9klOPwZXTtLvuD29Kkvw=,tag:wvfeRZH/q5tXL6/VnjvSew==,type:int]
                        reducer: ENC[AES256_GCM,data:dr4z7w==,iv:ubN/c3BZCKqXayeQbS3PuhZhZ5xKvtpShhhsyZu3j7w=,tag:W26RnoDGQ1gr2vKIz58xlg==,type:str]
                        refId: ENC[AES256_GCM,data:/w==,iv:JNcR0H4Hy6EK13oWrXq38x9PmbsQPQQZ+eOdXZtM8os=,tag:bqh5TEYFhMkqfEMyTX/wgw==,type:str]
                        type: ENC[AES256_GCM,data:+9E/Q4Pf,iv:s0+Dz8dgqq52TgVLLIPu/V4ai0fJvf8Ev/Epke5h8ek=,tag:gB/TkkHh5KCTLvnEqR6kOA==,type:str]
                  noDataState: OK
                  execErrState: Error
                  for: 5m
                  annotations:
                    description: Depending on the rate limit, cert-manager may be unable to generate certificates for up to a week.
                    summary: Cert manager hitting LetsEncrypt rate limits.
                  labels: {}
                  isPaused: false
                  notification_settings:
                    receiver: PagerDuty Warning
            - orgId: 1
              name: Resources
              folder: Cluster
              interval: 15m
              rules:
                - uid: bdz3y4mow1o1se
                  title: KubePersistentVolumeFillingUp
                  condition: B
                  data:
                    - refId: ENC[AES256_GCM,data:yg==,iv:ubi5zxqIC5N1+m2tLsq7Tg4NqrjwE9yv7EgdSIhHejo=,tag:LoP22YUSAkvVgMPA+Zb15Q==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:5m0C,iv:0cIxmNNHmqvtZ054co14udyGW+3uDSMT0T8x4oFkDaw=,tag:3EnvWgs6+TOcDcLF7OMNtA==,type:int]
                        to: ENC[AES256_GCM,data:HA==,iv:EDeWYEyhfYX/VrKKRVVEaiqHUOzX6FA1gMGGz4X3scc=,tag:BAqEN2lSK92GNIOSc+hbEQ==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:UkFW/VAi/ocXrA==,iv:uDszKNPbqqeP8/oHGNeueltux+3zJhePb8z4vM4jsdc=,tag:xh/sFE60BF+z6/JP9Bt7+w==,type:str]
                      model:
                        datasource:
                          type: ENC[AES256_GCM,data:9jv/UBfCfyeJ4w==,iv:qv/FxDIO+ugQ1dCEH+qt3oiI7KaZU1Lo/r1L/xXD/SY=,tag:znNxZMDOada/QxWJWiqncQ==,type:str]
                          uid: ENC[AES256_GCM,data:pxJgrUj+6QtxCA==,iv:q9eFRJxC+Sw5iVYLHKXjjqfNn5uxcnXCidJHSewyUEs=,tag:RLZwUuuaKpEd+8392psKsw==,type:str]
                        editorMode: ENC[AES256_GCM,data:470+sw==,iv:RrAPVfqCKYRtNQVv05pOvSNACU53xPMmtJ9URjMDPTo=,tag:1tWXO5hqpdwY3t+cVJwqaQ==,type:str]
                        expr: ENC[AES256_GCM,data:TJay4RXrJPqryLkeal48i29K+MHHeVe71ebJkMCbmUONE0lbWRrzpoN/H9fPRTUZfJYUQsD1ckWq+7pwdtShjjqSkPBS/MUAKCY5/gI+xOK52JbNai1oqXduZh4vst4Rc+SXJJFe/Ou4wJNHzrycJHS+ZME8VJnPs2GJxdrgYGHebIPYVn5NzbZDtUnRshGkRklfE1cbNTvP9JVVb16je2hXDEjkpq9QB7AfQWN45Mv1227C1sZn+Ivu70wVDvv6cphk/NgvhID/7BrwrltYTRqgaM/+/fn2m3jv8SclPIepW/AdLPhu2ZdSNn1daCKmT3QRVx+n0zDexuz8BICt9BKFH7hrXma+X0yZKqkS93/4APgTE+ckwUs0Y2+/brf8RktGddFKq3P3btr62S/qtJHBX37DoCbMcsC3oHKpWhbQ3T2aum+lK2t3DwvLyb1J4+htrdPG8FcwXJmzJns/64DT6J5H0H6yTODs1M4AEkUsKIy+eWfyduG8UosPXXexqS5n0TWhfrEz1RDLMpfS+goEl0I6JUI12R/e7+SrSY3MEntkVRRIe+IEk0mAYxOy0pQJYQ6PoCfOUJqGlw02kGgV+6jVYmMeVS72Cx8v90bDdHydYnO11SX6kjgH7P8uVbXMNS2V6n9Z/Djd15JMzCD/rBt0hVXx0Mf8IXXyJHRhPrpk5U1D23pBPMs7K+2EqLLPmS7tk+RIDcALcTasuEMQr5+BoyrjuqMYhxs=,iv:wRCnadd5WC+54EksmhPJhmoZiMTcewl60wv6jrqRl5k=,tag:y6qNZchoz5I3GEUDkjLxOw==,type:str]
                        instant: ENC[AES256_GCM,data:8mWP2g==,iv:6OSwd5wEOOg3zJcRKMV6CapoPoPf+TvKYSeO7xONvKQ=,tag:KZMk5UW8TOyHkcPdi2nhRg==,type:bool]
                        intervalMs: ENC[AES256_GCM,data:e+iZjQ==,iv:3/pHWWpXReR8pv4rD73PVJ96vofDgJQrc8tHIT2wI/c=,tag:JbjQ5VCz6l2NuUlalcJxhw==,type:int]
                        legendFormat: ENC[AES256_GCM,data:bfv/+hh/,iv:lLBwg484VuZyU2AUTUH3rtyOnF4Rb/2lcBXqZ29xTO0=,tag:uL0YxvBIYofNkYWTowCP2w==,type:str]
                        maxDataPoints: ENC[AES256_GCM,data:xVrYnYo=,iv:351gUAu3F/ICm081edclWSrdKiR6bHKu0nqaYHZckqI=,tag:+dVO6rd8dh9osEDMU8C18Q==,type:int]
                        range: ENC[AES256_GCM,data:SHKdu2M=,iv:hSdR294Jus67+sX5eIJ+EgPc9GGq3rdeI2pYY21iVhA=,tag:t3eKtp751loSH+QWNcBF7Q==,type:bool]
                        refId: ENC[AES256_GCM,data:kw==,iv:mwcgLnT5QkMT8aZqKGNF7UWc+bczJbQdOfavqziqllo=,tag:5JX4fjGPdW6oKp0EvKfRhQ==,type:str]
                    - refId: ENC[AES256_GCM,data:QA==,iv:SbN8vBXZJVhXTICOPYoxX/oilb8wrtPnjaYcRZZO3jk=,tag:gX/lA/nW+IEteLXLRKVT6w==,type:str]
                      datasourceUid: ENC[AES256_GCM,data:g8oCLbgrNbo=,iv:RK1bZlfuFPO5c+rOMirFyTjhIlKgIfHLQiae4Wjx1Gw=,tag:mImn+VALieprtBniR6GQqw==,type:str]
                      model:
                        conditions:
                          - evaluator:
                              params:
                                - ENC[AES256_GCM,data:mg==,iv:tLg4AvuBYGQJQj+jUdEkqfBuyhDdUSBamrbIPQU8Htg=,tag:1BMW+vlMxu339GZI4ka98A==,type:int]
                                - ENC[AES256_GCM,data:Hg==,iv:Y/9NjHrEHkzfPyf9kmUgTWS+KDzhadYuNRlD3/A+YMQ=,tag:lviV95POu0Lsf9Hst2tBtA==,type:int]
                              type: ENC[AES256_GCM,data:LSI=,iv:CJ2/+272VfjTkdtHoTXnlaRVqtKUoc0UCSGarPe0zOg=,tag:8Plo1qsiR61DmE4HypPZLw==,type:str]
                            operator:
                              type: ENC[AES256_GCM,data:q4pq,iv:cc++jMeOOk9y9qM7jheqsNsSsZETJpnznbnFfN+OWTI=,tag:VFdN8ZPkkkxc6stHM9EKkg==,type:str]
                            query:
                              params: []
                            reducer:
                              params: []
                              type: ENC[AES256_GCM,data:XXsq,iv:38AxJqm6o+01PIbxV62khgEldIw69aUuRiVaCt508Mk=,tag:+IgD4Ayl+Cwkd73/g7sZIg==,type:str]
                            type: ENC[AES256_GCM,data:abvr9BA=,iv:KR19a9BkkJkszEJtx8uOr44isvCF2r5IKcApkMKkdMQ=,tag:ScKW7+7/+A4Eq/3bX9i4/w==,type:str]
                        datasource:
                          name: ENC[AES256_GCM,data:T8XjvTpGhUsX8Q==,iv:cyosGE/UHGkR+MZqQauTIOgToNCOmkfy6/x+GliAFl0=,tag:I9mLjJmKwKilSQG2D/cB4Q==,type:str]
                          type: ENC[AES256_GCM,data:hbYoI8lgTLA=,iv:CReTgqg6h+iUEJYRjnxRDl90SOf3YVlBHBo8S5gl9wA=,tag:W1jEGSY3oncC7AzMfQML7A==,type:str]
                          uid: ENC[AES256_GCM,data:uGzLjCio3Tk=,iv:Nhw6v8QNfGvoG5fMVK5fDp5Fn+izUrJzYCkBUDKTVnk=,tag:1/GtWDPvsIsbvOzBajghTQ==,type:str]
                        expression: ENC[AES256_GCM,data:2A==,iv:NRvqdnyxFJT0KVDCvtwyOk5SiUJRLNqECPBWVnsF5TU=,tag:2d2MQP2uJDGi5aon5SqIzQ==,type:str]
                        intervalMs: ENC[AES256_GCM,data:ghwn7g==,iv:FGow+6quyo/bcvKMP9qUrxb7i0hRKpxb+zP2di2eC6Y=,tag:SGJf+BIvUP7b76EWvDGZOg==,type:int]
                        maxDataPoints: ENC[AES256_GCM,data:QNViJ7k=,iv:vnmiLOSC0PqnDAtMuNRTwMPgGNmIf2u+X3T6tTM06Qk=,tag:v6qG861vBWT2X6HhZytjEA==,type:int]
                        reducer: ENC[AES256_GCM,data:1JLVqQ==,iv:hXwzYdRdqmIr3VNBQg4CnynfFZ8X3RcIcJJpjzZtlyA=,tag:RLBlsTA1A3Dy3W7/vpOYzQ==,type:str]
                        refId: ENC[AES256_GCM,data:9A==,iv:xe6BNy7osFFlHpdIHDzrA7j2OBbUWirTKJTx6SypVV0=,tag:A3qfVFUFDPCsu0vbloXZ/w==,type:str]
                        type: ENC[AES256_GCM,data:TW+PFXx9,iv:W0gh1UyhSxJUoIsiG4Cd8Htdhw9v655+Au/PtqR3NAU=,tag:1WQvVH5fAahQ03FIMb51fw==,type:str]
                  noDataState: OK
                  execErrState: Error
                  for: 20m
                  annotations:
                    runbook_url: https://runbooks.prometheus-operator.dev/runbooks/kubernetes/kubepersistentvolumefillingup
                    summary: |-
                      {{`The PersistentVolume claimed by {{ $labels.persistentvolumeclaim }}
                      in Namespace {{ $labels.namespace }}
                      {{ with $labels.cluster - }}
                      on Cluster {{ . }}
                      {{ - end }}
                      is only {{ $value | humanizePercentage }}
                      free.`}}
                  labels: {}
                  isPaused: false
                  notification_settings:
                    receiver: PagerDuty Warning
                - uid: cdz3yt59a0miob
                  title: KubePersistentVolumeErrors
                  condition: B
                  data:
                    - refId: ENC[AES256_GCM,data:dw==,iv:jvx74g1UMlyKdUNDwxHV6o2xuvSwTAvET6Pc/ZQ/mos=,tag:mb1qIpHugxyRR31fK4h3pw==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:4Ldh,iv:BQ/cNoc3I0j7WhX9RnMSSC7raRXXfX6HEmGEManffHg=,tag:9tiJe9MvOlly6c30UHOdsA==,type:int]
                        to: ENC[AES256_GCM,data:Eg==,iv:f41aYiMK4vilBC3Beh6aMmvAs6RCxA3vAQ1ocJgOHr0=,tag:ltLwMJXj69TEme9fFljJXQ==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:KkM44BHsGQIM4w==,iv:ajnlds7NRgEiqeMLZseTpIWPtcM7XMYQCiPjRzqyA6o=,tag:idt7FY1K3p3hL+epf+GdhQ==,type:str]
                      model:
                        editorMode: ENC[AES256_GCM,data:LW760A==,iv:sV3FjWNg8AEWkVjGYRmBEr5TOuFObHP1KEgdVprh2aQ=,tag:5rS1f7xk3k69eR9hY5apAw==,type:str]
                        expr: ENC[AES256_GCM,data:9cAo5O5GCitU3HObXXOmK4BByLc3w0gYMQvT1OQeLWNO6/wQ7dHXWX9+liHbBnAKX0egHZ0paFtcs2vMT9TKbHYpwDaoS9vQCC3YaW8a93lTzHu6ZGSEER1n,iv:UqUtz8/bkDh+7fgQKOBFmCT7tYkvrSMD7SReoqRRns8=,tag:1ME43d1CKmm/Sa1sK5CUFA==,type:str]
                        instant: ENC[AES256_GCM,data:ASDuhw==,iv:XGvAkufNnFT5IECScr5O3diiXC2uZIoM4k7KJrSpO9w=,tag:esFt99XW3BKEW223qbstCQ==,type:bool]
                        intervalMs: ENC[AES256_GCM,data:2XthHA==,iv:cJtCJ2208V0XwNkmx2xliAAhiUOsQ1W9NBj29QlCNvM=,tag:AjGcjGONtRZtrl4ncWRoOw==,type:int]
                        legendFormat: ENC[AES256_GCM,data:67DBs+VF,iv:xa9riRg1YQKhMnz0bIhxFiLwMx5xRTDat/flGAYKfnM=,tag:cqJU0sQQPo1fDK+DYK57Cg==,type:str]
                        maxDataPoints: ENC[AES256_GCM,data:JzBKf/8=,iv:3MsVxaC/63TzEq02H5oksWBIcfL7E6hEBsuCE+CC5AA=,tag:tAI8uv1t+f0j1eoUBLNCog==,type:int]
                        range: ENC[AES256_GCM,data:yWYaUIg=,iv:vuNPuik7euuJ/+VRNOjjPKMFQ3j1hBrEO5v3UF7FXHo=,tag:cJYS4fJG3Ro7zXiqtQ/DvA==,type:bool]
                        refId: ENC[AES256_GCM,data:aQ==,iv:dJoYiKAh6K1vNmzXtPah4Q8ulDpHYPCra3VjLnptpSM=,tag:OcaggkA5b2GNxRoL5QmWmg==,type:str]
                    - refId: ENC[AES256_GCM,data:FA==,iv:PIuSHxrQ4sRUHEF/L6qFtg3zi4xmxGWsqcpfgliL8mw=,tag:D5OiAr483hDwqSF5UucJEA==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:her7,iv:jpMU2TnBfnTNKIjpT0xpB7s92+HS8hw3IYjdEuIkj1c=,tag:5GLT4q+xriZh6574rO3IeQ==,type:int]
                        to: ENC[AES256_GCM,data:wA==,iv:qBbORm5FyhORvITavAMYeMAPgv5GOHNykGtPshXEqys=,tag:lsiFspYyd0qPmdpvJc3NTQ==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:CTdUmxFrwg4=,iv:9B8ysvKrKcO6V9etXPG1L4pYHZEB/WOi38yyyDVZrWo=,tag:gWa91WSrZs02tRDm1lSLLg==,type:str]
                      model:
                        conditions:
                          - evaluator:
                              params: []
                              type: ENC[AES256_GCM,data:zDI=,iv:dWCfCuPrDxzWyOBPy6YGZq8ednBOOgmLr7dGK6k/JXk=,tag:V7Cg8mlUG4c2DSJpqWEX5Q==,type:str]
                            operator:
                              type: ENC[AES256_GCM,data:waaA,iv:xRACT//EvCutrtjEGyYf+si5gDRR9KhY6rTQH3U0f54=,tag:I3FO6Qs+fLgN3PQ+8pBunQ==,type:str]
                            query:
                              params:
                                - ENC[AES256_GCM,data:OQ==,iv:m8TtJKSFMKAW49+iXt/xbTjcdAdV4lhswnUdeJfiO7k=,tag:gyJQ352Z5cVnuuZGBCMJaA==,type:str]
                            reducer:
                              params: []
                              type: ENC[AES256_GCM,data:l9m4WQ==,iv:zEnebo6bkeJkjdeTEUwQOa7SrtF9LwRdiS6sU1K+23Y=,tag:ZCT6mEvuK1JOxOK091QI/Q==,type:str]
                            type: ENC[AES256_GCM,data:wYSYwGo=,iv:OhqNfR2BjarrPT80I5C3hZ4kGsW5yBLOqXHuo+tPk3A=,tag:cz0hW1S/xAbcb3HapjVKXQ==,type:str]
                        datasource:
                          type: ENC[AES256_GCM,data:QQQB5cQwS+U=,iv:lfQR5Px5BJqwlw8boAWTl1RATVbjMKlq3Mcmtm+Bzj4=,tag:sYcrcu70OGm8u54iG3xptQ==,type:str]
                          uid: ENC[AES256_GCM,data:8SM8orSxLD8=,iv:4MyDGDKUe6eockvg5r9gFmWU8i2pDQrZLg09VLylknw=,tag:GNWO6sL/nLco38Kd+cfa0A==,type:str]
                        expression: ENC[AES256_GCM,data:ig==,iv:IW/+ViF5lBBd0drshGmtoejDaTUtChr6v+q4aueSVhk=,tag:U5Hiw4+0eaRYqFhJUsM51Q==,type:str]
                        intervalMs: ENC[AES256_GCM,data:nLBzqw==,iv:JXTSNNU8Ta7u7//y445gzzCi84Dkq+gf38aimmRhQ1A=,tag:XWJsTQcOUL8eDJBDgghRpA==,type:int]
                        maxDataPoints: ENC[AES256_GCM,data:n3hIhqY=,iv:x3xqbsj7cpIdJeitSYxKbYatQmFx+W5o1+cTKvP0OZc=,tag:r9JgHyoulg5GucbCTSlYUg==,type:int]
                        reducer: ENC[AES256_GCM,data:21fqEg==,iv:O0YFZ9vmZejGHVuJBGuPvg8K2AYB39q3uTBMrQ5aieY=,tag:qgwti79ce1x9UmIJ8FwBqQ==,type:str]
                        refId: ENC[AES256_GCM,data:9A==,iv:9JO/VADMfZMSuN0jNzH12cyuy2SlEDAf7YF3N22Re3s=,tag:u+3I8jGkFNQtBVYx1gvfpA==,type:str]
                        type: ENC[AES256_GCM,data:ukqBkF7v,iv:Xf1dJX4/rK0OkZbj2WA0xHGvJQDTXPJxbMXbH7vabvk=,tag:AsAVVK4RFp4MM6MPzmaE4Q==,type:str]
                  noDataState: OK
                  execErrState: Error
                  for: 20m
                  annotations:
                    runbook_url: https://runbooks.prometheus-operator.dev/runbooks/kubernetes/kubepersistentvolumeerrors
                    summary: |-
                      {{`The persistent volume {{ $labels.persistentvolume }}
                      {{ with $labels.cluster - }}
                      on Cluster {{ . }}
                      {{ - end }}
                      has status {{ $labels.phase }}`}}
                      .
                  isPaused: false
                - uid: cdz3ywkoiwgzka
                  title: KubePersistentVolumeInodesFillingUp
                  condition: B
                  data:
                    - refId: ENC[AES256_GCM,data:CA==,iv:CdIQ8R+q0JXwtarAr+aS5nsWowoxiJVN1Tp/Mq/KraI=,tag:B3OBrVU1yDyyghcXhm1ijg==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:gyoy,iv:wPG++CPgBDm7Drs8QLLkFq7fY9jx3rKfgg8eQ09jKCc=,tag:OdHtGPp/yjxHxxKk/F/IYg==,type:int]
                        to: ENC[AES256_GCM,data:wA==,iv:m4GBml66r/otKvM4f4zlNr1a+kAiF+R+LcH2eFZPWmQ=,tag:3GsDcikhzBwCF8Rhm3ca4A==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:4mwTSiyiCGShAA==,iv:RbMDdwdrFbufw8yWhmdbAty0iZ+KG4qYuEJzOuk+uh8=,tag:EsLjHFlX4X9zSJs9jrXPcQ==,type:str]
                      model:
                        editorMode: ENC[AES256_GCM,data:TeV01g==,iv:NH21DKyCUCodM3jeOZtK37Xnj3nBbWc4L3jiABuS1RI=,tag:7DDoSzzkwLefGf1SlLa46Q==,type:str]
                        expr: ENC[AES256_GCM,data:RM3a1QvOg3kWY+gDamkMDYrl3rxZV7e/rnGaOYrXaYP7Y1D8wR7nNcxIZsk4PfWXW/EonLg163uyx+50+qHwPruIaonBeK/4GPBodTY3DgvQ4KwFQEcmA4icNgKKq6PRzFmqBfDMQ84vg2pzXwTTJ2woZBqyxqKZg3by1TnYyvpoWHRXVTLX6vBSVNksWtJoJHRv5sH/sRpQX9JsZOn5XG0gTu+JUj+NziWS6JEvCBMrg9fCxduOlhtdoJf2is9Tda9mbTcyVNvVFs1vP9mybzl0vRDxafz+UwFGt2sB1gGnFfNUX9U4m8H+VplW6l6tOGjKDrTj/yzs3vQqQAvN7IeFkihXLpxTaJsLtw6/f3OYZ6QzveDlUtTUvttHMrsAQE7yyWL/0mN9KV7rB1yt+1Ae6By+51bHPNnIgFCFVZlAF7zGsU+H9uQYsCFOMgoV6B4tInYfFil+yIR/kguEupL36GFVHeK/yerGrNwxbXLdHhAZcrMkWVvKYevPVO8j+y5p8acc36h8uB6LU5Isn4Nsa1285bVmgtFUP7IQclItDmNmuvm2LZnckN+EOoxsBpmdq7C1Xi1AMSeeAgWWgF5TlmynQPnHLzCzq8mSGr+gljpygLs1nCbssQRtJqn1t+SotuaB2rukcBzoL92EjDQfJRFuk5gNEXlZIv3miJMDBriHY0aSdkl7NWRawvReglVE7cKVR+iYzi+AHlfHoO3uJHPWpx2j29MqyHKpHAI6hi2Sexb3YhHhCLhPJhnYa7OWCV6v6i3u0caR17kO5o0Tkgy7pxJ1JO0vqZ67ZBvp6YOUNq0EByo+mI06pKo4YrOK1aMx34SDjrfYU6X/l2Ye0VRfnJvHAz4PfsrFBDSK22MRQnersI6bLT7alLKyoZ8pz6qzgA==,iv:m5xSUtHnm5XHaypGRRBc0sHEVNHvSWdcuW6I9dV4oIc=,tag:pvD/JEcJKmd7n4yKm1JCmw==,type:str]
                        instant: ENC[AES256_GCM,data:wXWquQ==,iv:6aB0T+lapE5DrRuyjWQz7K36FLydxjDfQTJ9IHcjZWw=,tag:vSWno4AIMQbnsdmeDrYMzA==,type:bool]
                        intervalMs: ENC[AES256_GCM,data:MQlBfQ==,iv:D0x+9GUjiKtFSQ/vLllNXT/Nkmq27Ev68opbWC+wik8=,tag:WlFJ8KDR4ZcmfzOY1umBrA==,type:int]
                        legendFormat: ENC[AES256_GCM,data:UhxrOwgj,iv:VMP231ewUKHNLscUQSLvSSfzDivM4TCxdQHwLYawtWw=,tag:I1tCSgha3k+muV0ptz0a6g==,type:str]
                        maxDataPoints: ENC[AES256_GCM,data:s9aAgbo=,iv:/mtut1X8YMBBp8/olt86pf7pz9d9JwN1smIJAFgOH3M=,tag:TIMQXkNfbCp2vInYiRBSog==,type:int]
                        range: ENC[AES256_GCM,data:lNjLfh4=,iv:ASOND85V5YBsG6ZoBek6Xl9SgyaS6kginCOGM5C+owU=,tag:ggnlz5/inGslALwx9/o8Cg==,type:bool]
                        refId: ENC[AES256_GCM,data:6Q==,iv:PEu5hAn0/RQu4HgzLLP+ZlMh9wiRi204pw1+BYPeGSc=,tag:a2bFtGzW2AX35B7Z9dkt5g==,type:str]
                    - refId: ENC[AES256_GCM,data:/g==,iv:+Cni0npz8PXzQAtDI9I92sDJAB48Z5X/2tIIvl+4dYg=,tag:iNWthrvzFdG5eK8q11Pptg==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:JJqR,iv:/lvI+fhqCeRjSlb8/RMxh1a8Kq/W1Y6UXHOx8XNIO2E=,tag:krBqokj4QnqoaEihrLRxcw==,type:int]
                        to: ENC[AES256_GCM,data:fg==,iv:1MSnIUw1JQ83ODtgw/rK29Z5rsBPQPHjWPDZsiT/hs8=,tag:mxg/y6KejjVMWl2yZ0z+qw==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:9GJLPv+GBRI=,iv:XcGRCwsrR/G04ejmFbUamNhlQ9T6UmHVmIdljC28FM8=,tag:tC8uAmGoYw4qCL5v+4FGRQ==,type:str]
                      model:
                        conditions:
                          - evaluator:
                              params: []
                              type: ENC[AES256_GCM,data:B/c=,iv:XWg0Ou6EGHeZy5spGkfugWf6OBL1SNDAhHP+hTy8zrw=,tag:fU9+ySc0MPsvX3XjZP0IDw==,type:str]
                            operator:
                              type: ENC[AES256_GCM,data:poU6,iv:CS8eFi2+JvyE+/KgEIGeDLaQPmioN6O/bMSS7c9TfV8=,tag:ofP/zWYEjKoHqlzaIkEvqw==,type:str]
                            query:
                              params:
                                - ENC[AES256_GCM,data:yA==,iv:7SVu+x5aYJtDASjDey5vaU1RpejSbSy56w98b2/VlEI=,tag:XURTsgB7RWxKhythUG4DSA==,type:str]
                            reducer:
                              params: []
                              type: ENC[AES256_GCM,data:QXfEaw==,iv:mHIqoWVKsFC5N15zM7hu8HwJhDwipe5g51/SbdrFr90=,tag:OBjF5Rf6uzHkCcfjbgC/2Q==,type:str]
                            type: ENC[AES256_GCM,data:r3J62vQ=,iv:IkmaRqDnYOgdSLA3AkeJmqS7k+a0k3uzLSrvNGecCF4=,tag:rrXfELcudmuRUKIUmnfNDA==,type:str]
                        datasource:
                          type: ENC[AES256_GCM,data:EiABah7Ea0U=,iv:3whmKGBbYtOz8SYXlbhR2zohrePNBtYe3BcdldUwi+8=,tag:WiTaIEmzsR1gAKdWVgcpeg==,type:str]
                          uid: ENC[AES256_GCM,data:Qo+oBqVeUrQ=,iv:gNwytNW3dfHGtJ2VtNz85p8CEUK0Jck7fmrmbPFI0ng=,tag:qlQCBgCF+g0CK9uMLYn+Cg==,type:str]
                        expression: ENC[AES256_GCM,data:5Q==,iv:7ld0IzO3etIBbB1h8XM4KD6wuYdzl1EybgEQHfpu5Q0=,tag:c+S6mbOiPzDt9WHlreYb1g==,type:str]
                        intervalMs: ENC[AES256_GCM,data:rehuYQ==,iv:MOfIv6c/3aay0BTtoeHRbBVl3K/8zB5Wzd1Dj1ucBo4=,tag:Qjs8FMmHYfzXIieMBSriKw==,type:int]
                        maxDataPoints: ENC[AES256_GCM,data:4QHNvzE=,iv:m+GvPH1tnST1PknyVmXjuY9J8SKgKXpNkMxqo5zTS9g=,tag:FDh/6p5TU27tjYOBnJmc1A==,type:int]
                        reducer: ENC[AES256_GCM,data:xhZH6A==,iv:mgCd64iiMRPfbQ9kgj6R/ewDyFnFRdI6dl4+xmh+FwA=,tag:ymncHVFhPbpGD7WEAwz0+A==,type:str]
                        refId: ENC[AES256_GCM,data:9g==,iv:7joCmG5IReCXO0BRxCH8PIJKYI/2Cp1mmpWIi/tklB0=,tag:Lny0OSVDwcaOQBfQgUaShQ==,type:str]
                        type: ENC[AES256_GCM,data:HKb4smB8,iv:fvKEt4yJ8pmZNTsJJsZhR0ZKuwmh+n8VcUSBlIfpGoM=,tag:0wrQZQyKJClzJsOiwoMYxw==,type:str]
                  noDataState: OK
                  execErrState: Error
                  for: 20m
                  annotations:
                    runbook_url: https://runbooks.prometheus-operator.dev/runbooks/kubernetes/kubepersistentvolumeinodesfillingup
                    summary: |-
                      {{`Based on recent sampling, the PersistentVolume claimed by {{ $labels.persistentvolumeclaim }}
                      in Namespace {{ $labels.namespace }}
                      {{ with $labels.cluster - }}
                      on Cluster {{ . }}
                      {{ - end }}
                      is expected to run out of inodes within four days. Currently {{ $value | humanizePercentage }}
                      of its inodes are free.`}}
                  isPaused: false
                  notification_settings:
                    receiver: PagerDuty Warning
            - orgId: 1
              name: Kube-system
              folder: Cluster
              interval: 1m
              rules:
                - uid: d2b94d3a-2483-4be4-bf2a-2fd9f9fac406
                  title: Coredns Failure
                  condition: Thresh
                  isPaused: false
                  data:
                    - refId: ENC[AES256_GCM,data:35fhe/Y=,iv:zeJ0NbZvPFoXHnNflFDaeDuGS2WiaFEpVmThSGwOCLo=,tag:IIX8lGLCCDfh6Q1QfFgCXQ==,type:str]
                      queryType: ENC[AES256_GCM,data:k+Sp03o=,iv:mffsz2IpcaH2UmzdqcDJ05S0LrViG5XfhoI6PVJKfOA=,tag:khxzaUbNldWnzXVppcWm5g==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:bmzu,iv:gh1HBDidw7ygdd4eTy2Rn9iS/ArsNVG9krsTlHwoV3c=,tag:O/CxDByQS7Gz4k4QW0HbJw==,type:int]
                        to: ENC[AES256_GCM,data:hw==,iv:ux3HUZLCgwqHhwRJltHC7LEyEjBZ69qTjHrH8tvAnJI=,tag:mpaNy+03W7tLHuQJNjasWw==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:8oX+TA==,iv:mgBgYM7Bjpghw6SrNZ6LRdqXxIc0mwacRmDGvwQjt/Y=,tag:SM1KhmuI9u5Iw3Mb9l2jOw==,type:str]
                      model:
                        datasource:
                          type: ENC[AES256_GCM,data:z+809w==,iv:hUYLaoKkh408crgyqiKRoLVbWIGXeYZeA6xXEsCQAIg=,tag:mHAxKGrHZ4HsS650SZDp5A==,type:str]
                          uid: ENC[AES256_GCM,data:zmlWgg==,iv:qElE0Sg5EGbmculcNabXT96qtguVOXNHtqN9ZADafIU=,tag:Mu4QmfsLdsulZb5Q7g/5hg==,type:str]
                        editorMode: ENC[AES256_GCM,data:U7l9J4CSqA==,iv:glFseWz+3TLFUAcRWf+e0pkNMBoNDFy2ONZP4Vdw7E4=,tag:/qix4VVvwAoNbTPIrjlTDA==,type:str]
                        expr: ENC[AES256_GCM,data:MNitfFViMcRWPJ0wJpKAcbPAHYyk6EUpf2fhBoS4lbwFuTs+x5LPq9wMI/G+gkXlQFRopAG8cseScMTiDzOqlcVIgNjs,iv:+BXRPMs4JIlFTijW8o/N8/dwnVzV3sqJHy1TB/FSX4I=,tag:MkXvFHuEUBfYHf0GNXebcg==,type:str]
                        hide: ENC[AES256_GCM,data:sycHpKg=,iv:p+9PtrzItWBiAF5BwboMcdWwSl+BUr+0L4rENSxp5Y4=,tag:feFpIjoIjUV4HwXxAonKAA==,type:bool]
                        intervalMs: ENC[AES256_GCM,data:rWpwoA==,iv:Jlo8FlAM37FZdl04e8bXpD8kPqBSXN8L1kN4MDFaR6s=,tag:rAOmvb311eAM+zFEa3vb2w==,type:int]
                        maxDataPoints: ENC[AES256_GCM,data:HGNByL8=,iv:XstgiforsPPrTW49JQudqM3k1XTT3Q4ndv5pRtM9Wng=,tag:1gccFFH4UebVN8L8lXwOZw==,type:int]
                        queryType: ENC[AES256_GCM,data:t/FRl1c=,iv:9ApI5tLk5Bit8pJht6e7b8lJnegSTPlKhrPYZHZz+Yw=,tag:4PIGEv/CEvrR0cVbspd58w==,type:str]
                        range: ENC[AES256_GCM,data:qCb0wg==,iv:1XA2eEcQJfy+O8K3SCxJr3D1FSYAs3hYJp3GRwJmx/A=,tag:j+1qNAk1CSQkUHZIUpPVtg==,type:bool]
                        refId: ENC[AES256_GCM,data:zMcGPX8=,iv:sjgVzhyGke6RzPa5P/hBUqYgLMgwxTcnxg03t1q6Vog=,tag:/lZKSgHmZ30W9DK89mY7Jw==,type:str]
                    - refId: ENC[AES256_GCM,data:psqM70i0,iv:G1FKHB3NG9uEUfwV4ExpLoEPvWxGBvl+c9QZ7qfuXTw=,tag:MIDiEJjdhJjVU9TQdMV/Iw==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:wN7E,iv:4NbSziO+clROpNtKtH/uwolBtJ17doBOHTrEFo4iqdo=,tag:i9B71JuUc1co6M48AyxLEA==,type:int]
                        to: ENC[AES256_GCM,data:+A==,iv:50KqG36xN/MEGRS5aCtGZMVpqYa0j0zqAUMK7lrl1NI=,tag:pkHUswx2Y74P31o0yuTxqg==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:Lo5tg5532qI=,iv:uea263Wv1vzO5WFDM/2x09tSYMWpeMBu8CTFBMu8/s0=,tag:+n3JgQwPLzkh+CjKMTub1w==,type:str]
                      model:
                        conditions:
                          - evaluator:
                              params:
                                - ENC[AES256_GCM,data:ww==,iv:lXoh9ifnsMd/S2Jxt+UWh5hH2akhMOoU+7xi94fP1Tk=,tag:RG6qwd0QiKYZ9d5NTc2VZA==,type:int]
                              type: ENC[AES256_GCM,data:oNc=,iv:Nz/LA2M6VBeN2YRgXo7iz3D7dbHztKjn1NSeS7+jMAo=,tag:4HDO5ZrnMvbSg8WOyLpSUw==,type:str]
                            operator:
                              type: ENC[AES256_GCM,data:CAIP,iv:posNyb5ofHrPbeWm19oOH3D5rloa34CcrHmAEkLGGLI=,tag:c3PjJawddMU7bgPuo/0/Rg==,type:str]
                            query:
                              params:
                                - ENC[AES256_GCM,data:og==,iv:bqpnklqas9d7Kg5SOU7Z7SBgJq5go9jk6+gKn/70J+4=,tag:JPh+MhbqYk3x5PRB72tesA==,type:str]
                            reducer:
                              params: []
                              type: ENC[AES256_GCM,data:yjzBeg==,iv:8WOMZOg7P0zwIVrFLD5+N4diDSREGOoPDj/9Av29qSw=,tag:NLi63WnMDvq1ARSVW1iUgw==,type:str]
                            type: ENC[AES256_GCM,data:5BlBQ6M=,iv:G2/2fun9Vo9VmUW/KOH9gaNaLfAzNXe1VRAtD99AluE=,tag:z9bxjsf++UKkh6W+bWpbKg==,type:str]
                        datasource:
                          type: ENC[AES256_GCM,data:aVmJnxfwA/4=,iv:coZ59W9eY62+N5+0O9UuZX2NsG3mFufF56yEZBGJuWY=,tag:ArEK3nFtSfMWLhPQ4bO4AQ==,type:str]
                          uid: ENC[AES256_GCM,data:w2ZSvu8Sxt0=,iv:DefxgLl6HQG0BCJvU874ThCfUA9n1VSRPLli2/Z5Aik=,tag:AXZAB6az7O5XJFsMg40PDA==,type:str]
                        expression: ENC[AES256_GCM,data:LA==,iv:jzOn16rADPuZZLsKA2qESKxNEQtMjUXj+qzjuY+hLVQ=,tag:FM90f9Ly71jpagfMgYXcIw==,type:str]
                        hide: ENC[AES256_GCM,data:o6Cr2vw=,iv:xqruoFY7lJNgRKBXNqYcm7ezSeHugnj9Tjqx591s+1Y=,tag:0akB3Ec52rjYxK3PHSUlZg==,type:bool]
                        intervalMs: ENC[AES256_GCM,data:z1wDBg==,iv:AvHa4sPCBh0ACA2QS9mh4hDWMRcoZYtbL6EgvoEsySw=,tag:XPE6M9eIXM/PqfL9xdrJNw==,type:int]
                        maxDataPoints: ENC[AES256_GCM,data:0xSiJRQ=,iv:FxJaBE5KwP1/7qPHUIe7+yOYHfQrLvJF9deFr9uZg14=,tag:XZ5aXm9S0YeSyyE2orVcUQ==,type:int]
                        refId: ENC[AES256_GCM,data:b/nLKZfZ,iv:bcsw+IA4WdH0WJJzontncmGs2oD5q3AqU29fLX7qVR4=,tag:YzH18u56xhFprgiwz9SdzA==,type:str]
                        type: ENC[AES256_GCM,data:yC72MsKjSFde,iv:qXryOuQ5lYDj8nDkZRjTNs5eFvjUCxmzlCdlc0pUaJE=,tag:CVcoyg12Q8q3G3NHN9jI0w==,type:str]
                    - refId: ENC[AES256_GCM,data:ng==,iv:TXlQpAD6FV4Hrm7aEX/zOYb8itgZ7/kaNFYIfw89mcM=,tag:YJjGctv/5Dau7sPVwH0ZNA==,type:str]
                      relativeTimeRange:
                        from: ENC[AES256_GCM,data:6dC4,iv:D17mrtd6vLwOKkHY+VyuNWwA/Hl+usKz9cWiZjxWhO0=,tag:wtAug30SaJtrjJMRZdq95w==,type:int]
                        to: ENC[AES256_GCM,data:Hw==,iv:JwObSu+Eo8Q5qCVU0/sA3mjKsj5bIUuRKQ0WfWSPXf4=,tag:/fEk8W9uHaPeNJDERARe8w==,type:int]
                      datasourceUid: ENC[AES256_GCM,data:x/oMqYJIa4E=,iv:SDYp87vX2LKu2lsiMxxaZenTXA9Y8e92iyQnxrnm0lM=,tag:1EWpgkSNU4F5xYNZj1a7zA==,type:str]
                      model:
                        conditions:
                          - evaluator:
                              params:
                                - ENC[AES256_GCM,data:UQ==,iv:NCaPnJ1a+eLchmCyKB3u1qxa4LZxMwcSnX/gpidKRZA=,tag:7GJ0l54cRLampyfVXrSD4Q==,type:int]
                                - ENC[AES256_GCM,data:Vg==,iv:fxjB+fn1gl3E4eWIZnb0wnZCYTIG5Ub1ag4/E0tqYvU=,tag:ihAinxSsoo7Zr1TqQkDV7g==,type:int]
                              type: ENC[AES256_GCM,data:zpM=,iv:h8wOg89kisMFGrDFR9eSg6VdHehKD88851TuXDPanNQ=,tag:9GqTD6bv+HkPTt6d1rpfuA==,type:str]
                            operator:
                              type: ENC[AES256_GCM,data:GkJ4,iv:ss9EGu2Bcw9xWJol50oTD/EqvnNDz/ZiyZnbtnc3xic=,tag:p8A/j3fVNsN+m7BEMS/AKw==,type:str]
                            query:
                              params: []
                            reducer:
                              params: []
                              type: ENC[AES256_GCM,data:X879,iv:HMSk36fJpOvg7RIwjqFmHWiFmB9GFLaxwC790RLJQWw=,tag:5ioDTk85OgrkM+/ztA+8ig==,type:str]
                            type: ENC[AES256_GCM,data:SIB1Q1s=,iv:lxdn1MU8nNrPlneEW/ekwsBJTAcnxFy8uXOTKTOSifc=,tag:se+rcL8+w3YAVlZiq99Oiw==,type:str]
                        datasource:
                          name: ENC[AES256_GCM,data:fHZ0x9l7VGa7Xg==,iv:ykuYAJyZuHp9IJbkg+D+o4kXS8mq4yVfp44kpZXRpPI=,tag:bDKRxkc1qnqV/dcQCe1V/g==,type:str]
                          type: ENC[AES256_GCM,data:LdcQIN6vmrw=,iv:9MpToqVMe51AQBfMoRVg4yHF3m0Nxs249VZ0dCVhXbw=,tag:SJOyzk0w/G7flDfAZn46hw==,type:str]
                          uid: ENC[AES256_GCM,data:CLKqGlJ7+64=,iv:pGzFUlzW7UrHH9kSfRPmmFj4Go3pwwFv8K+fbS1pvJ8=,tag:kbbcFS577obGhlE7WG+gPg==,type:str]
                        expression: ENC[AES256_GCM,data:LR84d1Y=,iv:+BXq29zbV5OXvNDCQA+9C1rIQLR3wIwZ57pvmI3MkI4=,tag:zEw4zt4a586bgM6gk7NRsA==,type:str]
                        intervalMs: ENC[AES256_GCM,data:IY4fOw==,iv:+D3QUSprRpQMVYv8sGbyq07U8QXzeXwlSZY/sa9mLO0=,tag:wuv87CzKl4rA2iOh7jUC9w==,type:int]
                        maxDataPoints: ENC[AES256_GCM,data:zv0iT6o=,iv:+GdI1KrJ84t/IxJDS7x288hhwFhNGyGMOgPAtag0osw=,tag:njYnclhjP8LKIVrAabpdIw==,type:int]
                        reducer: ENC[AES256_GCM,data:XZpVAg==,iv:eMA749P3KKzSiWLJWwqsSViMcoFNegniLNXDfw4tw0Q=,tag:YczuHfISve9GL/TYxHpsbg==,type:str]
                        refId: ENC[AES256_GCM,data:2A==,iv:Xwdjs6/Ws5dQA5GWGMygxgEoHE7PHnzNubBrp5QBjok=,tag:KhsYDWRmCUaj/FMYxxCINg==,type:str]
                        settings:
                          mode: ENC[AES256_GCM,data:bBOU1LOHFwUt,iv:4L4FVsZrBgoeN2+Dv8tC/C49/UBTc3rBGCjvQW17nH0=,tag:6zpDnjt0QjeyFGahVdpDgg==,type:str]
                          replaceWithValue: ENC[AES256_GCM,data:Nw==,iv:vJvKHPuBdntxlallAx3yaM696q3U9j9vFLFXWWg4EtI=,tag:QgtLrkBbm3bjE9jSLCmHJw==,type:int]
                        type: ENC[AES256_GCM,data:UAGy/QZn,iv:mqiAGyHlVGybSGp3unvlD4gE9+WysL5zubmdOLSxXkk=,tag:g5ssB8DtyCqRNk/vdNfhBw==,type:str]
                  noDataState: OK
                  execErrState: Error
                  for: 2m
                  annotations:
                    summary: High amount of i/o timeouts in coredns
        contactpoints.yaml:
          apiVersion: 1
          contactPoints:
            - orgId: 1
              name: MidnightThoughts Ops
              receivers:
                - uid: "1"
                  name: MidnightThoughts Ops
                  type: email
                  sendReminder: true
                  frequency: 1m
                  settings:
                    addresses: ops@nordgedanken.dev;mtrnord@nordgedanken.dev;mtrnord1@gmail.com
            - orgId: 1
              name: PagerDuty
              receivers:
                - uid: adz30e8814wshd
                  type: pagerduty
                  settings:
                    integrationKey: ENC[AES256_GCM,data:GfuBLkyLmTq5nGMP0GQr6qMc8a+4rdVZI799AxpwAlE=,iv:As7kZLkhRCiMQhgqIj0JC/KEl0oW8pRBZYrSpU56D4c=,tag:ZS5JXrMZYKPDeyST0TZMCQ==,type:str]
                    url: https://events.eu.pagerduty.com/v2/enqueue
                  disableResolveMessage: false
            - orgId: 1
              name: PagerDuty Warning
              receivers:
                - uid: pg_warning
                  type: pagerduty
                  settings:
                    integrationKey: ENC[AES256_GCM,data:DgvC6BL5sVko2ou+5gPX82ul32cB/+kUGRncdYWh0IQ=,iv:xERTWJPsSTgoCn4x4tF/rI93h60MtPibpkzLo/w9/kY=,tag:VaFo9gUpaR1ybfpf8Rp7IA==,type:str]
                    severity: warning
                    url: https://events.eu.pagerduty.com/v2/enqueue
                  disableResolveMessage: false
            - orgId: 1
              name: PagerDuty Draupnir4All
              receivers:
                - uid: 3
                  type: pagerduty
                  settings:
                    integrationKey: ENC[AES256_GCM,data:3+Mq9JcSNn4jKnYqJjru1HevsOtmVz0mRVgCe9Tn1g4=,iv:RvPw4Eye+LnusdnEMEROyUr/QoI9wOlDFTvIJKplAhc=,tag:0ptaNc+qgpMl6nk3ugZpcA==,type:str]
                    url: https://events.eu.pagerduty.com/v2/enqueue
                  disableResolveMessage: false
            - orgId: 1
              name: PagerDuty Draupnir4All Warning
              receivers:
                - uid: de02at943dxxcf
                  type: pagerduty
                  settings:
                    integrationKey: ENC[AES256_GCM,data:rJaObUqzPhWa3AEyleIJUHe8gATllwCOfhT2cleikkA=,iv:w3qYquXw8xmT/ogjGjNCajFGzepMaYoyWp7wzFLGM9g=,tag:TAcLLayR3PdkKzqx0fI2Lg==,type:str]
                    severity: warning
                    url: https://events.eu.pagerduty.com/v2/enqueue
                  disableResolveMessage: false
        policies.yaml:
          apiVersion: 1
          policies:
            - orgId: 1
              receiver: PagerDuty
              group_by:
                - grafana_folder
                - alertname
              routes:
                - receiver: PagerDuty
                  object_matchers:
                    - - service_id
                      - '!='
                      - draupnir4all
                - receiver: PagerDuty Draupnir4All
                  object_matchers:
                    - - service_id
                      - =
                      - draupnir4all
                - receiver: MidnightThoughts Ops
      plugins:
        - grafana-piechart-panel
        - grafana-worldmap-panel
        #- https://grafana.com/api/plugins/parseable-parseable-datasource/versions/1.0.2/download;parseable-parseable-datasource
        - isovalent-hubble-datasource
        - isovalent-hubbleprocessancestry-panel
        - chaosmeshorg-datasource
      smtp:
        existingSecret: smtp-auth-secret
      extraSecretMounts:
        - name: auth-generic-oauth-secret-mount
          secretName: auth-generic-oauth-secret
          defaultMode: 288
          mountPath: /etc/secrets/auth_generic_oauth
          readOnly: true
      defaultDashboardsTimezone: Europe/Berlin
      datasources:
        datasources.yaml:
          apiVersion: 1
          datasources:
            - name: Prometheus
              type: prometheus
              uid: prometheus
              url: http://vmselect-vm-victoria-metrics-k8s-stack.monitoring.svc:8481/select/0/prometheus
              access: proxy
            - name: ChaosMesh
              type: chaosmeshorg-datasource
              url: http://chaos-dashboard.chaosmesh.svc.cluster.local:2333
              access: proxy
              isDefault: false
            - name: Hubble
              type: isovalent-hubble-datasource
              uid: hubble
              access: proxy
              url: http://hubble-relay.kube-system.svc.cluster.local:80
              isDefault: false
              jsonData:
                serviceMap:
                  datasourceUid: prometheus
                prometheusDatasourceUid: prometheus
            - name: Postgres-d4all
              type: postgres
              uid: postgres-d4all
              access: proxy
              url: pg-cluster-v2-ro.postgres-cluster.svc.cluster.local:5432
              database: draupnir_synapse
              user: grafana-ro
              secureJsonData:
                password: ENC[AES256_GCM,data:k1I9Zc+jRra3gCP1WXhPP7J+PmzTMfcxUwd/CdLJMqGPAivjVvhnk7qNAcMjcuFja45fAsiqQAdqlm4AGP8f5g==,iv:e7rDdORZvEIXiS9wm2GCfuXl1kct8uv2Wf5PETAjl08=,tag:dXMiqTOnyiyzpsBfeN2S2A==,type:str]
              isDefault: false
              jsonData:
                sslmode: disable
                maxIdleConnsAuto: true
                timescaledb: false
                maxOpenConns: 10
                maxIdleConns: 10
            - name: Postgres-connectivity-tester
              type: postgres
              uid: postgres-connectivity-tester
              access: proxy
              url: pg-cluster-v2-ro.postgres-cluster.svc.cluster.local:5432
              database: connectivity-tester
              user: connectivity-tester
              secureJsonData:
                password: ENC[AES256_GCM,data:htRd8wmvSSA5Ci5PAH2+pnD0sx/b5UHEJDZj4rPt3wHHhQRdj0cs9/KLXs/4s8wUcm5udqu4ng0oUVOGc8P3ig==,iv:/Ib0flct6K5jf5pOE0JApwXdZJM/2wmWJNEVZwuC1qA=,tag:z4bSA2zy2k93QucAkP8ipg==,type:str]
              isDefault: false
              jsonData:
                sslmode: disable
                maxIdleConnsAuto: true
                timescaledb: false
                maxOpenConns: 10
                maxIdleConns: 10
      ingress:
        enabled: false
        annotations:
          cert-manager.io/cluster-issuer: letsencrypt-dns
          external-dns.alpha.kubernetes.io/hostname: grafana.midnightthoughts.space
        hosts:
          - grafana.midnightthoughts.space
        tls:
          - secretName: grafana.midnightthoughts.space
            hosts:
              - grafana.midnightthoughts.space
      grafana.ini:
        server:
          root_url: https://grafana.midnightthoughts.space
        smtp:
          enabled: true
          host: smtp.fastmail.com:465
          from_address: ops@nordgedanken.dev
        paths:
          data: ENC[AES256_GCM,data:+lLtZcOPP2nywJs/pncOIyM=,iv:8D7gPzpkhKvDgjFBY8NEhjAFIhdRe63i32voU/H6L3M=,tag:ggx+X0Pcr6BDNWjuysLfaw==,type:str]
          logs: /var/log/grafana
          plugins: /var/lib/grafana/plugins
          provisioning: /etc/grafana/provisioning
        analytics:
          check_for_updates: true
        log:
          mode: console
        grafana_net:
          url: https://grafana.net
        auth:
          signout_redirect_url: https://auth.midnightthoughts.space/application/o/grafana/end-session/
          oauth_auto_login: true
        auth.generic_oauth:
          name: authentik
          enabled: true
          client_id: ENC[AES256_GCM,data:sRop14bSQ3c5N1ZBueM5MF3w7X88Q8PbYZKgMl8WnUIielsndSvvFRaDe4TCcDwARcE=,iv:AJ7Ctvca+2l1VD9WZ3uk+3q8qnWc+Tsyy0FnTmA3wzs=,tag:7TxCaJfb8bx5Dk9IobApQg==,type:str]
          client_secret: ENC[AES256_GCM,data:iKf5qFTSop7I7kCHM2SxcEWu4XGBogWo+zB0BxIRIMd2G1gzhzq/m+XYaN7VT0YX6FEDHxI2,iv:h/lgHE6foKqRsriIKVgjyu0qrpIyIrqRPHfXXo2JlHQ=,tag:s2kYoV1ch1qh0REJcSPalQ==,type:str]
          scopes: openid email profile
          auth_url: https://auth.midnightthoughts.space/application/o/authorize/
          token_url: https://auth.midnightthoughts.space/application/o/token/
          api_url: https://auth.midnightthoughts.space/application/o/userinfo/
          role_attribute_path: contains(groups, 'Grafana Admins') && 'Admin' || contains(groups, 'Grafana Editors') && 'Editor' || 'Viewer'
      imageRenderer:
        enabled: true
    kubeProxy:
      enabled: false
  postRenderers:
    - kustomize:
        patches:
          - target:
              # Ignore these objects from Flux diff as they are mutated from chart hooks
              kind: (ValidatingWebhookConfiguration|MutatingWebhookConfiguration)
              name: kube-prometheus-stack-admission
            patch: |
              - op: add
                path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                value: disabled
          - target:
              # Ignore these objects from Flux diff as they are mutated at apply time but not at dry-run time
              kind: PrometheusRule
            patch: |
              - op: add
                path: /metadata/annotations/helm.toolkit.fluxcd.io~1driftDetection
                value: disabled
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBJK0EwbkNrcUwxQjloeVpY
        aDk3UURma3I1VUJqMml3emU2Y2FPQ1dyZkUwCjNnU3FpOHZtdzdsU2NUUlBaaUNv
        YXNtbU1lS2pEVXQwSENyYXhYTzJCdmsKLS0tIEZkYTlQczltNm9kZ2cxc0FIL0hX
        YUZGQWx6djZzcU5Tc3VhclVVaU8vaEUKfeXSyyim38eqDvrAhCsC2sCRogQZxZ+L
        rDsObW0Y+AiL0htVwTgWg+pjJT8pkLhg0wZDM0y2VG9X0qJwhPCL/w==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2026-02-26T11:17:24Z"
  mac: ENC[AES256_GCM,data:rZih9uQbS0RE0I8znqqK6+VOakeK4xRbX5GpXsrftch8tCkftZqYKYzqgGRaAx7/lv0jyVcj1yv6+5WKTB+kVb7Zcpp9RWMt7lHpdBRy2U0fumc5VoAoydq2G5u76EAiKI5lSRTVBnJUpGuXklp5L9a8tUnhOx/e3yr1kCi8JQM=,iv:ikq6Hz0nM0CIHtQAte7RPFe7AD1CyIYji9leK6uxtgU=,tag:O3cYTUmObzP28X7sjRsKFg==,type:str]
  pgp: []
  encrypted_regex: ^(apiKey|appUserPassword|otelUserPassword|harborAdminPassword|totpVaultKey|kimaiAppSecret|kimaiAdminPassword|GITHUB_CLIENT_ID|GITHUB_CLIENT_SECRET|GITHUB_PRIVATE_KEY|woosh|root_password|rspamd_password|pgdb_password|matrix_access_token|pgdb_remote_url|hmac_secret_key|adminPassword|adminEmail|jenkinsAdminEmail|securityRealm|gerrit.config|routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword|adminPassword|adminUser|adminEmail|emailPassword|secretKey|appId|clientSecret|webhookSecret)$
  version: 3.9.1
---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: vm-grafana
  namespace: monitoring
spec:
  parentRefs:
    - name: envoy-gateway
      namespace: envoy-gateway
  hostnames:
    - grafana.midnightthoughts.space
  rules:
    - backendRefs:
        - name: vm-grafana
          port: 80
      timeouts:
        request: 240s
        backendRequest: 0s
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1esjyg2qfy49awv0ptkzvpk425adczjr38m37w2mmcahzc4p8n54sll2nzh
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBJK0EwbkNrcUwxQjloeVpY
        aDk3UURma3I1VUJqMml3emU2Y2FPQ1dyZkUwCjNnU3FpOHZtdzdsU2NUUlBaaUNv
        YXNtbU1lS2pEVXQwSENyYXhYTzJCdmsKLS0tIEZkYTlQczltNm9kZ2cxc0FIL0hX
        YUZGQWx6djZzcU5Tc3VhclVVaU8vaEUKfeXSyyim38eqDvrAhCsC2sCRogQZxZ+L
        rDsObW0Y+AiL0htVwTgWg+pjJT8pkLhg0wZDM0y2VG9X0qJwhPCL/w==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2026-02-26T11:17:24Z"
  mac: ENC[AES256_GCM,data:rZih9uQbS0RE0I8znqqK6+VOakeK4xRbX5GpXsrftch8tCkftZqYKYzqgGRaAx7/lv0jyVcj1yv6+5WKTB+kVb7Zcpp9RWMt7lHpdBRy2U0fumc5VoAoydq2G5u76EAiKI5lSRTVBnJUpGuXklp5L9a8tUnhOx/e3yr1kCi8JQM=,iv:ikq6Hz0nM0CIHtQAte7RPFe7AD1CyIYji9leK6uxtgU=,tag:O3cYTUmObzP28X7sjRsKFg==,type:str]
  pgp: []
  encrypted_regex: ^(apiKey|appUserPassword|otelUserPassword|harborAdminPassword|totpVaultKey|kimaiAppSecret|kimaiAdminPassword|GITHUB_CLIENT_ID|GITHUB_CLIENT_SECRET|GITHUB_PRIVATE_KEY|woosh|root_password|rspamd_password|pgdb_password|matrix_access_token|pgdb_remote_url|hmac_secret_key|adminPassword|adminEmail|jenkinsAdminEmail|securityRealm|gerrit.config|routing_key|DATABASE_URL|SMTP_PASSWORD|SECRET_KEY_BASE|admin_password|extraCommands|key|clickhouseDatabaseURL|databaseURL|client_id|client_secret|secret_key_base|otp_secret|private_key|public_key|primaryKey|deterministicKey|keyDerivationSalt|token|clientId|secretKey|installationId|installationKey|uriOverride|adminToken.value|password.value|sql_password|erlangCookie|AUTHENTICATION_PASSWORD|ROOM_API_SECRET_KEY|adminPassword|configPassword|adminUser|configUser|MAIL_PASSWORD|APP_KEY|api_key|api_secret|keys|livekit_key|livekit_secret|secret_key|admin_pass|admin_email|mariadbPassword|mariadbRootPassword|privateKey|data|stringData|PASSWD|password|pass|postgresPassword|postgresqlPassword|redminePassword|smtpPassword|registration_shared_secret|shared_secret|secret|admin_token|integrationKey|rootPassword|adminPassword|adminUser|adminEmail|emailPassword|secretKey|appId|clientSecret|webhookSecret)$
  version: 3.9.1
